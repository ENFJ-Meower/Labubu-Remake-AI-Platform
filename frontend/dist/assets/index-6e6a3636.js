var Ra=Object.defineProperty;var Ma=(e,t,s)=>t in e?Ra(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var ce=(e,t,s)=>(Ma(e,typeof t!="symbol"?t+"":t,s),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function un(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const de={},Zt=[],nt=()=>{},Oa=()=>!1,ho=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),fn=e=>e.startsWith("onUpdate:"),ke=Object.assign,hn=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Da=Object.prototype.hasOwnProperty,re=(e,t)=>Da.call(e,t),V=Array.isArray,Qt=e=>Ds(e)==="[object Map]",ls=e=>Ds(e)==="[object Set]",Vn=e=>Ds(e)==="[object Date]",G=e=>typeof e=="function",be=e=>typeof e=="string",ht=e=>typeof e=="symbol",me=e=>e!==null&&typeof e=="object",Gi=e=>(me(e)||G(e))&&G(e.then)&&G(e.catch),Ji=Object.prototype.toString,Ds=e=>Ji.call(e),Wa=e=>Ds(e).slice(8,-1),Yi=e=>Ds(e)==="[object Object]",pn=e=>be(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ws=un(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),po=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Fa=/-(\w)/g,Ze=po(e=>e.replace(Fa,(t,s)=>s?s.toUpperCase():"")),Ua=/\B([A-Z])/g,Ht=po(e=>e.replace(Ua,"-$1").toLowerCase()),go=po(e=>e.charAt(0).toUpperCase()+e.slice(1)),$o=po(e=>e?`on${go(e)}`:""),Dt=(e,t)=>!Object.is(e,t),Gs=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Bo=(e,t,s,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:s})},eo=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let jn;const mo=()=>jn||(jn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Mt(e){if(V(e)){const t={};for(let s=0;s<e.length;s++){const o=e[s],n=be(o)?Va(o):Mt(o);if(n)for(const i in n)t[i]=n[i]}return t}else if(be(e)||me(e))return e}const Ha=/;(?![^(]*\))/g,Ba=/:([^]+)/,za=/\/\*[^]*?\*\//g;function Va(e){const t={};return e.replace(za,"").split(Ha).forEach(s=>{if(s){const o=s.split(Ba);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function J(e){let t="";if(be(e))t=e;else if(V(e))for(let s=0;s<e.length;s++){const o=J(e[s]);o&&(t+=o+" ")}else if(me(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const ja="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",qa=un(ja);function Ki(e){return!!e||e===""}function Ga(e,t){if(e.length!==t.length)return!1;let s=!0;for(let o=0;s&&o<e.length;o++)s=Ws(e[o],t[o]);return s}function Ws(e,t){if(e===t)return!0;let s=Vn(e),o=Vn(t);if(s||o)return s&&o?e.getTime()===t.getTime():!1;if(s=ht(e),o=ht(t),s||o)return e===t;if(s=V(e),o=V(t),s||o)return s&&o?Ga(e,t):!1;if(s=me(e),o=me(t),s||o){if(!s||!o)return!1;const n=Object.keys(e).length,i=Object.keys(t).length;if(n!==i)return!1;for(const a in e){const l=e.hasOwnProperty(a),c=t.hasOwnProperty(a);if(l&&!c||!l&&c||!Ws(e[a],t[a]))return!1}}return String(e)===String(t)}function gn(e,t){return e.findIndex(s=>Ws(s,t))}const Xi=e=>!!(e&&e.__v_isRef===!0),f=e=>be(e)?e:e==null?"":V(e)||me(e)&&(e.toString===Ji||!G(e.toString))?Xi(e)?f(e.value):JSON.stringify(e,Zi,2):String(e),Zi=(e,t)=>Xi(t)?Zi(e,t.value):Qt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[o,n],i)=>(s[xo(o,i)+" =>"]=n,s),{})}:ls(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>xo(s))}:ht(t)?xo(t):me(t)&&!V(t)&&!Yi(t)?String(t):t,xo=(e,t="")=>{var s;return ht(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Fe;class Ja{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Fe,!t&&Fe&&(this.index=(Fe.scopes||(Fe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Fe;try{return Fe=this,t()}finally{Fe=s}}}on(){++this._on===1&&(this.prevScope=Fe,Fe=this)}off(){this._on>0&&--this._on===0&&(Fe=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,o;for(s=0,o=this.effects.length;s<o;s++)this.effects[s].stop();for(this.effects.length=0,s=0,o=this.cleanups.length;s<o;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,o=this.scopes.length;s<o;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Ya(){return Fe}let pe;const Io=new WeakSet;class Qi{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Fe&&Fe.active&&Fe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Io.has(this)&&(Io.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||tr(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,qn(this),sr(this);const t=pe,s=it;pe=this,it=!0;try{return this.fn()}finally{or(this),pe=t,it=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)wn(t);this.deps=this.depsTail=void 0,qn(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Io.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){zo(this)&&this.run()}get dirty(){return zo(this)}}let er=0,ys,bs;function tr(e,t=!1){if(e.flags|=8,t){e.next=bs,bs=e;return}e.next=ys,ys=e}function mn(){er++}function vn(){if(--er>0)return;if(bs){let t=bs;for(bs=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;ys;){let t=ys;for(ys=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=s}}if(e)throw e}function sr(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function or(e){let t,s=e.depsTail,o=s;for(;o;){const n=o.prevDep;o.version===-1?(o===s&&(s=n),wn(o),Ka(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=n}e.deps=t,e.depsTail=s}function zo(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(nr(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function nr(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===xs)||(e.globalVersion=xs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!zo(e))))return;e.flags|=2;const t=e.dep,s=pe,o=it;pe=e,it=!0;try{sr(e);const n=e.fn(e._value);(t.version===0||Dt(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{pe=s,it=o,or(e),e.flags&=-3}}function wn(e,t=!1){const{dep:s,prevSub:o,nextSub:n}=e;if(o&&(o.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=o,e.nextSub=void 0),s.subs===e&&(s.subs=o,!o&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)wn(i,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Ka(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let it=!0;const ir=[];function Ct(){ir.push(it),it=!1}function Tt(){const e=ir.pop();it=e===void 0?!0:e}function qn(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=pe;pe=void 0;try{t()}finally{pe=s}}}let xs=0;class Xa{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class yn{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!pe||!it||pe===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==pe)s=this.activeLink=new Xa(pe,this),pe.deps?(s.prevDep=pe.depsTail,pe.depsTail.nextDep=s,pe.depsTail=s):pe.deps=pe.depsTail=s,rr(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const o=s.nextDep;o.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=o),s.prevDep=pe.depsTail,s.nextDep=void 0,pe.depsTail.nextDep=s,pe.depsTail=s,pe.deps===s&&(pe.deps=o)}return s}trigger(t){this.version++,xs++,this.notify(t)}notify(t){mn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{vn()}}}function rr(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)rr(o)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Vo=new WeakMap,jt=Symbol(""),jo=Symbol(""),Is=Symbol("");function xe(e,t,s){if(it&&pe){let o=Vo.get(e);o||Vo.set(e,o=new Map);let n=o.get(s);n||(o.set(s,n=new yn),n.map=o,n.key=s),n.track()}}function wt(e,t,s,o,n,i){const a=Vo.get(e);if(!a){xs++;return}const l=c=>{c&&c.trigger()};if(mn(),t==="clear")a.forEach(l);else{const c=V(e),d=c&&pn(s);if(c&&s==="length"){const u=Number(o);a.forEach((p,v)=>{(v==="length"||v===Is||!ht(v)&&v>=u)&&l(p)})}else switch((s!==void 0||a.has(void 0))&&l(a.get(s)),d&&l(a.get(Is)),t){case"add":c?d&&l(a.get("length")):(l(a.get(jt)),Qt(e)&&l(a.get(jo)));break;case"delete":c||(l(a.get(jt)),Qt(e)&&l(a.get(jo)));break;case"set":Qt(e)&&l(a.get(jt));break}}vn()}function Yt(e){const t=ie(e);return t===e?t:(xe(t,"iterate",Is),Xe(e)?t:t.map(Ae))}function vo(e){return xe(e=ie(e),"iterate",Is),e}const Za={__proto__:null,[Symbol.iterator](){return Eo(this,Symbol.iterator,Ae)},concat(...e){return Yt(this).concat(...e.map(t=>V(t)?Yt(t):t))},entries(){return Eo(this,"entries",e=>(e[1]=Ae(e[1]),e))},every(e,t){return gt(this,"every",e,t,void 0,arguments)},filter(e,t){return gt(this,"filter",e,t,s=>s.map(Ae),arguments)},find(e,t){return gt(this,"find",e,t,Ae,arguments)},findIndex(e,t){return gt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return gt(this,"findLast",e,t,Ae,arguments)},findLastIndex(e,t){return gt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return gt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Po(this,"includes",e)},indexOf(...e){return Po(this,"indexOf",e)},join(e){return Yt(this).join(e)},lastIndexOf(...e){return Po(this,"lastIndexOf",e)},map(e,t){return gt(this,"map",e,t,void 0,arguments)},pop(){return ds(this,"pop")},push(...e){return ds(this,"push",e)},reduce(e,...t){return Gn(this,"reduce",e,t)},reduceRight(e,...t){return Gn(this,"reduceRight",e,t)},shift(){return ds(this,"shift")},some(e,t){return gt(this,"some",e,t,void 0,arguments)},splice(...e){return ds(this,"splice",e)},toReversed(){return Yt(this).toReversed()},toSorted(e){return Yt(this).toSorted(e)},toSpliced(...e){return Yt(this).toSpliced(...e)},unshift(...e){return ds(this,"unshift",e)},values(){return Eo(this,"values",Ae)}};function Eo(e,t,s){const o=vo(e),n=o[t]();return o!==e&&!Xe(e)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const Qa=Array.prototype;function gt(e,t,s,o,n,i){const a=vo(e),l=a!==e&&!Xe(e),c=a[t];if(c!==Qa[t]){const p=c.apply(e,i);return l?Ae(p):p}let d=s;a!==e&&(l?d=function(p,v){return s.call(this,Ae(p),v,e)}:s.length>2&&(d=function(p,v){return s.call(this,p,v,e)}));const u=c.call(a,d,o);return l&&n?n(u):u}function Gn(e,t,s,o){const n=vo(e);let i=s;return n!==e&&(Xe(e)?s.length>3&&(i=function(a,l,c){return s.call(this,a,l,c,e)}):i=function(a,l,c){return s.call(this,a,Ae(l),c,e)}),n[t](i,...o)}function Po(e,t,s){const o=ie(e);xe(o,"iterate",Is);const n=o[t](...s);return(n===-1||n===!1)&&_n(s[0])?(s[0]=ie(s[0]),o[t](...s)):n}function ds(e,t,s=[]){Ct(),mn();const o=ie(e)[t].apply(e,s);return vn(),Tt(),o}const el=un("__proto__,__v_isRef,__isVue"),ar=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ht));function tl(e){ht(e)||(e=String(e));const t=ie(this);return xe(t,"has",e),t.hasOwnProperty(e)}class lr{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,o){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return o===(n?i?ul:fr:i?ur:dr).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const a=V(t);if(!n){let c;if(a&&(c=Za[s]))return c;if(s==="hasOwnProperty")return tl}const l=Reflect.get(t,s,Ee(t)?t:o);return(ht(s)?ar.has(s):el(s))||(n||xe(t,"get",s),i)?l:Ee(l)?a&&pn(s)?l:l.value:me(l)?n?pr(l):Wt(l):l}}class cr extends lr{constructor(t=!1){super(!1,t)}set(t,s,o,n){let i=t[s];if(!this._isShallow){const c=Ft(i);if(!Xe(o)&&!Ft(o)&&(i=ie(i),o=ie(o)),!V(t)&&Ee(i)&&!Ee(o))return c?!1:(i.value=o,!0)}const a=V(t)&&pn(s)?Number(s)<t.length:re(t,s),l=Reflect.set(t,s,o,Ee(t)?t:n);return t===ie(n)&&(a?Dt(o,i)&&wt(t,"set",s,o):wt(t,"add",s,o)),l}deleteProperty(t,s){const o=re(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&o&&wt(t,"delete",s,void 0),n}has(t,s){const o=Reflect.has(t,s);return(!ht(s)||!ar.has(s))&&xe(t,"has",s),o}ownKeys(t){return xe(t,"iterate",V(t)?"length":jt),Reflect.ownKeys(t)}}class sl extends lr{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const ol=new cr,nl=new sl,il=new cr(!0);const qo=e=>e,Bs=e=>Reflect.getPrototypeOf(e);function rl(e,t,s){return function(...o){const n=this.__v_raw,i=ie(n),a=Qt(i),l=e==="entries"||e===Symbol.iterator&&a,c=e==="keys"&&a,d=n[e](...o),u=s?qo:t?to:Ae;return!t&&xe(i,"iterate",c?jo:jt),{next(){const{value:p,done:v}=d.next();return v?{value:p,done:v}:{value:l?[u(p[0]),u(p[1])]:u(p),done:v}},[Symbol.iterator](){return this}}}}function zs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function al(e,t){const s={get(n){const i=this.__v_raw,a=ie(i),l=ie(n);e||(Dt(n,l)&&xe(a,"get",n),xe(a,"get",l));const{has:c}=Bs(a),d=t?qo:e?to:Ae;if(c.call(a,n))return d(i.get(n));if(c.call(a,l))return d(i.get(l));i!==a&&i.get(n)},get size(){const n=this.__v_raw;return!e&&xe(ie(n),"iterate",jt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,a=ie(i),l=ie(n);return e||(Dt(n,l)&&xe(a,"has",n),xe(a,"has",l)),n===l?i.has(n):i.has(n)||i.has(l)},forEach(n,i){const a=this,l=a.__v_raw,c=ie(l),d=t?qo:e?to:Ae;return!e&&xe(c,"iterate",jt),l.forEach((u,p)=>n.call(i,d(u),d(p),a))}};return ke(s,e?{add:zs("add"),set:zs("set"),delete:zs("delete"),clear:zs("clear")}:{add(n){!t&&!Xe(n)&&!Ft(n)&&(n=ie(n));const i=ie(this);return Bs(i).has.call(i,n)||(i.add(n),wt(i,"add",n,n)),this},set(n,i){!t&&!Xe(i)&&!Ft(i)&&(i=ie(i));const a=ie(this),{has:l,get:c}=Bs(a);let d=l.call(a,n);d||(n=ie(n),d=l.call(a,n));const u=c.call(a,n);return a.set(n,i),d?Dt(i,u)&&wt(a,"set",n,i):wt(a,"add",n,i),this},delete(n){const i=ie(this),{has:a,get:l}=Bs(i);let c=a.call(i,n);c||(n=ie(n),c=a.call(i,n)),l&&l.call(i,n);const d=i.delete(n);return c&&wt(i,"delete",n,void 0),d},clear(){const n=ie(this),i=n.size!==0,a=n.clear();return i&&wt(n,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=rl(n,e,t)}),s}function bn(e,t){const s=al(e,t);return(o,n,i)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?o:Reflect.get(re(s,n)&&n in o?s:o,n,i)}const ll={get:bn(!1,!1)},cl={get:bn(!1,!0)},dl={get:bn(!0,!1)};const dr=new WeakMap,ur=new WeakMap,fr=new WeakMap,ul=new WeakMap;function fl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function hl(e){return e.__v_skip||!Object.isExtensible(e)?0:fl(Wa(e))}function Wt(e){return Ft(e)?e:kn(e,!1,ol,ll,dr)}function hr(e){return kn(e,!1,il,cl,ur)}function pr(e){return kn(e,!0,nl,dl,fr)}function kn(e,t,s,o,n){if(!me(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=hl(e);if(i===0)return e;const a=n.get(e);if(a)return a;const l=new Proxy(e,i===2?o:s);return n.set(e,l),l}function es(e){return Ft(e)?es(e.__v_raw):!!(e&&e.__v_isReactive)}function Ft(e){return!!(e&&e.__v_isReadonly)}function Xe(e){return!!(e&&e.__v_isShallow)}function _n(e){return e?!!e.__v_raw:!1}function ie(e){const t=e&&e.__v_raw;return t?ie(t):e}function pl(e){return!re(e,"__v_skip")&&Object.isExtensible(e)&&Bo(e,"__v_skip",!0),e}const Ae=e=>me(e)?Wt(e):e,to=e=>me(e)?pr(e):e;function Ee(e){return e?e.__v_isRef===!0:!1}function je(e){return gr(e,!1)}function gl(e){return gr(e,!0)}function gr(e,t){return Ee(e)?e:new ml(e,t)}class ml{constructor(t,s){this.dep=new yn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:ie(t),this._value=s?t:Ae(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,o=this.__v_isShallow||Xe(t)||Ft(t);t=o?t:ie(t),Dt(t,s)&&(this._rawValue=t,this._value=o?t:Ae(t),this.dep.trigger())}}function ts(e){return Ee(e)?e.value:e}const vl={get:(e,t,s)=>t==="__v_raw"?e:ts(Reflect.get(e,t,s)),set:(e,t,s,o)=>{const n=e[t];return Ee(n)&&!Ee(s)?(n.value=s,!0):Reflect.set(e,t,s,o)}};function mr(e){return es(e)?e:new Proxy(e,vl)}class wl{constructor(t,s,o){this.fn=t,this.setter=s,this._value=void 0,this.dep=new yn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=xs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&pe!==this)return tr(this,!0),!0}get value(){const t=this.dep.track();return nr(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function yl(e,t,s=!1){let o,n;return G(e)?o=e:(o=e.get,n=e.set),new wl(o,n,s)}const Vs={},so=new WeakMap;let Vt;function bl(e,t=!1,s=Vt){if(s){let o=so.get(s);o||so.set(s,o=[]),o.push(e)}}function kl(e,t,s=de){const{immediate:o,deep:n,once:i,scheduler:a,augmentJob:l,call:c}=s,d=W=>n?W:Xe(W)||n===!1||n===0?yt(W,1):yt(W);let u,p,v,y,T=!1,I=!1;if(Ee(e)?(p=()=>e.value,T=Xe(e)):es(e)?(p=()=>d(e),T=!0):V(e)?(I=!0,T=e.some(W=>es(W)||Xe(W)),p=()=>e.map(W=>{if(Ee(W))return W.value;if(es(W))return d(W);if(G(W))return c?c(W,2):W()})):G(e)?t?p=c?()=>c(e,2):e:p=()=>{if(v){Ct();try{v()}finally{Tt()}}const W=Vt;Vt=u;try{return c?c(e,3,[y]):e(y)}finally{Vt=W}}:p=nt,t&&n){const W=p,X=n===!0?1/0:n;p=()=>yt(W(),X)}const h=Ya(),A=()=>{u.stop(),h&&h.active&&hn(h.effects,u)};if(i&&t){const W=t;t=(...X)=>{W(...X),A()}}let L=I?new Array(e.length).fill(Vs):Vs;const F=W=>{if(!(!(u.flags&1)||!u.dirty&&!W))if(t){const X=u.run();if(n||T||(I?X.some((ve,ee)=>Dt(ve,L[ee])):Dt(X,L))){v&&v();const ve=Vt;Vt=u;try{const ee=[X,L===Vs?void 0:I&&L[0]===Vs?[]:L,y];L=X,c?c(t,3,ee):t(...ee)}finally{Vt=ve}}}else u.run()};return l&&l(F),u=new Qi(p),u.scheduler=a?()=>a(F,!1):F,y=W=>bl(W,!1,u),v=u.onStop=()=>{const W=so.get(u);if(W){if(c)c(W,4);else for(const X of W)X();so.delete(u)}},t?o?F(!0):L=u.run():a?a(F.bind(null,!0),!0):u.run(),A.pause=u.pause.bind(u),A.resume=u.resume.bind(u),A.stop=A,A}function yt(e,t=1/0,s){if(t<=0||!me(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,Ee(e))yt(e.value,t,s);else if(V(e))for(let o=0;o<e.length;o++)yt(e[o],t,s);else if(ls(e)||Qt(e))e.forEach(o=>{yt(o,t,s)});else if(Yi(e)){for(const o in e)yt(e[o],t,s);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&yt(e[o],t,s)}return e}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Fs(e,t,s,o){try{return o?e(...o):e()}catch(n){wo(n,t,s)}}function pt(e,t,s,o){if(G(e)){const n=Fs(e,t,s,o);return n&&Gi(n)&&n.catch(i=>{wo(i,t,s)}),n}if(V(e)){const n=[];for(let i=0;i<e.length;i++)n.push(pt(e[i],t,s,o));return n}}function wo(e,t,s,o=!0){const n=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||de;if(t){let l=t.parent;const c=t.proxy,d=`https://vuejs.org/error-reference/#runtime-${s}`;for(;l;){const u=l.ec;if(u){for(let p=0;p<u.length;p++)if(u[p](e,c,d)===!1)return}l=l.parent}if(i){Ct(),Fs(i,null,10,[e,c,d]),Tt();return}}_l(e,s,n,o,a)}function _l(e,t,s,o=!0,n=!1){if(n)throw e;console.error(e)}const Ne=[];let dt=-1;const ss=[];let Nt=null,Kt=0;const vr=Promise.resolve();let oo=null;function Sn(e){const t=oo||vr;return e?t.then(this?e.bind(this):e):t}function Sl(e){let t=dt+1,s=Ne.length;for(;t<s;){const o=t+s>>>1,n=Ne[o],i=Es(n);i<e||i===e&&n.flags&2?t=o+1:s=o}return t}function An(e){if(!(e.flags&1)){const t=Es(e),s=Ne[Ne.length-1];!s||!(e.flags&2)&&t>=Es(s)?Ne.push(e):Ne.splice(Sl(t),0,e),e.flags|=1,wr()}}function wr(){oo||(oo=vr.then(br))}function Al(e){V(e)?ss.push(...e):Nt&&e.id===-1?Nt.splice(Kt+1,0,e):e.flags&1||(ss.push(e),e.flags|=1),wr()}function Jn(e,t,s=dt+1){for(;s<Ne.length;s++){const o=Ne[s];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;Ne.splice(s,1),s--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function yr(e){if(ss.length){const t=[...new Set(ss)].sort((s,o)=>Es(s)-Es(o));if(ss.length=0,Nt){Nt.push(...t);return}for(Nt=t,Kt=0;Kt<Nt.length;Kt++){const s=Nt[Kt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Nt=null,Kt=0}}const Es=e=>e.id==null?e.flags&2?-1:1/0:e.id;function br(e){const t=nt;try{for(dt=0;dt<Ne.length;dt++){const s=Ne[dt];s&&!(s.flags&8)&&(s.flags&4&&(s.flags&=-2),Fs(s,s.i,s.i?15:14),s.flags&4||(s.flags&=-2))}}finally{for(;dt<Ne.length;dt++){const s=Ne[dt];s&&(s.flags&=-2)}dt=-1,Ne.length=0,yr(),oo=null,(Ne.length||ss.length)&&br()}}let Je=null,kr=null;function no(e){const t=Je;return Je=e,kr=e&&e.type.__scopeId||null,t}function Ge(e,t=Je,s){if(!t||e._n)return e;const o=(...n)=>{o._d&&oi(-1);const i=no(t);let a;try{a=e(...n)}finally{no(i),o._d&&oi(1)}return a};return o._n=!0,o._c=!0,o._d=!0,o}function ue(e,t){if(Je===null)return e;const s=_o(Je),o=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[i,a,l,c=de]=t[n];i&&(G(i)&&(i={mounted:i,updated:i}),i.deep&&yt(a),o.push({dir:i,instance:s,value:a,oldValue:void 0,arg:l,modifiers:c}))}return e}function Bt(e,t,s,o){const n=e.dirs,i=t&&t.dirs;for(let a=0;a<n.length;a++){const l=n[a];i&&(l.oldValue=i[a].value);let c=l.dir[o];c&&(Ct(),pt(c,s,8,[e.el,l,e,t]),Tt())}}const Cl=Symbol("_vte"),Tl=e=>e.__isTeleport;function Cn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Cn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function _r(e,t){return G(e)?(()=>ke({name:e.name},t,{setup:e}))():e}function Sr(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function ks(e,t,s,o,n=!1){if(V(e)){e.forEach((T,I)=>ks(T,t&&(V(t)?t[I]:t),s,o,n));return}if(_s(o)&&!n){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&ks(e,t,s,o.component.subTree);return}const i=o.shapeFlag&4?_o(o.component):o.el,a=n?null:i,{i:l,r:c}=e,d=t&&t.r,u=l.refs===de?l.refs={}:l.refs,p=l.setupState,v=ie(p),y=p===de?()=>!1:T=>re(v,T);if(d!=null&&d!==c&&(be(d)?(u[d]=null,y(d)&&(p[d]=null)):Ee(d)&&(d.value=null)),G(c))Fs(c,l,12,[a,u]);else{const T=be(c),I=Ee(c);if(T||I){const h=()=>{if(e.f){const A=T?y(c)?p[c]:u[c]:c.value;n?V(A)&&hn(A,i):V(A)?A.includes(i)||A.push(i):T?(u[c]=[i],y(c)&&(p[c]=u[c])):(c.value=[i],e.k&&(u[e.k]=c.value))}else T?(u[c]=a,y(c)&&(p[c]=a)):I&&(c.value=a,e.k&&(u[e.k]=a))};a?(h.id=-1,qe(h,s)):h()}}}mo().requestIdleCallback;mo().cancelIdleCallback;const _s=e=>!!e.type.__asyncLoader,Ar=e=>e.type.__isKeepAlive;function $l(e,t){Cr(e,"a",t)}function xl(e,t){Cr(e,"da",t)}function Cr(e,t,s=Ie){const o=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(yo(t,o,s),s){let n=s.parent;for(;n&&n.parent;)Ar(n.parent.vnode)&&Il(o,t,s,n),n=n.parent}}function Il(e,t,s,o){const n=yo(t,e,o,!0);$r(()=>{hn(o[t],n)},s)}function yo(e,t,s=Ie,o=!1){if(s){const n=s[e]||(s[e]=[]),i=t.__weh||(t.__weh=(...a)=>{Ct();const l=Us(s),c=pt(t,s,e,a);return l(),Tt(),c});return o?n.unshift(i):n.push(i),i}}const $t=e=>(t,s=Ie)=>{(!Ls||e==="sp")&&yo(e,(...o)=>t(...o),s)},El=$t("bm"),Tr=$t("m"),Pl=$t("bu"),Nl=$t("u"),Ll=$t("bum"),$r=$t("um"),Rl=$t("sp"),Ml=$t("rtg"),Ol=$t("rtc");function Dl(e,t=Ie){yo("ec",e,t)}const xr="components";function Ps(e,t){return Fl(xr,e,!0,t)||e}const Wl=Symbol.for("v-ndc");function Fl(e,t,s=!0,o=!1){const n=Je||Ie;if(n){const i=n.type;if(e===xr){const l=Cc(i,!1);if(l&&(l===t||l===Ze(t)||l===go(Ze(t))))return i}const a=Yn(n[e]||i[e],t)||Yn(n.appContext[e],t);return!a&&o?i:a}}function Yn(e,t){return e&&(e[t]||e[Ze(t)]||e[go(Ze(t))])}function K(e,t,s,o){let n;const i=s&&s[o],a=V(e);if(a||be(e)){const l=a&&es(e);let c=!1,d=!1;l&&(c=!Xe(e),d=Ft(e),e=vo(e)),n=new Array(e.length);for(let u=0,p=e.length;u<p;u++)n[u]=t(c?d?to(Ae(e[u])):Ae(e[u]):e[u],u,void 0,i&&i[u])}else if(typeof e=="number"){n=new Array(e);for(let l=0;l<e;l++)n[l]=t(l+1,l,void 0,i&&i[l])}else if(me(e))if(e[Symbol.iterator])n=Array.from(e,(l,c)=>t(l,c,void 0,i&&i[c]));else{const l=Object.keys(e);n=new Array(l.length);for(let c=0,d=l.length;c<d;c++){const u=l[c];n[c]=t(e[u],u,c,i&&i[c])}}else n=[];return s&&(s[o]=n),n}const Go=e=>e?Jr(e)?_o(e):Go(e.parent):null,Ss=ke(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Go(e.parent),$root:e=>Go(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Tn(e),$forceUpdate:e=>e.f||(e.f=()=>{An(e.update)}),$nextTick:e=>e.n||(e.n=Sn.bind(e.proxy)),$watch:e=>rc.bind(e)}),No=(e,t)=>e!==de&&!e.__isScriptSetup&&re(e,t),Ul={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:o,data:n,props:i,accessCache:a,type:l,appContext:c}=e;let d;if(t[0]!=="$"){const y=a[t];if(y!==void 0)switch(y){case 1:return o[t];case 2:return n[t];case 4:return s[t];case 3:return i[t]}else{if(No(o,t))return a[t]=1,o[t];if(n!==de&&re(n,t))return a[t]=2,n[t];if((d=e.propsOptions[0])&&re(d,t))return a[t]=3,i[t];if(s!==de&&re(s,t))return a[t]=4,s[t];Jo&&(a[t]=0)}}const u=Ss[t];let p,v;if(u)return t==="$attrs"&&xe(e.attrs,"get",""),u(e);if((p=l.__cssModules)&&(p=p[t]))return p;if(s!==de&&re(s,t))return a[t]=4,s[t];if(v=c.config.globalProperties,re(v,t))return v[t]},set({_:e},t,s){const{data:o,setupState:n,ctx:i}=e;return No(n,t)?(n[t]=s,!0):o!==de&&re(o,t)?(o[t]=s,!0):re(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:o,appContext:n,propsOptions:i}},a){let l;return!!s[a]||e!==de&&re(e,a)||No(t,a)||(l=i[0])&&re(l,a)||re(o,a)||re(Ss,a)||re(n.config.globalProperties,a)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:re(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Kn(e){return V(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Jo=!0;function Hl(e){const t=Tn(e),s=e.proxy,o=e.ctx;Jo=!1,t.beforeCreate&&Xn(t.beforeCreate,e,"bc");const{data:n,computed:i,methods:a,watch:l,provide:c,inject:d,created:u,beforeMount:p,mounted:v,beforeUpdate:y,updated:T,activated:I,deactivated:h,beforeDestroy:A,beforeUnmount:L,destroyed:F,unmounted:W,render:X,renderTracked:ve,renderTriggered:ee,errorCaptured:Me,serverPrefetch:Qe,expose:_e,inheritAttrs:et,components:Ue,directives:Ce,filters:tt}=t;if(d&&Bl(d,o,null),a)for(const te in a){const Z=a[te];G(Z)&&(o[te]=Z.bind(s))}if(n){const te=n.call(s,s);me(te)&&(e.data=Wt(te))}if(Jo=!0,i)for(const te in i){const Z=i[te],He=G(Z)?Z.bind(s,s):G(Z.get)?Z.get.bind(s,s):nt,Ke=!G(Z)&&G(Z.set)?Z.set.bind(s):nt,Be=Le({get:He,set:Ke});Object.defineProperty(o,te,{enumerable:!0,configurable:!0,get:()=>Be.value,set:Te=>Be.value=Te})}if(l)for(const te in l)Ir(l[te],o,s,te);if(c){const te=G(c)?c.call(s):c;Reflect.ownKeys(te).forEach(Z=>{Js(Z,te[Z])})}u&&Xn(u,e,"c");function we(te,Z){V(Z)?Z.forEach(He=>te(He.bind(s))):Z&&te(Z.bind(s))}if(we(El,p),we(Tr,v),we(Pl,y),we(Nl,T),we($l,I),we(xl,h),we(Dl,Me),we(Ol,ve),we(Ml,ee),we(Ll,L),we($r,W),we(Rl,Qe),V(_e))if(_e.length){const te=e.exposed||(e.exposed={});_e.forEach(Z=>{Object.defineProperty(te,Z,{get:()=>s[Z],set:He=>s[Z]=He})})}else e.exposed||(e.exposed={});X&&e.render===nt&&(e.render=X),et!=null&&(e.inheritAttrs=et),Ue&&(e.components=Ue),Ce&&(e.directives=Ce),Qe&&Sr(e)}function Bl(e,t,s=nt){V(e)&&(e=Yo(e));for(const o in e){const n=e[o];let i;me(n)?"default"in n?i=St(n.from||o,n.default,!0):i=St(n.from||o):i=St(n),Ee(i)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):t[o]=i}}function Xn(e,t,s){pt(V(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,s)}function Ir(e,t,s,o){let n=o.includes(".")?Br(s,o):()=>s[o];if(be(e)){const i=t[e];G(i)&&Ys(n,i)}else if(G(e))Ys(n,e.bind(s));else if(me(e))if(V(e))e.forEach(i=>Ir(i,t,s,o));else{const i=G(e.handler)?e.handler.bind(s):t[e.handler];G(i)&&Ys(n,i,e)}}function Tn(e){const t=e.type,{mixins:s,extends:o}=t,{mixins:n,optionsCache:i,config:{optionMergeStrategies:a}}=e.appContext,l=i.get(t);let c;return l?c=l:!n.length&&!s&&!o?c=t:(c={},n.length&&n.forEach(d=>io(c,d,a,!0)),io(c,t,a)),me(t)&&i.set(t,c),c}function io(e,t,s,o=!1){const{mixins:n,extends:i}=t;i&&io(e,i,s,!0),n&&n.forEach(a=>io(e,a,s,!0));for(const a in t)if(!(o&&a==="expose")){const l=zl[a]||s&&s[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const zl={data:Zn,props:Qn,emits:Qn,methods:ms,computed:ms,beforeCreate:Pe,created:Pe,beforeMount:Pe,mounted:Pe,beforeUpdate:Pe,updated:Pe,beforeDestroy:Pe,beforeUnmount:Pe,destroyed:Pe,unmounted:Pe,activated:Pe,deactivated:Pe,errorCaptured:Pe,serverPrefetch:Pe,components:ms,directives:ms,watch:jl,provide:Zn,inject:Vl};function Zn(e,t){return t?e?function(){return ke(G(e)?e.call(this,this):e,G(t)?t.call(this,this):t)}:t:e}function Vl(e,t){return ms(Yo(e),Yo(t))}function Yo(e){if(V(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Pe(e,t){return e?[...new Set([].concat(e,t))]:t}function ms(e,t){return e?ke(Object.create(null),e,t):t}function Qn(e,t){return e?V(e)&&V(t)?[...new Set([...e,...t])]:ke(Object.create(null),Kn(e),Kn(t??{})):t}function jl(e,t){if(!e)return t;if(!t)return e;const s=ke(Object.create(null),e);for(const o in t)s[o]=Pe(e[o],t[o]);return s}function Er(){return{app:null,config:{isNativeTag:Oa,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ql=0;function Gl(e,t){return function(o,n=null){G(o)||(o=ke({},o)),n!=null&&!me(n)&&(n=null);const i=Er(),a=new WeakSet,l=[];let c=!1;const d=i.app={_uid:ql++,_component:o,_props:n,_container:null,_context:i,_instance:null,version:$c,get config(){return i.config},set config(u){},use(u,...p){return a.has(u)||(u&&G(u.install)?(a.add(u),u.install(d,...p)):G(u)&&(a.add(u),u(d,...p))),d},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),d},component(u,p){return p?(i.components[u]=p,d):i.components[u]},directive(u,p){return p?(i.directives[u]=p,d):i.directives[u]},mount(u,p,v){if(!c){const y=d._ceVNode||ge(o,n);return y.appContext=i,v===!0?v="svg":v===!1&&(v=void 0),p&&t?t(y,u):e(y,u,v),c=!0,d._container=u,u.__vue_app__=d,_o(y.component)}},onUnmount(u){l.push(u)},unmount(){c&&(pt(l,d._instance,16),e(null,d._container),delete d._container.__vue_app__)},provide(u,p){return i.provides[u]=p,d},runWithContext(u){const p=os;os=d;try{return u()}finally{os=p}}};return d}}let os=null;function Js(e,t){if(Ie){let s=Ie.provides;const o=Ie.parent&&Ie.parent.provides;o===s&&(s=Ie.provides=Object.create(o)),s[e]=t}}function St(e,t,s=!1){const o=Ie||Je;if(o||os){let n=os?os._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&G(t)?t.call(o&&o.proxy):t}}const Pr={},Nr=()=>Object.create(Pr),Lr=e=>Object.getPrototypeOf(e)===Pr;function Jl(e,t,s,o=!1){const n={},i=Nr();e.propsDefaults=Object.create(null),Rr(e,t,n,i);for(const a in e.propsOptions[0])a in n||(n[a]=void 0);s?e.props=o?n:hr(n):e.type.props?e.props=n:e.props=i,e.attrs=i}function Yl(e,t,s,o){const{props:n,attrs:i,vnode:{patchFlag:a}}=e,l=ie(n),[c]=e.propsOptions;let d=!1;if((o||a>0)&&!(a&16)){if(a&8){const u=e.vnode.dynamicProps;for(let p=0;p<u.length;p++){let v=u[p];if(bo(e.emitsOptions,v))continue;const y=t[v];if(c)if(re(i,v))y!==i[v]&&(i[v]=y,d=!0);else{const T=Ze(v);n[T]=Ko(c,l,T,y,e,!1)}else y!==i[v]&&(i[v]=y,d=!0)}}}else{Rr(e,t,n,i)&&(d=!0);let u;for(const p in l)(!t||!re(t,p)&&((u=Ht(p))===p||!re(t,u)))&&(c?s&&(s[p]!==void 0||s[u]!==void 0)&&(n[p]=Ko(c,l,p,void 0,e,!0)):delete n[p]);if(i!==l)for(const p in i)(!t||!re(t,p))&&(delete i[p],d=!0)}d&&wt(e.attrs,"set","")}function Rr(e,t,s,o){const[n,i]=e.propsOptions;let a=!1,l;if(t)for(let c in t){if(ws(c))continue;const d=t[c];let u;n&&re(n,u=Ze(c))?!i||!i.includes(u)?s[u]=d:(l||(l={}))[u]=d:bo(e.emitsOptions,c)||(!(c in o)||d!==o[c])&&(o[c]=d,a=!0)}if(i){const c=ie(s),d=l||de;for(let u=0;u<i.length;u++){const p=i[u];s[p]=Ko(n,c,p,d[p],e,!re(d,p))}}return a}function Ko(e,t,s,o,n,i){const a=e[s];if(a!=null){const l=re(a,"default");if(l&&o===void 0){const c=a.default;if(a.type!==Function&&!a.skipFactory&&G(c)){const{propsDefaults:d}=n;if(s in d)o=d[s];else{const u=Us(n);o=d[s]=c.call(null,t),u()}}else o=c;n.ce&&n.ce._setProp(s,o)}a[0]&&(i&&!l?o=!1:a[1]&&(o===""||o===Ht(s))&&(o=!0))}return o}const Kl=new WeakMap;function Mr(e,t,s=!1){const o=s?Kl:t.propsCache,n=o.get(e);if(n)return n;const i=e.props,a={},l=[];let c=!1;if(!G(e)){const u=p=>{c=!0;const[v,y]=Mr(p,t,!0);ke(a,v),y&&l.push(...y)};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!c)return me(e)&&o.set(e,Zt),Zt;if(V(i))for(let u=0;u<i.length;u++){const p=Ze(i[u]);ei(p)&&(a[p]=de)}else if(i)for(const u in i){const p=Ze(u);if(ei(p)){const v=i[u],y=a[p]=V(v)||G(v)?{type:v}:ke({},v),T=y.type;let I=!1,h=!0;if(V(T))for(let A=0;A<T.length;++A){const L=T[A],F=G(L)&&L.name;if(F==="Boolean"){I=!0;break}else F==="String"&&(h=!1)}else I=G(T)&&T.name==="Boolean";y[0]=I,y[1]=h,(I||re(y,"default"))&&l.push(p)}}const d=[a,l];return me(e)&&o.set(e,d),d}function ei(e){return e[0]!=="$"&&!ws(e)}const $n=e=>e[0]==="_"||e==="$stable",xn=e=>V(e)?e.map(ft):[ft(e)],Xl=(e,t,s)=>{if(t._n)return t;const o=Ge((...n)=>xn(t(...n)),s);return o._c=!1,o},Or=(e,t,s)=>{const o=e._ctx;for(const n in e){if($n(n))continue;const i=e[n];if(G(i))t[n]=Xl(n,i,o);else if(i!=null){const a=xn(i);t[n]=()=>a}}},Dr=(e,t)=>{const s=xn(t);e.slots.default=()=>s},Wr=(e,t,s)=>{for(const o in t)(s||!$n(o))&&(e[o]=t[o])},Zl=(e,t,s)=>{const o=e.slots=Nr();if(e.vnode.shapeFlag&32){const n=t.__;n&&Bo(o,"__",n,!0);const i=t._;i?(Wr(o,t,s),s&&Bo(o,"_",i,!0)):Or(t,o)}else t&&Dr(e,t)},Ql=(e,t,s)=>{const{vnode:o,slots:n}=e;let i=!0,a=de;if(o.shapeFlag&32){const l=t._;l?s&&l===1?i=!1:Wr(n,t,s):(i=!t.$stable,Or(t,n)),a=t}else t&&(Dr(e,t),a={default:1});if(i)for(const l in n)!$n(l)&&a[l]==null&&delete n[l]},qe=hc;function ec(e){return tc(e)}function tc(e,t){const s=mo();s.__VUE__=!0;const{insert:o,remove:n,patchProp:i,createElement:a,createText:l,createComment:c,setText:d,setElementText:u,parentNode:p,nextSibling:v,setScopeId:y=nt,insertStaticContent:T}=e,I=(g,m,_,$=null,w=null,S=null,E=void 0,P=null,N=!!m.dynamicChildren)=>{if(g===m)return;g&&!us(g,m)&&($=C(g),Te(g,w,S,!0),g=null),m.patchFlag===-2&&(N=!1,m.dynamicChildren=null);const{type:x,ref:z,shapeFlag:M}=m;switch(x){case ko:h(g,m,_,$);break;case Ut:A(g,m,_,$);break;case Ks:g==null&&L(m,_,$,E);break;case q:Ue(g,m,_,$,w,S,E,P,N);break;default:M&1?X(g,m,_,$,w,S,E,P,N):M&6?Ce(g,m,_,$,w,S,E,P,N):(M&64||M&128)&&x.process(g,m,_,$,w,S,E,P,N,U)}z!=null&&w?ks(z,g&&g.ref,S,m||g,!m):z==null&&g&&g.ref!=null&&ks(g.ref,null,S,g,!0)},h=(g,m,_,$)=>{if(g==null)o(m.el=l(m.children),_,$);else{const w=m.el=g.el;m.children!==g.children&&d(w,m.children)}},A=(g,m,_,$)=>{g==null?o(m.el=c(m.children||""),_,$):m.el=g.el},L=(g,m,_,$)=>{[g.el,g.anchor]=T(g.children,m,_,$,g.el,g.anchor)},F=({el:g,anchor:m},_,$)=>{let w;for(;g&&g!==m;)w=v(g),o(g,_,$),g=w;o(m,_,$)},W=({el:g,anchor:m})=>{let _;for(;g&&g!==m;)_=v(g),n(g),g=_;n(m)},X=(g,m,_,$,w,S,E,P,N)=>{m.type==="svg"?E="svg":m.type==="math"&&(E="mathml"),g==null?ve(m,_,$,w,S,E,P,N):Qe(g,m,w,S,E,P,N)},ve=(g,m,_,$,w,S,E,P)=>{let N,x;const{props:z,shapeFlag:M,transition:H,dirs:j}=g;if(N=g.el=a(g.type,S,z&&z.is,z),M&8?u(N,g.children):M&16&&Me(g.children,N,null,$,w,Lo(g,S),E,P),j&&Bt(g,null,$,"created"),ee(N,g,g.scopeId,E,$),z){for(const he in z)he!=="value"&&!ws(he)&&i(N,he,null,z[he],S,$);"value"in z&&i(N,"value",null,z.value,S),(x=z.onVnodeBeforeMount)&&lt(x,$,g)}j&&Bt(g,null,$,"beforeMount");const Q=sc(w,H);Q&&H.beforeEnter(N),o(N,m,_),((x=z&&z.onVnodeMounted)||Q||j)&&qe(()=>{x&&lt(x,$,g),Q&&H.enter(N),j&&Bt(g,null,$,"mounted")},w)},ee=(g,m,_,$,w)=>{if(_&&y(g,_),$)for(let S=0;S<$.length;S++)y(g,$[S]);if(w){let S=w.subTree;if(m===S||Vr(S.type)&&(S.ssContent===m||S.ssFallback===m)){const E=w.vnode;ee(g,E,E.scopeId,E.slotScopeIds,w.parent)}}},Me=(g,m,_,$,w,S,E,P,N=0)=>{for(let x=N;x<g.length;x++){const z=g[x]=P?Lt(g[x]):ft(g[x]);I(null,z,m,_,$,w,S,E,P)}},Qe=(g,m,_,$,w,S,E)=>{const P=m.el=g.el;let{patchFlag:N,dynamicChildren:x,dirs:z}=m;N|=g.patchFlag&16;const M=g.props||de,H=m.props||de;let j;if(_&&zt(_,!1),(j=H.onVnodeBeforeUpdate)&&lt(j,_,m,g),z&&Bt(m,g,_,"beforeUpdate"),_&&zt(_,!0),(M.innerHTML&&H.innerHTML==null||M.textContent&&H.textContent==null)&&u(P,""),x?_e(g.dynamicChildren,x,P,_,$,Lo(m,w),S):E||Z(g,m,P,null,_,$,Lo(m,w),S,!1),N>0){if(N&16)et(P,M,H,_,w);else if(N&2&&M.class!==H.class&&i(P,"class",null,H.class,w),N&4&&i(P,"style",M.style,H.style,w),N&8){const Q=m.dynamicProps;for(let he=0;he<Q.length;he++){const le=Q[he],De=M[le],$e=H[le];($e!==De||le==="value")&&i(P,le,De,$e,w,_)}}N&1&&g.children!==m.children&&u(P,m.children)}else!E&&x==null&&et(P,M,H,_,w);((j=H.onVnodeUpdated)||z)&&qe(()=>{j&&lt(j,_,m,g),z&&Bt(m,g,_,"updated")},$)},_e=(g,m,_,$,w,S,E)=>{for(let P=0;P<m.length;P++){const N=g[P],x=m[P],z=N.el&&(N.type===q||!us(N,x)||N.shapeFlag&198)?p(N.el):_;I(N,x,z,null,$,w,S,E,!0)}},et=(g,m,_,$,w)=>{if(m!==_){if(m!==de)for(const S in m)!ws(S)&&!(S in _)&&i(g,S,m[S],null,w,$);for(const S in _){if(ws(S))continue;const E=_[S],P=m[S];E!==P&&S!=="value"&&i(g,S,P,E,w,$)}"value"in _&&i(g,"value",m.value,_.value,w)}},Ue=(g,m,_,$,w,S,E,P,N)=>{const x=m.el=g?g.el:l(""),z=m.anchor=g?g.anchor:l("");let{patchFlag:M,dynamicChildren:H,slotScopeIds:j}=m;j&&(P=P?P.concat(j):j),g==null?(o(x,_,$),o(z,_,$),Me(m.children||[],_,z,w,S,E,P,N)):M>0&&M&64&&H&&g.dynamicChildren?(_e(g.dynamicChildren,H,_,w,S,E,P),(m.key!=null||w&&m===w.subTree)&&Fr(g,m,!0)):Z(g,m,_,z,w,S,E,P,N)},Ce=(g,m,_,$,w,S,E,P,N)=>{m.slotScopeIds=P,g==null?m.shapeFlag&512?w.ctx.activate(m,_,$,E,N):tt(m,_,$,w,S,E,N):st(g,m,N)},tt=(g,m,_,$,w,S,E)=>{const P=g.component=bc(g,$,w);if(Ar(g)&&(P.ctx.renderer=U),kc(P,!1,E),P.asyncDep){if(w&&w.registerDep(P,we,E),!g.el){const N=P.subTree=ge(Ut);A(null,N,m,_)}}else we(P,g,m,_,w,S,E)},st=(g,m,_)=>{const $=m.component=g.component;if(uc(g,m,_))if($.asyncDep&&!$.asyncResolved){te($,m,_);return}else $.next=m,$.update();else m.el=g.el,$.vnode=m},we=(g,m,_,$,w,S,E)=>{const P=()=>{if(g.isMounted){let{next:M,bu:H,u:j,parent:Q,vnode:he}=g;{const ze=Ur(g);if(ze){M&&(M.el=he.el,te(g,M,E)),ze.asyncDep.then(()=>{g.isUnmounted||P()});return}}let le=M,De;zt(g,!1),M?(M.el=he.el,te(g,M,E)):M=he,H&&Gs(H),(De=M.props&&M.props.onVnodeBeforeUpdate)&&lt(De,Q,M,he),zt(g,!0);const $e=Ro(g),ot=g.subTree;g.subTree=$e,I(ot,$e,p(ot.el),C(ot),g,w,S),M.el=$e.el,le===null&&fc(g,$e.el),j&&qe(j,w),(De=M.props&&M.props.onVnodeUpdated)&&qe(()=>lt(De,Q,M,he),w)}else{let M;const{el:H,props:j}=m,{bm:Q,m:he,parent:le,root:De,type:$e}=g,ot=_s(m);if(zt(g,!1),Q&&Gs(Q),!ot&&(M=j&&j.onVnodeBeforeMount)&&lt(M,le,m),zt(g,!0),H&&fe){const ze=()=>{g.subTree=Ro(g),fe(H,g.subTree,g,w,null)};ot&&$e.__asyncHydrate?$e.__asyncHydrate(H,g,ze):ze()}else{De.ce&&De.ce._def.shadowRoot!==!1&&De.ce._injectChildStyle($e);const ze=g.subTree=Ro(g);I(null,ze,_,$,g,w,S),m.el=ze.el}if(he&&qe(he,w),!ot&&(M=j&&j.onVnodeMounted)){const ze=m;qe(()=>lt(M,le,ze),w)}(m.shapeFlag&256||le&&_s(le.vnode)&&le.vnode.shapeFlag&256)&&g.a&&qe(g.a,w),g.isMounted=!0,m=_=$=null}};g.scope.on();const N=g.effect=new Qi(P);g.scope.off();const x=g.update=N.run.bind(N),z=g.job=N.runIfDirty.bind(N);z.i=g,z.id=g.uid,N.scheduler=()=>An(z),zt(g,!0),x()},te=(g,m,_)=>{m.component=g;const $=g.vnode.props;g.vnode=m,g.next=null,Yl(g,m.props,$,_),Ql(g,m.children,_),Ct(),Jn(g),Tt()},Z=(g,m,_,$,w,S,E,P,N=!1)=>{const x=g&&g.children,z=g?g.shapeFlag:0,M=m.children,{patchFlag:H,shapeFlag:j}=m;if(H>0){if(H&128){Ke(x,M,_,$,w,S,E,P,N);return}else if(H&256){He(x,M,_,$,w,S,E,P,N);return}}j&8?(z&16&&Oe(x,w,S),M!==x&&u(_,M)):z&16?j&16?Ke(x,M,_,$,w,S,E,P,N):Oe(x,w,S,!0):(z&8&&u(_,""),j&16&&Me(M,_,$,w,S,E,P,N))},He=(g,m,_,$,w,S,E,P,N)=>{g=g||Zt,m=m||Zt;const x=g.length,z=m.length,M=Math.min(x,z);let H;for(H=0;H<M;H++){const j=m[H]=N?Lt(m[H]):ft(m[H]);I(g[H],j,_,null,w,S,E,P,N)}x>z?Oe(g,w,S,!0,!1,M):Me(m,_,$,w,S,E,P,N,M)},Ke=(g,m,_,$,w,S,E,P,N)=>{let x=0;const z=m.length;let M=g.length-1,H=z-1;for(;x<=M&&x<=H;){const j=g[x],Q=m[x]=N?Lt(m[x]):ft(m[x]);if(us(j,Q))I(j,Q,_,null,w,S,E,P,N);else break;x++}for(;x<=M&&x<=H;){const j=g[M],Q=m[H]=N?Lt(m[H]):ft(m[H]);if(us(j,Q))I(j,Q,_,null,w,S,E,P,N);else break;M--,H--}if(x>M){if(x<=H){const j=H+1,Q=j<z?m[j].el:$;for(;x<=H;)I(null,m[x]=N?Lt(m[x]):ft(m[x]),_,Q,w,S,E,P,N),x++}}else if(x>H)for(;x<=M;)Te(g[x],w,S,!0),x++;else{const j=x,Q=x,he=new Map;for(x=Q;x<=H;x++){const Ve=m[x]=N?Lt(m[x]):ft(m[x]);Ve.key!=null&&he.set(Ve.key,x)}let le,De=0;const $e=H-Q+1;let ot=!1,ze=0;const cs=new Array($e);for(x=0;x<$e;x++)cs[x]=0;for(x=j;x<=M;x++){const Ve=g[x];if(De>=$e){Te(Ve,w,S,!0);continue}let at;if(Ve.key!=null)at=he.get(Ve.key);else for(le=Q;le<=H;le++)if(cs[le-Q]===0&&us(Ve,m[le])){at=le;break}at===void 0?Te(Ve,w,S,!0):(cs[at-Q]=x+1,at>=ze?ze=at:ot=!0,I(Ve,m[at],_,null,w,S,E,P,N),De++)}const Bn=ot?oc(cs):Zt;for(le=Bn.length-1,x=$e-1;x>=0;x--){const Ve=Q+x,at=m[Ve],zn=Ve+1<z?m[Ve+1].el:$;cs[x]===0?I(null,at,_,zn,w,S,E,P,N):ot&&(le<0||x!==Bn[le]?Be(at,_,zn,2):le--)}}},Be=(g,m,_,$,w=null)=>{const{el:S,type:E,transition:P,children:N,shapeFlag:x}=g;if(x&6){Be(g.component.subTree,m,_,$);return}if(x&128){g.suspense.move(m,_,$);return}if(x&64){E.move(g,m,_,U);return}if(E===q){o(S,m,_);for(let M=0;M<N.length;M++)Be(N[M],m,_,$);o(g.anchor,m,_);return}if(E===Ks){F(g,m,_);return}if($!==2&&x&1&&P)if($===0)P.beforeEnter(S),o(S,m,_),qe(()=>P.enter(S),w);else{const{leave:M,delayLeave:H,afterLeave:j}=P,Q=()=>{g.ctx.isUnmounted?n(S):o(S,m,_)},he=()=>{M(S,()=>{Q(),j&&j()})};H?H(S,Q,he):he()}else o(S,m,_)},Te=(g,m,_,$=!1,w=!1)=>{const{type:S,props:E,ref:P,children:N,dynamicChildren:x,shapeFlag:z,patchFlag:M,dirs:H,cacheIndex:j}=g;if(M===-2&&(w=!1),P!=null&&(Ct(),ks(P,null,_,g,!0),Tt()),j!=null&&(m.renderCache[j]=void 0),z&256){m.ctx.deactivate(g);return}const Q=z&1&&H,he=!_s(g);let le;if(he&&(le=E&&E.onVnodeBeforeUnmount)&&lt(le,m,g),z&6)Jt(g.component,_,$);else{if(z&128){g.suspense.unmount(_,$);return}Q&&Bt(g,null,m,"beforeUnmount"),z&64?g.type.remove(g,m,_,U,$):x&&!x.hasOnce&&(S!==q||M>0&&M&64)?Oe(x,m,_,!1,!0):(S===q&&M&384||!w&&z&16)&&Oe(N,m,_),$&&It(g)}(he&&(le=E&&E.onVnodeUnmounted)||Q)&&qe(()=>{le&&lt(le,m,g),Q&&Bt(g,null,m,"unmounted")},_)},It=g=>{const{type:m,el:_,anchor:$,transition:w}=g;if(m===q){Et(_,$);return}if(m===Ks){W(g);return}const S=()=>{n(_),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(g.shapeFlag&1&&w&&!w.persisted){const{leave:E,delayLeave:P}=w,N=()=>E(_,S);P?P(g.el,S,N):N()}else S()},Et=(g,m)=>{let _;for(;g!==m;)_=v(g),n(g),g=_;n(m)},Jt=(g,m,_)=>{const{bum:$,scope:w,job:S,subTree:E,um:P,m:N,a:x,parent:z,slots:{__:M}}=g;ti(N),ti(x),$&&Gs($),z&&V(M)&&M.forEach(H=>{z.renderCache[H]=void 0}),w.stop(),S&&(S.flags|=8,Te(E,g,m,_)),P&&qe(P,m),qe(()=>{g.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},Oe=(g,m,_,$=!1,w=!1,S=0)=>{for(let E=S;E<g.length;E++)Te(g[E],m,_,$,w)},C=g=>{if(g.shapeFlag&6)return C(g.component.subTree);if(g.shapeFlag&128)return g.suspense.next();const m=v(g.anchor||g.el),_=m&&m[Cl];return _?v(_):m};let D=!1;const R=(g,m,_)=>{g==null?m._vnode&&Te(m._vnode,null,null,!0):I(m._vnode||null,g,m,null,null,null,_),m._vnode=g,D||(D=!0,Jn(),yr(),D=!1)},U={p:I,um:Te,m:Be,r:It,mt:tt,mc:Me,pc:Z,pbc:_e,n:C,o:e};let se,fe;return t&&([se,fe]=t(U)),{render:R,hydrate:se,createApp:Gl(R,se)}}function Lo({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function zt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function sc(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Fr(e,t,s=!1){const o=e.children,n=t.children;if(V(o)&&V(n))for(let i=0;i<o.length;i++){const a=o[i];let l=n[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=n[i]=Lt(n[i]),l.el=a.el),!s&&l.patchFlag!==-2&&Fr(a,l)),l.type===ko&&(l.el=a.el),l.type===Ut&&!l.el&&(l.el=a.el)}}function oc(e){const t=e.slice(),s=[0];let o,n,i,a,l;const c=e.length;for(o=0;o<c;o++){const d=e[o];if(d!==0){if(n=s[s.length-1],e[n]<d){t[o]=n,s.push(o);continue}for(i=0,a=s.length-1;i<a;)l=i+a>>1,e[s[l]]<d?i=l+1:a=l;d<e[s[i]]&&(i>0&&(t[o]=s[i-1]),s[i]=o)}}for(i=s.length,a=s[i-1];i-- >0;)s[i]=a,a=t[a];return s}function Ur(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ur(t)}function ti(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const nc=Symbol.for("v-scx"),ic=()=>St(nc);function Ys(e,t,s){return Hr(e,t,s)}function Hr(e,t,s=de){const{immediate:o,deep:n,flush:i,once:a}=s,l=ke({},s),c=t&&o||!t&&i!=="post";let d;if(Ls){if(i==="sync"){const y=ic();d=y.__watcherHandles||(y.__watcherHandles=[])}else if(!c){const y=()=>{};return y.stop=nt,y.resume=nt,y.pause=nt,y}}const u=Ie;l.call=(y,T,I)=>pt(y,u,T,I);let p=!1;i==="post"?l.scheduler=y=>{qe(y,u&&u.suspense)}:i!=="sync"&&(p=!0,l.scheduler=(y,T)=>{T?y():An(y)}),l.augmentJob=y=>{t&&(y.flags|=4),p&&(y.flags|=2,u&&(y.id=u.uid,y.i=u))};const v=kl(e,t,l);return Ls&&(d?d.push(v):c&&v()),v}function rc(e,t,s){const o=this.proxy,n=be(e)?e.includes(".")?Br(o,e):()=>o[e]:e.bind(o,o);let i;G(t)?i=t:(i=t.handler,s=t);const a=Us(this),l=Hr(n,i.bind(o),s);return a(),l}function Br(e,t){const s=t.split(".");return()=>{let o=e;for(let n=0;n<s.length&&o;n++)o=o[s[n]];return o}}const ac=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ze(t)}Modifiers`]||e[`${Ht(t)}Modifiers`];function lc(e,t,...s){if(e.isUnmounted)return;const o=e.vnode.props||de;let n=s;const i=t.startsWith("update:"),a=i&&ac(o,t.slice(7));a&&(a.trim&&(n=s.map(u=>be(u)?u.trim():u)),a.number&&(n=s.map(eo)));let l,c=o[l=$o(t)]||o[l=$o(Ze(t))];!c&&i&&(c=o[l=$o(Ht(t))]),c&&pt(c,e,6,n);const d=o[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,pt(d,e,6,n)}}function zr(e,t,s=!1){const o=t.emitsCache,n=o.get(e);if(n!==void 0)return n;const i=e.emits;let a={},l=!1;if(!G(e)){const c=d=>{const u=zr(d,t,!0);u&&(l=!0,ke(a,u))};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!i&&!l?(me(e)&&o.set(e,null),null):(V(i)?i.forEach(c=>a[c]=null):ke(a,i),me(e)&&o.set(e,a),a)}function bo(e,t){return!e||!ho(t)?!1:(t=t.slice(2).replace(/Once$/,""),re(e,t[0].toLowerCase()+t.slice(1))||re(e,Ht(t))||re(e,t))}function Ro(e){const{type:t,vnode:s,proxy:o,withProxy:n,propsOptions:[i],slots:a,attrs:l,emit:c,render:d,renderCache:u,props:p,data:v,setupState:y,ctx:T,inheritAttrs:I}=e,h=no(e);let A,L;try{if(s.shapeFlag&4){const W=n||o,X=W;A=ft(d.call(X,W,u,p,y,v,T)),L=l}else{const W=t;A=ft(W.length>1?W(p,{attrs:l,slots:a,emit:c}):W(p,null)),L=t.props?l:cc(l)}}catch(W){As.length=0,wo(W,e,1),A=ge(Ut)}let F=A;if(L&&I!==!1){const W=Object.keys(L),{shapeFlag:X}=F;W.length&&X&7&&(i&&W.some(fn)&&(L=dc(L,i)),F=ns(F,L,!1,!0))}return s.dirs&&(F=ns(F,null,!1,!0),F.dirs=F.dirs?F.dirs.concat(s.dirs):s.dirs),s.transition&&Cn(F,s.transition),A=F,no(h),A}const cc=e=>{let t;for(const s in e)(s==="class"||s==="style"||ho(s))&&((t||(t={}))[s]=e[s]);return t},dc=(e,t)=>{const s={};for(const o in e)(!fn(o)||!(o.slice(9)in t))&&(s[o]=e[o]);return s};function uc(e,t,s){const{props:o,children:n,component:i}=e,{props:a,children:l,patchFlag:c}=t,d=i.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&c>=0){if(c&1024)return!0;if(c&16)return o?si(o,a,d):!!a;if(c&8){const u=t.dynamicProps;for(let p=0;p<u.length;p++){const v=u[p];if(a[v]!==o[v]&&!bo(d,v))return!0}}}else return(n||l)&&(!l||!l.$stable)?!0:o===a?!1:o?a?si(o,a,d):!0:!!a;return!1}function si(e,t,s){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let n=0;n<o.length;n++){const i=o[n];if(t[i]!==e[i]&&!bo(s,i))return!0}return!1}function fc({vnode:e,parent:t},s){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=s,t=t.parent;else break}}const Vr=e=>e.__isSuspense;function hc(e,t){t&&t.pendingBranch?V(e)?t.effects.push(...e):t.effects.push(e):Al(e)}const q=Symbol.for("v-fgt"),ko=Symbol.for("v-txt"),Ut=Symbol.for("v-cmt"),Ks=Symbol.for("v-stc"),As=[];let Ye=null;function b(e=!1){As.push(Ye=e?null:[])}function pc(){As.pop(),Ye=As[As.length-1]||null}let Ns=1;function oi(e,t=!1){Ns+=e,e<0&&Ye&&t&&(Ye.hasOnce=!0)}function jr(e){return e.dynamicChildren=Ns>0?Ye||Zt:null,pc(),Ns>0&&Ye&&Ye.push(e),e}function k(e,t,s,o,n,i){return jr(r(e,t,s,o,n,i,!0))}function qr(e,t,s,o,n){return jr(ge(e,t,s,o,n,!0))}function ro(e){return e?e.__v_isVNode===!0:!1}function us(e,t){return e.type===t.type&&e.key===t.key}const Gr=({key:e})=>e??null,Xs=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?be(e)||Ee(e)||G(e)?{i:Je,r:e,k:t,f:!!s}:e:null);function r(e,t=null,s=null,o=0,n=null,i=e===q?0:1,a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Gr(t),ref:t&&Xs(t),scopeId:kr,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:o,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Je};return l?(In(c,s),i&128&&e.normalize(c)):s&&(c.shapeFlag|=be(s)?8:16),Ns>0&&!a&&Ye&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Ye.push(c),c}const ge=gc;function gc(e,t=null,s=null,o=0,n=null,i=!1){if((!e||e===Wl)&&(e=Ut),ro(e)){const l=ns(e,t,!0);return s&&In(l,s),Ns>0&&!i&&Ye&&(l.shapeFlag&6?Ye[Ye.indexOf(e)]=l:Ye.push(l)),l.patchFlag=-2,l}if(Tc(e)&&(e=e.__vccOpts),t){t=mc(t);let{class:l,style:c}=t;l&&!be(l)&&(t.class=J(l)),me(c)&&(_n(c)&&!V(c)&&(c=ke({},c)),t.style=Mt(c))}const a=be(e)?1:Vr(e)?128:Tl(e)?64:me(e)?4:G(e)?2:0;return r(e,t,s,o,n,a,i,!0)}function mc(e){return e?_n(e)||Lr(e)?ke({},e):e:null}function ns(e,t,s=!1,o=!1){const{props:n,ref:i,patchFlag:a,children:l,transition:c}=e,d=t?vc(n||{},t):n,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&Gr(d),ref:t&&t.ref?s&&i?V(i)?i.concat(Xs(t)):[i,Xs(t)]:Xs(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==q?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ns(e.ssContent),ssFallback:e.ssFallback&&ns(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&o&&Cn(u,c.clone(u)),u}function Y(e=" ",t=0){return ge(ko,null,e,t)}function bt(e,t){const s=ge(Ks,null,e);return s.staticCount=t,s}function B(e="",t=!1){return t?(b(),qr(Ut,null,e)):ge(Ut,null,e)}function ft(e){return e==null||typeof e=="boolean"?ge(Ut):V(e)?ge(q,null,e.slice()):ro(e)?Lt(e):ge(ko,null,String(e))}function Lt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ns(e)}function In(e,t){let s=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(V(t))s=16;else if(typeof t=="object")if(o&65){const n=t.default;n&&(n._c&&(n._d=!1),In(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!Lr(t)?t._ctx=Je:n===3&&Je&&(Je.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else G(t)?(t={default:t,_ctx:Je},s=32):(t=String(t),o&64?(s=16,t=[Y(t)]):s=8);e.children=t,e.shapeFlag|=s}function vc(...e){const t={};for(let s=0;s<e.length;s++){const o=e[s];for(const n in o)if(n==="class")t.class!==o.class&&(t.class=J([t.class,o.class]));else if(n==="style")t.style=Mt([t.style,o.style]);else if(ho(n)){const i=t[n],a=o[n];a&&i!==a&&!(V(i)&&i.includes(a))&&(t[n]=i?[].concat(i,a):a)}else n!==""&&(t[n]=o[n])}return t}function lt(e,t,s,o=null){pt(e,t,7,[s,o])}const wc=Er();let yc=0;function bc(e,t,s){const o=e.type,n=(t?t.appContext:e.appContext)||wc,i={uid:yc++,vnode:e,type:o,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ja(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Mr(o,n),emitsOptions:zr(o,n),emit:null,emitted:null,propsDefaults:de,inheritAttrs:o.inheritAttrs,ctx:de,data:de,props:de,attrs:de,slots:de,refs:de,setupState:de,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=lc.bind(null,i),e.ce&&e.ce(i),i}let Ie=null,ao,Xo;{const e=mo(),t=(s,o)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(o),i=>{n.length>1?n.forEach(a=>a(i)):n[0](i)}};ao=t("__VUE_INSTANCE_SETTERS__",s=>Ie=s),Xo=t("__VUE_SSR_SETTERS__",s=>Ls=s)}const Us=e=>{const t=Ie;return ao(e),e.scope.on(),()=>{e.scope.off(),ao(t)}},ni=()=>{Ie&&Ie.scope.off(),ao(null)};function Jr(e){return e.vnode.shapeFlag&4}let Ls=!1;function kc(e,t=!1,s=!1){t&&Xo(t);const{props:o,children:n}=e.vnode,i=Jr(e);Jl(e,o,i,t),Zl(e,n,s||t);const a=i?_c(e,t):void 0;return t&&Xo(!1),a}function _c(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Ul);const{setup:o}=s;if(o){Ct();const n=e.setupContext=o.length>1?Ac(e):null,i=Us(e),a=Fs(o,e,0,[e.props,n]),l=Gi(a);if(Tt(),i(),(l||e.sp)&&!_s(e)&&Sr(e),l){if(a.then(ni,ni),t)return a.then(c=>{ii(e,c,t)}).catch(c=>{wo(c,e,0)});e.asyncDep=a}else ii(e,a,t)}else Yr(e,t)}function ii(e,t,s){G(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:me(t)&&(e.setupState=mr(t)),Yr(e,s)}let ri;function Yr(e,t,s){const o=e.type;if(!e.render){if(!t&&ri&&!o.render){const n=o.template||Tn(e).template;if(n){const{isCustomElement:i,compilerOptions:a}=e.appContext.config,{delimiters:l,compilerOptions:c}=o,d=ke(ke({isCustomElement:i,delimiters:l},a),c);o.render=ri(n,d)}}e.render=o.render||nt}{const n=Us(e);Ct();try{Hl(e)}finally{Tt(),n()}}}const Sc={get(e,t){return xe(e,"get",""),e[t]}};function Ac(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Sc),slots:e.slots,emit:e.emit,expose:t}}function _o(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(mr(pl(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Ss)return Ss[s](e)},has(t,s){return s in t||s in Ss}})):e.proxy}function Cc(e,t=!0){return G(e)?e.displayName||e.name:e.name||t&&e.__name}function Tc(e){return G(e)&&"__vccOpts"in e}const Le=(e,t)=>yl(e,t,Ls);function Kr(e,t,s){const o=arguments.length;return o===2?me(t)&&!V(t)?ro(t)?ge(e,null,[t]):ge(e,t):ge(e,null,t):(o>3?s=Array.prototype.slice.call(arguments,2):o===3&&ro(s)&&(s=[s]),ge(e,t,s))}const $c="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Zo;const ai=typeof window<"u"&&window.trustedTypes;if(ai)try{Zo=ai.createPolicy("vue",{createHTML:e=>e})}catch{}const Xr=Zo?e=>Zo.createHTML(e):e=>e,xc="http://www.w3.org/2000/svg",Ic="http://www.w3.org/1998/Math/MathML",vt=typeof document<"u"?document:null,li=vt&&vt.createElement("template"),Ec={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,o)=>{const n=t==="svg"?vt.createElementNS(xc,e):t==="mathml"?vt.createElementNS(Ic,e):s?vt.createElement(e,{is:s}):vt.createElement(e);return e==="select"&&o&&o.multiple!=null&&n.setAttribute("multiple",o.multiple),n},createText:e=>vt.createTextNode(e),createComment:e=>vt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>vt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,o,n,i){const a=s?s.previousSibling:t.lastChild;if(n&&(n===i||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{li.innerHTML=Xr(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const l=li.content;if(o==="svg"||o==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,s)}return[a?a.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Pc=Symbol("_vtc");function Nc(e,t,s){const o=e[Pc];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const ci=Symbol("_vod"),Lc=Symbol("_vsh"),Rc=Symbol(""),Mc=/(^|;)\s*display\s*:/;function Oc(e,t,s){const o=e.style,n=be(s);let i=!1;if(s&&!n){if(t)if(be(t))for(const a of t.split(";")){const l=a.slice(0,a.indexOf(":")).trim();s[l]==null&&Zs(o,l,"")}else for(const a in t)s[a]==null&&Zs(o,a,"");for(const a in s)a==="display"&&(i=!0),Zs(o,a,s[a])}else if(n){if(t!==s){const a=o[Rc];a&&(s+=";"+a),o.cssText=s,i=Mc.test(s)}}else t&&e.removeAttribute("style");ci in e&&(e[ci]=i?o.display:"",e[Lc]&&(o.display="none"))}const di=/\s*!important$/;function Zs(e,t,s){if(V(s))s.forEach(o=>Zs(e,t,o));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const o=Dc(e,t);di.test(s)?e.setProperty(Ht(o),s.replace(di,""),"important"):e[o]=s}}const ui=["Webkit","Moz","ms"],Mo={};function Dc(e,t){const s=Mo[t];if(s)return s;let o=Ze(t);if(o!=="filter"&&o in e)return Mo[t]=o;o=go(o);for(let n=0;n<ui.length;n++){const i=ui[n]+o;if(i in e)return Mo[t]=i}return t}const fi="http://www.w3.org/1999/xlink";function hi(e,t,s,o,n,i=qa(t)){o&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(fi,t.slice(6,t.length)):e.setAttributeNS(fi,t,s):s==null||i&&!Ki(s)?e.removeAttribute(t):e.setAttribute(t,i?"":ht(s)?String(s):s)}function pi(e,t,s,o,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Xr(s):s);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?e.getAttribute("value")||"":e.value,c=s==null?e.type==="checkbox"?"on":"":String(s);(l!==c||!("_value"in e))&&(e.value=c),s==null&&e.removeAttribute(t),e._value=s;return}let a=!1;if(s===""||s==null){const l=typeof e[t];l==="boolean"?s=Ki(s):s==null&&l==="string"?(s="",a=!0):l==="number"&&(s=0,a=!0)}try{e[t]=s}catch{}a&&e.removeAttribute(n||t)}function Ot(e,t,s,o){e.addEventListener(t,s,o)}function Wc(e,t,s,o){e.removeEventListener(t,s,o)}const gi=Symbol("_vei");function Fc(e,t,s,o,n=null){const i=e[gi]||(e[gi]={}),a=i[t];if(o&&a)a.value=o;else{const[l,c]=Uc(t);if(o){const d=i[t]=zc(o,n);Ot(e,l,d,c)}else a&&(Wc(e,l,a,c),i[t]=void 0)}}const mi=/(?:Once|Passive|Capture)$/;function Uc(e){let t;if(mi.test(e)){t={};let o;for(;o=e.match(mi);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ht(e.slice(2)),t]}let Oo=0;const Hc=Promise.resolve(),Bc=()=>Oo||(Hc.then(()=>Oo=0),Oo=Date.now());function zc(e,t){const s=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=s.attached)return;pt(Vc(o,s.value),t,5,[o])};return s.value=e,s.attached=Bc(),s}function Vc(e,t){if(V(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(o=>n=>!n._stopped&&o&&o(n))}else return t}const vi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,jc=(e,t,s,o,n,i)=>{const a=n==="svg";t==="class"?Nc(e,o,a):t==="style"?Oc(e,s,o):ho(t)?fn(t)||Fc(e,t,s,o,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):qc(e,t,o,a))?(pi(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&hi(e,t,o,a,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!be(o))?pi(e,Ze(t),o,i,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),hi(e,t,o,a))};function qc(e,t,s,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&vi(t)&&G(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return vi(t)&&be(s)?!1:t in e}const is=e=>{const t=e.props["onUpdate:modelValue"]||!1;return V(t)?s=>Gs(t,s):t};function Gc(e){e.target.composing=!0}function wi(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const At=Symbol("_assign"),ye={created(e,{modifiers:{lazy:t,trim:s,number:o}},n){e[At]=is(n);const i=o||n.props&&n.props.type==="number";Ot(e,t?"change":"input",a=>{if(a.target.composing)return;let l=e.value;s&&(l=l.trim()),i&&(l=eo(l)),e[At](l)}),s&&Ot(e,"change",()=>{e.value=e.value.trim()}),t||(Ot(e,"compositionstart",Gc),Ot(e,"compositionend",wi),Ot(e,"change",wi))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:o,trim:n,number:i}},a){if(e[At]=is(a),e.composing)return;const l=(i||e.type==="number")&&!/^0\d/.test(e.value)?eo(e.value):e.value,c=t??"";l!==c&&(document.activeElement===e&&e.type!=="range"&&(o&&t===s||n&&e.value.trim()===c)||(e.value=c))}},vs={deep:!0,created(e,t,s){e[At]=is(s),Ot(e,"change",()=>{const o=e._modelValue,n=Rs(e),i=e.checked,a=e[At];if(V(o)){const l=gn(o,n),c=l!==-1;if(i&&!c)a(o.concat(n));else if(!i&&c){const d=[...o];d.splice(l,1),a(d)}}else if(ls(o)){const l=new Set(o);i?l.add(n):l.delete(n),a(l)}else a(Zr(e,i))})},mounted:yi,beforeUpdate(e,t,s){e[At]=is(s),yi(e,t,s)}};function yi(e,{value:t,oldValue:s},o){e._modelValue=t;let n;if(V(t))n=gn(t,o.props.value)>-1;else if(ls(t))n=t.has(o.props.value);else{if(t===s)return;n=Ws(t,Zr(e,!0))}e.checked!==n&&(e.checked=n)}const Jc={deep:!0,created(e,{value:t,modifiers:{number:s}},o){const n=ls(t);Ot(e,"change",()=>{const i=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>s?eo(Rs(a)):Rs(a));e[At](e.multiple?n?new Set(i):i:i[0]),e._assigning=!0,Sn(()=>{e._assigning=!1})}),e[At]=is(o)},mounted(e,{value:t}){bi(e,t)},beforeUpdate(e,t,s){e[At]=is(s)},updated(e,{value:t}){e._assigning||bi(e,t)}};function bi(e,t){const s=e.multiple,o=V(t);if(!(s&&!o&&!ls(t))){for(let n=0,i=e.options.length;n<i;n++){const a=e.options[n],l=Rs(a);if(s)if(o){const c=typeof l;c==="string"||c==="number"?a.selected=t.some(d=>String(d)===String(l)):a.selected=gn(t,l)>-1}else a.selected=t.has(l);else if(Ws(Rs(a),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Rs(e){return"_value"in e?e._value:e.value}function Zr(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const Yc=["ctrl","shift","alt","meta"],Kc={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Yc.some(s=>e[`${s}Key`]&&!t.includes(s))},Se=(e,t)=>{const s=e._withMods||(e._withMods={}),o=t.join(".");return s[o]||(s[o]=(n,...i)=>{for(let a=0;a<t.length;a++){const l=Kc[t[a]];if(l&&l(n,t))return}return e(n,...i)})},Xc={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},js=(e,t)=>{const s=e._withKeys||(e._withKeys={}),o=t.join(".");return s[o]||(s[o]=n=>{if(!("key"in n))return;const i=Ht(n.key);if(t.some(a=>a===i||Xc[a]===i))return e(n)})},Zc=ke({patchProp:jc},Ec);let ki;function Qc(){return ki||(ki=ec(Zc))}const ed=(...e)=>{const t=Qc().createApp(...e),{mount:s}=t;return t.mount=o=>{const n=sd(o);if(!n)return;const i=t._component;!G(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const a=s(n,!1,td(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),a},t};function td(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function sd(e){return be(e)?document.querySelector(e):e}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Xt=typeof document<"u";function Qr(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function od(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Qr(e.default)}const ne=Object.assign;function Do(e,t){const s={};for(const o in t){const n=t[o];s[o]=rt(n)?n.map(e):e(n)}return s}const Cs=()=>{},rt=Array.isArray,ea=/#/g,nd=/&/g,id=/\//g,rd=/=/g,ad=/\?/g,ta=/\+/g,ld=/%5B/g,cd=/%5D/g,sa=/%5E/g,dd=/%60/g,oa=/%7B/g,ud=/%7C/g,na=/%7D/g,fd=/%20/g;function En(e){return encodeURI(""+e).replace(ud,"|").replace(ld,"[").replace(cd,"]")}function hd(e){return En(e).replace(oa,"{").replace(na,"}").replace(sa,"^")}function Qo(e){return En(e).replace(ta,"%2B").replace(fd,"+").replace(ea,"%23").replace(nd,"%26").replace(dd,"`").replace(oa,"{").replace(na,"}").replace(sa,"^")}function pd(e){return Qo(e).replace(rd,"%3D")}function gd(e){return En(e).replace(ea,"%23").replace(ad,"%3F")}function md(e){return e==null?"":gd(e).replace(id,"%2F")}function Ms(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const vd=/\/$/,wd=e=>e.replace(vd,"");function Wo(e,t,s="/"){let o,n={},i="",a="";const l=t.indexOf("#");let c=t.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(o=t.slice(0,c),i=t.slice(c+1,l>-1?l:t.length),n=e(i)),l>-1&&(o=o||t.slice(0,l),a=t.slice(l,t.length)),o=_d(o??t,s),{fullPath:o+(i&&"?")+i+a,path:o,query:n,hash:Ms(a)}}function yd(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function _i(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function bd(e,t,s){const o=t.matched.length-1,n=s.matched.length-1;return o>-1&&o===n&&rs(t.matched[o],s.matched[n])&&ia(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function rs(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function ia(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!kd(e[s],t[s]))return!1;return!0}function kd(e,t){return rt(e)?Si(e,t):rt(t)?Si(t,e):e===t}function Si(e,t){return rt(t)?e.length===t.length&&e.every((s,o)=>s===t[o]):e.length===1&&e[0]===t}function _d(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),o=e.split("/"),n=o[o.length-1];(n===".."||n===".")&&o.push("");let i=s.length-1,a,l;for(a=0;a<o.length;a++)if(l=o[a],l!==".")if(l==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+o.slice(a).join("/")}const Pt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Os;(function(e){e.pop="pop",e.push="push"})(Os||(Os={}));var Ts;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ts||(Ts={}));function Sd(e){if(!e)if(Xt){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),wd(e)}const Ad=/^[^#]+#/;function Cd(e,t){return e.replace(Ad,"#")+t}function Td(e,t){const s=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-s.left-(t.left||0),top:o.top-s.top-(t.top||0)}}const So=()=>({left:window.scrollX,top:window.scrollY});function $d(e){let t;if("el"in e){const s=e.el,o=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?o?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;t=Td(n,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Ai(e,t){return(history.state?history.state.position-t:-1)+e}const en=new Map;function xd(e,t){en.set(e,t)}function Id(e){const t=en.get(e);return en.delete(e),t}let Ed=()=>location.protocol+"//"+location.host;function ra(e,t){const{pathname:s,search:o,hash:n}=t,i=e.indexOf("#");if(i>-1){let l=n.includes(e.slice(i))?e.slice(i).length:1,c=n.slice(l);return c[0]!=="/"&&(c="/"+c),_i(c,"")}return _i(s,e)+o+n}function Pd(e,t,s,o){let n=[],i=[],a=null;const l=({state:v})=>{const y=ra(e,location),T=s.value,I=t.value;let h=0;if(v){if(s.value=y,t.value=v,a&&a===T){a=null;return}h=I?v.position-I.position:0}else o(y);n.forEach(A=>{A(s.value,T,{delta:h,type:Os.pop,direction:h?h>0?Ts.forward:Ts.back:Ts.unknown})})};function c(){a=s.value}function d(v){n.push(v);const y=()=>{const T=n.indexOf(v);T>-1&&n.splice(T,1)};return i.push(y),y}function u(){const{history:v}=window;v.state&&v.replaceState(ne({},v.state,{scroll:So()}),"")}function p(){for(const v of i)v();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:d,destroy:p}}function Ci(e,t,s,o=!1,n=!1){return{back:e,current:t,forward:s,replaced:o,position:window.history.length,scroll:n?So():null}}function Nd(e){const{history:t,location:s}=window,o={value:ra(e,s)},n={value:t.state};n.value||i(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(c,d,u){const p=e.indexOf("#"),v=p>-1?(s.host&&document.querySelector("base")?e:e.slice(p))+c:Ed()+e+c;try{t[u?"replaceState":"pushState"](d,"",v),n.value=d}catch(y){console.error(y),s[u?"replace":"assign"](v)}}function a(c,d){const u=ne({},t.state,Ci(n.value.back,c,n.value.forward,!0),d,{position:n.value.position});i(c,u,!0),o.value=c}function l(c,d){const u=ne({},n.value,t.state,{forward:c,scroll:So()});i(u.current,u,!0);const p=ne({},Ci(o.value,c,null),{position:u.position+1},d);i(c,p,!1),o.value=c}return{location:o,state:n,push:l,replace:a}}function Ld(e){e=Sd(e);const t=Nd(e),s=Pd(e,t.state,t.location,t.replace);function o(i,a=!0){a||s.pauseListeners(),history.go(i)}const n=ne({location:"",base:e,go:o,createHref:Cd.bind(null,e)},t,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>t.state.value}),n}function Rd(e){return typeof e=="string"||e&&typeof e=="object"}function aa(e){return typeof e=="string"||typeof e=="symbol"}const la=Symbol("");var Ti;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Ti||(Ti={}));function as(e,t){return ne(new Error,{type:e,[la]:!0},t)}function mt(e,t){return e instanceof Error&&la in e&&(t==null||!!(e.type&t))}const $i="[^/]+?",Md={sensitive:!1,strict:!1,start:!0,end:!0},Od=/[.+*?^${}()[\]/\\]/g;function Dd(e,t){const s=ne({},Md,t),o=[];let n=s.start?"^":"";const i=[];for(const d of e){const u=d.length?[]:[90];s.strict&&!d.length&&(n+="/");for(let p=0;p<d.length;p++){const v=d[p];let y=40+(s.sensitive?.25:0);if(v.type===0)p||(n+="/"),n+=v.value.replace(Od,"\\$&"),y+=40;else if(v.type===1){const{value:T,repeatable:I,optional:h,regexp:A}=v;i.push({name:T,repeatable:I,optional:h});const L=A||$i;if(L!==$i){y+=10;try{new RegExp(`(${L})`)}catch(W){throw new Error(`Invalid custom RegExp for param "${T}" (${L}): `+W.message)}}let F=I?`((?:${L})(?:/(?:${L}))*)`:`(${L})`;p||(F=h&&d.length<2?`(?:/${F})`:"/"+F),h&&(F+="?"),n+=F,y+=20,h&&(y+=-8),I&&(y+=-20),L===".*"&&(y+=-50)}u.push(y)}o.push(u)}if(s.strict&&s.end){const d=o.length-1;o[d][o[d].length-1]+=.7000000000000001}s.strict||(n+="/?"),s.end?n+="$":s.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const a=new RegExp(n,s.sensitive?"":"i");function l(d){const u=d.match(a),p={};if(!u)return null;for(let v=1;v<u.length;v++){const y=u[v]||"",T=i[v-1];p[T.name]=y&&T.repeatable?y.split("/"):y}return p}function c(d){let u="",p=!1;for(const v of e){(!p||!u.endsWith("/"))&&(u+="/"),p=!1;for(const y of v)if(y.type===0)u+=y.value;else if(y.type===1){const{value:T,repeatable:I,optional:h}=y,A=T in d?d[T]:"";if(rt(A)&&!I)throw new Error(`Provided param "${T}" is an array but it is not repeatable (* or + modifiers)`);const L=rt(A)?A.join("/"):A;if(!L)if(h)v.length<2&&(u.endsWith("/")?u=u.slice(0,-1):p=!0);else throw new Error(`Missing required param "${T}"`);u+=L}}return u||"/"}return{re:a,score:o,keys:i,parse:l,stringify:c}}function Wd(e,t){let s=0;for(;s<e.length&&s<t.length;){const o=t[s]-e[s];if(o)return o;s++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function ca(e,t){let s=0;const o=e.score,n=t.score;for(;s<o.length&&s<n.length;){const i=Wd(o[s],n[s]);if(i)return i;s++}if(Math.abs(n.length-o.length)===1){if(xi(o))return 1;if(xi(n))return-1}return n.length-o.length}function xi(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Fd={type:0,value:""},Ud=/[a-zA-Z0-9_]/;function Hd(e){if(!e)return[[]];if(e==="/")return[[Fd]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${s})/"${d}": ${y}`)}let s=0,o=s;const n=[];let i;function a(){i&&n.push(i),i=[]}let l=0,c,d="",u="";function p(){d&&(s===0?i.push({type:0,value:d}):s===1||s===2||s===3?(i.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:d,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),d="")}function v(){d+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&s!==2){o=s,s=4;continue}switch(s){case 0:c==="/"?(d&&p(),a()):c===":"?(p(),s=1):v();break;case 4:v(),s=o;break;case 1:c==="("?s=2:Ud.test(c)?v():(p(),s=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:s=3:u+=c;break;case 3:p(),s=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,u="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${d}"`),p(),a(),n}function Bd(e,t,s){const o=Dd(Hd(e.path),s),n=ne(o,{record:e,parent:t,children:[],alias:[]});return t&&!n.record.aliasOf==!t.record.aliasOf&&t.children.push(n),n}function zd(e,t){const s=[],o=new Map;t=Ni({strict:!1,end:!0,sensitive:!1},t);function n(p){return o.get(p)}function i(p,v,y){const T=!y,I=Ei(p);I.aliasOf=y&&y.record;const h=Ni(t,p),A=[I];if("alias"in p){const W=typeof p.alias=="string"?[p.alias]:p.alias;for(const X of W)A.push(Ei(ne({},I,{components:y?y.record.components:I.components,path:X,aliasOf:y?y.record:I})))}let L,F;for(const W of A){const{path:X}=W;if(v&&X[0]!=="/"){const ve=v.record.path,ee=ve[ve.length-1]==="/"?"":"/";W.path=v.record.path+(X&&ee+X)}if(L=Bd(W,v,h),y?y.alias.push(L):(F=F||L,F!==L&&F.alias.push(L),T&&p.name&&!Pi(L)&&a(p.name)),da(L)&&c(L),I.children){const ve=I.children;for(let ee=0;ee<ve.length;ee++)i(ve[ee],L,y&&y.children[ee])}y=y||L}return F?()=>{a(F)}:Cs}function a(p){if(aa(p)){const v=o.get(p);v&&(o.delete(p),s.splice(s.indexOf(v),1),v.children.forEach(a),v.alias.forEach(a))}else{const v=s.indexOf(p);v>-1&&(s.splice(v,1),p.record.name&&o.delete(p.record.name),p.children.forEach(a),p.alias.forEach(a))}}function l(){return s}function c(p){const v=qd(p,s);s.splice(v,0,p),p.record.name&&!Pi(p)&&o.set(p.record.name,p)}function d(p,v){let y,T={},I,h;if("name"in p&&p.name){if(y=o.get(p.name),!y)throw as(1,{location:p});h=y.record.name,T=ne(Ii(v.params,y.keys.filter(F=>!F.optional).concat(y.parent?y.parent.keys.filter(F=>F.optional):[]).map(F=>F.name)),p.params&&Ii(p.params,y.keys.map(F=>F.name))),I=y.stringify(T)}else if(p.path!=null)I=p.path,y=s.find(F=>F.re.test(I)),y&&(T=y.parse(I),h=y.record.name);else{if(y=v.name?o.get(v.name):s.find(F=>F.re.test(v.path)),!y)throw as(1,{location:p,currentLocation:v});h=y.record.name,T=ne({},v.params,p.params),I=y.stringify(T)}const A=[];let L=y;for(;L;)A.unshift(L.record),L=L.parent;return{name:h,path:I,params:T,matched:A,meta:jd(A)}}e.forEach(p=>i(p));function u(){s.length=0,o.clear()}return{addRoute:i,resolve:d,removeRoute:a,clearRoutes:u,getRoutes:l,getRecordMatcher:n}}function Ii(e,t){const s={};for(const o of t)o in e&&(s[o]=e[o]);return s}function Ei(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Vd(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Vd(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const o in e.components)t[o]=typeof s=="object"?s[o]:s;return t}function Pi(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function jd(e){return e.reduce((t,s)=>ne(t,s.meta),{})}function Ni(e,t){const s={};for(const o in e)s[o]=o in t?t[o]:e[o];return s}function qd(e,t){let s=0,o=t.length;for(;s!==o;){const i=s+o>>1;ca(e,t[i])<0?o=i:s=i+1}const n=Gd(e);return n&&(o=t.lastIndexOf(n,o-1)),o}function Gd(e){let t=e;for(;t=t.parent;)if(da(t)&&ca(e,t)===0)return t}function da({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Jd(e){const t={};if(e===""||e==="?")return t;const o=(e[0]==="?"?e.slice(1):e).split("&");for(let n=0;n<o.length;++n){const i=o[n].replace(ta," "),a=i.indexOf("="),l=Ms(a<0?i:i.slice(0,a)),c=a<0?null:Ms(i.slice(a+1));if(l in t){let d=t[l];rt(d)||(d=t[l]=[d]),d.push(c)}else t[l]=c}return t}function Li(e){let t="";for(let s in e){const o=e[s];if(s=pd(s),o==null){o!==void 0&&(t+=(t.length?"&":"")+s);continue}(rt(o)?o.map(i=>i&&Qo(i)):[o&&Qo(o)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+s,i!=null&&(t+="="+i))})}return t}function Yd(e){const t={};for(const s in e){const o=e[s];o!==void 0&&(t[s]=rt(o)?o.map(n=>n==null?null:""+n):o==null?o:""+o)}return t}const Kd=Symbol(""),Ri=Symbol(""),Pn=Symbol(""),ua=Symbol(""),tn=Symbol("");function fs(){let e=[];function t(o){return e.push(o),()=>{const n=e.indexOf(o);n>-1&&e.splice(n,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function Rt(e,t,s,o,n,i=a=>a()){const a=o&&(o.enterCallbacks[n]=o.enterCallbacks[n]||[]);return()=>new Promise((l,c)=>{const d=v=>{v===!1?c(as(4,{from:s,to:t})):v instanceof Error?c(v):Rd(v)?c(as(2,{from:t,to:v})):(a&&o.enterCallbacks[n]===a&&typeof v=="function"&&a.push(v),l())},u=i(()=>e.call(o&&o.instances[n],t,s,d));let p=Promise.resolve(u);e.length<3&&(p=p.then(d)),p.catch(v=>c(v))})}function Fo(e,t,s,o,n=i=>i()){const i=[];for(const a of e)for(const l in a.components){let c=a.components[l];if(!(t!=="beforeRouteEnter"&&!a.instances[l]))if(Qr(c)){const u=(c.__vccOpts||c)[t];u&&i.push(Rt(u,s,o,a,l,n))}else{let d=c();i.push(()=>d.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${l}" at "${a.path}"`);const p=od(u)?u.default:u;a.mods[l]=u,a.components[l]=p;const y=(p.__vccOpts||p)[t];return y&&Rt(y,s,o,a,l,n)()}))}}return i}function Mi(e){const t=St(Pn),s=St(ua),o=Le(()=>{const c=ts(e.to);return t.resolve(c)}),n=Le(()=>{const{matched:c}=o.value,{length:d}=c,u=c[d-1],p=s.matched;if(!u||!p.length)return-1;const v=p.findIndex(rs.bind(null,u));if(v>-1)return v;const y=Oi(c[d-2]);return d>1&&Oi(u)===y&&p[p.length-1].path!==y?p.findIndex(rs.bind(null,c[d-2])):v}),i=Le(()=>n.value>-1&&tu(s.params,o.value.params)),a=Le(()=>n.value>-1&&n.value===s.matched.length-1&&ia(s.params,o.value.params));function l(c={}){if(eu(c)){const d=t[ts(e.replace)?"replace":"push"](ts(e.to)).catch(Cs);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:o,href:Le(()=>o.value.href),isActive:i,isExactActive:a,navigate:l}}function Xd(e){return e.length===1?e[0]:e}const Zd=_r({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Mi,setup(e,{slots:t}){const s=Wt(Mi(e)),{options:o}=St(Pn),n=Le(()=>({[Di(e.activeClass,o.linkActiveClass,"router-link-active")]:s.isActive,[Di(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=t.default&&Xd(t.default(s));return e.custom?i:Kr("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},i)}}}),Qd=Zd;function eu(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function tu(e,t){for(const s in t){const o=t[s],n=e[s];if(typeof o=="string"){if(o!==n)return!1}else if(!rt(n)||n.length!==o.length||o.some((i,a)=>i!==n[a]))return!1}return!0}function Oi(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Di=(e,t,s)=>e??t??s,su=_r({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const o=St(tn),n=Le(()=>e.route||o.value),i=St(Ri,0),a=Le(()=>{let d=ts(i);const{matched:u}=n.value;let p;for(;(p=u[d])&&!p.components;)d++;return d}),l=Le(()=>n.value.matched[a.value]);Js(Ri,Le(()=>a.value+1)),Js(Kd,l),Js(tn,n);const c=je();return Ys(()=>[c.value,l.value,e.name],([d,u,p],[v,y,T])=>{u&&(u.instances[p]=d,y&&y!==u&&d&&d===v&&(u.leaveGuards.size||(u.leaveGuards=y.leaveGuards),u.updateGuards.size||(u.updateGuards=y.updateGuards))),d&&u&&(!y||!rs(u,y)||!v)&&(u.enterCallbacks[p]||[]).forEach(I=>I(d))},{flush:"post"}),()=>{const d=n.value,u=e.name,p=l.value,v=p&&p.components[u];if(!v)return Wi(s.default,{Component:v,route:d});const y=p.props[u],T=y?y===!0?d.params:typeof y=="function"?y(d):y:null,h=Kr(v,ne({},T,t,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(p.instances[u]=null)},ref:c}));return Wi(s.default,{Component:h,route:d})||h}}});function Wi(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const ou=su;function nu(e){const t=zd(e.routes,e),s=e.parseQuery||Jd,o=e.stringifyQuery||Li,n=e.history,i=fs(),a=fs(),l=fs(),c=gl(Pt);let d=Pt;Xt&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Do.bind(null,C=>""+C),p=Do.bind(null,md),v=Do.bind(null,Ms);function y(C,D){let R,U;return aa(C)?(R=t.getRecordMatcher(C),U=D):U=C,t.addRoute(U,R)}function T(C){const D=t.getRecordMatcher(C);D&&t.removeRoute(D)}function I(){return t.getRoutes().map(C=>C.record)}function h(C){return!!t.getRecordMatcher(C)}function A(C,D){if(D=ne({},D||c.value),typeof C=="string"){const m=Wo(s,C,D.path),_=t.resolve({path:m.path},D),$=n.createHref(m.fullPath);return ne(m,_,{params:v(_.params),hash:Ms(m.hash),redirectedFrom:void 0,href:$})}let R;if(C.path!=null)R=ne({},C,{path:Wo(s,C.path,D.path).path});else{const m=ne({},C.params);for(const _ in m)m[_]==null&&delete m[_];R=ne({},C,{params:p(m)}),D.params=p(D.params)}const U=t.resolve(R,D),se=C.hash||"";U.params=u(v(U.params));const fe=yd(o,ne({},C,{hash:hd(se),path:U.path})),g=n.createHref(fe);return ne({fullPath:fe,hash:se,query:o===Li?Yd(C.query):C.query||{}},U,{redirectedFrom:void 0,href:g})}function L(C){return typeof C=="string"?Wo(s,C,c.value.path):ne({},C)}function F(C,D){if(d!==C)return as(8,{from:D,to:C})}function W(C){return ee(C)}function X(C){return W(ne(L(C),{replace:!0}))}function ve(C){const D=C.matched[C.matched.length-1];if(D&&D.redirect){const{redirect:R}=D;let U=typeof R=="function"?R(C):R;return typeof U=="string"&&(U=U.includes("?")||U.includes("#")?U=L(U):{path:U},U.params={}),ne({query:C.query,hash:C.hash,params:U.path!=null?{}:C.params},U)}}function ee(C,D){const R=d=A(C),U=c.value,se=C.state,fe=C.force,g=C.replace===!0,m=ve(R);if(m)return ee(ne(L(m),{state:typeof m=="object"?ne({},se,m.state):se,force:fe,replace:g}),D||R);const _=R;_.redirectedFrom=D;let $;return!fe&&bd(o,U,R)&&($=as(16,{to:_,from:U}),Be(U,U,!0,!1)),($?Promise.resolve($):_e(_,U)).catch(w=>mt(w)?mt(w,2)?w:Ke(w):Z(w,_,U)).then(w=>{if(w){if(mt(w,2))return ee(ne({replace:g},L(w.to),{state:typeof w.to=="object"?ne({},se,w.to.state):se,force:fe}),D||_)}else w=Ue(_,U,!0,g,se);return et(_,U,w),w})}function Me(C,D){const R=F(C,D);return R?Promise.reject(R):Promise.resolve()}function Qe(C){const D=Et.values().next().value;return D&&typeof D.runWithContext=="function"?D.runWithContext(C):C()}function _e(C,D){let R;const[U,se,fe]=iu(C,D);R=Fo(U.reverse(),"beforeRouteLeave",C,D);for(const m of U)m.leaveGuards.forEach(_=>{R.push(Rt(_,C,D))});const g=Me.bind(null,C,D);return R.push(g),Oe(R).then(()=>{R=[];for(const m of i.list())R.push(Rt(m,C,D));return R.push(g),Oe(R)}).then(()=>{R=Fo(se,"beforeRouteUpdate",C,D);for(const m of se)m.updateGuards.forEach(_=>{R.push(Rt(_,C,D))});return R.push(g),Oe(R)}).then(()=>{R=[];for(const m of fe)if(m.beforeEnter)if(rt(m.beforeEnter))for(const _ of m.beforeEnter)R.push(Rt(_,C,D));else R.push(Rt(m.beforeEnter,C,D));return R.push(g),Oe(R)}).then(()=>(C.matched.forEach(m=>m.enterCallbacks={}),R=Fo(fe,"beforeRouteEnter",C,D,Qe),R.push(g),Oe(R))).then(()=>{R=[];for(const m of a.list())R.push(Rt(m,C,D));return R.push(g),Oe(R)}).catch(m=>mt(m,8)?m:Promise.reject(m))}function et(C,D,R){l.list().forEach(U=>Qe(()=>U(C,D,R)))}function Ue(C,D,R,U,se){const fe=F(C,D);if(fe)return fe;const g=D===Pt,m=Xt?history.state:{};R&&(U||g?n.replace(C.fullPath,ne({scroll:g&&m&&m.scroll},se)):n.push(C.fullPath,se)),c.value=C,Be(C,D,R,g),Ke()}let Ce;function tt(){Ce||(Ce=n.listen((C,D,R)=>{if(!Jt.listening)return;const U=A(C),se=ve(U);if(se){ee(ne(se,{replace:!0,force:!0}),U).catch(Cs);return}d=U;const fe=c.value;Xt&&xd(Ai(fe.fullPath,R.delta),So()),_e(U,fe).catch(g=>mt(g,12)?g:mt(g,2)?(ee(ne(L(g.to),{force:!0}),U).then(m=>{mt(m,20)&&!R.delta&&R.type===Os.pop&&n.go(-1,!1)}).catch(Cs),Promise.reject()):(R.delta&&n.go(-R.delta,!1),Z(g,U,fe))).then(g=>{g=g||Ue(U,fe,!1),g&&(R.delta&&!mt(g,8)?n.go(-R.delta,!1):R.type===Os.pop&&mt(g,20)&&n.go(-1,!1)),et(U,fe,g)}).catch(Cs)}))}let st=fs(),we=fs(),te;function Z(C,D,R){Ke(C);const U=we.list();return U.length?U.forEach(se=>se(C,D,R)):console.error(C),Promise.reject(C)}function He(){return te&&c.value!==Pt?Promise.resolve():new Promise((C,D)=>{st.add([C,D])})}function Ke(C){return te||(te=!C,tt(),st.list().forEach(([D,R])=>C?R(C):D()),st.reset()),C}function Be(C,D,R,U){const{scrollBehavior:se}=e;if(!Xt||!se)return Promise.resolve();const fe=!R&&Id(Ai(C.fullPath,0))||(U||!R)&&history.state&&history.state.scroll||null;return Sn().then(()=>se(C,D,fe)).then(g=>g&&$d(g)).catch(g=>Z(g,C,D))}const Te=C=>n.go(C);let It;const Et=new Set,Jt={currentRoute:c,listening:!0,addRoute:y,removeRoute:T,clearRoutes:t.clearRoutes,hasRoute:h,getRoutes:I,resolve:A,options:e,push:W,replace:X,go:Te,back:()=>Te(-1),forward:()=>Te(1),beforeEach:i.add,beforeResolve:a.add,afterEach:l.add,onError:we.add,isReady:He,install(C){const D=this;C.component("RouterLink",Qd),C.component("RouterView",ou),C.config.globalProperties.$router=D,Object.defineProperty(C.config.globalProperties,"$route",{enumerable:!0,get:()=>ts(c)}),Xt&&!It&&c.value===Pt&&(It=!0,W(n.location).catch(se=>{}));const R={};for(const se in Pt)Object.defineProperty(R,se,{get:()=>c.value[se],enumerable:!0});C.provide(Pn,D),C.provide(ua,hr(R)),C.provide(tn,c);const U=C.unmount;Et.add(C),C.unmount=function(){Et.delete(C),Et.size<1&&(d=Pt,Ce&&Ce(),Ce=null,c.value=Pt,It=!1,te=!1),U()}}};function Oe(C){return C.reduce((D,R)=>D.then(()=>Qe(R)),Promise.resolve())}return Jt}function iu(e,t){const s=[],o=[],n=[],i=Math.max(t.matched.length,e.matched.length);for(let a=0;a<i;a++){const l=t.matched[a];l&&(e.matched.find(d=>rs(d,l))?o.push(l):s.push(l));const c=e.matched[a];c&&(t.matched.find(d=>rs(d,c))||n.push(c))}return[s,o,n]}const Uo={en:{name:"English",code:"en",flag:"🇺🇸"},zh:{name:"中文",code:"zh",flag:"🇨🇳"}},sn="en",ut=je(sn),Fi=Wt({en:{nav:{home:"Home",aiAgent:"AI Agent",community:"Community",marketplace:"Marketplace",profile:"Profile",about:"About",login:"Login",register:"Register",logout:"Logout",logoutConfirm:"Are you sure you want to logout?",logoutSuccess:"Successfully logged out"},common:{back:"Back",save:"Save",cancel:"Cancel",confirm:"Confirm",delete:"Delete",edit:"Edit",submit:"Submit",loading:"Loading...",error:"Error",success:"Success",warning:"Warning",info:"Info",close:"Close",copy:"Copy",regenerate:"Regenerate",upload:"Upload",download:"Download",preview:"Preview",send:"Send",clear:"Clear",search:"Search",filter:"Filter",sort:"Sort",language:"Language"},home:{title:"Welcome to Labubu AI Platform",subtitle:"Create, Share, and Explore AI-Generated Content",buildAgent:"Build Agent",learnMore:"Learn More",features:{aiAgent:"AI Agent Studio",community:"Creative Community",marketplace:"Digital Marketplace"},descriptions:{aiAgent:"Build and customize intelligent AI agents with our intuitive drag-and-drop workflow editor. Create personalized chatbots, automate complex tasks, and integrate multiple AI services including LLM, image generation, speech synthesis, and more. Perfect for businesses, creators, and developers.",community:"Join a vibrant community of creators, artists, and AI enthusiasts. Share your creations, discover amazing works, participate in challenges, collaborate on projects, and learn from fellow creators. Connect, inspire, and be inspired in our creative ecosystem.",marketplace:"Discover and trade unique digital creations, custom AI agents, templates, and creative assets. Buy professional tools, sell your innovations, commission custom work, and find everything you need to enhance your creative projects in our secure marketplace.",about:"Labubu AI Platform is the ultimate creative ecosystem that combines cutting-edge AI technology with community collaboration. We empower creators to build, share, and monetize their innovations while fostering a supportive environment for learning and growth."},contact:{title:"Get in Touch",subtitle:"Ready to start your creative journey? We're here to help!",support:"Contact Support",discord:"Join Discord"},team:{title:"Our Team",subtitle:"A passionate innovation team dedicated to building the best AI creative platform",photoPlaceholder:"Team photo coming soon...",descriptionTitle:"About Us",descriptionPlaceholder:"We are a team of 5 innovative members focused on the perfect combination of AI technology and creativity. Each member brings unique professional skills and innovative perspectives, working together to create a revolutionary AI creative platform. Team description coming soon...",membersTitle:"Team Members",rolePlaceholder:"Role to be updated",memberPlaceholder:"Personal introduction coming soon..."}},aiAgent:{title:"AI Agent Studio",subtitle:"Professional AI Agent Building Platform",tabs:{basic:"Basic Info",prompt:"Prompt Builder",knowledge:"Knowledge Base",workflow:"Workflow",multimodal:"Multimodal",model:"Model Config",test:"Test & Deploy",workflowDesign:"Workflow Design",workflowDesignDesc:"Visual DAG workflow editor - Core feature",workflowManagement:"Workflow Management",workflowManagementDesc:"View and manage all DAG workflows"},actions:{saveAgent:"Save Agent",testAgent:"Test Agent",deployAgent:"Deploy Agent",createNew:"Create New Agent"},features:{workflow:"Visual Workflow Editor",multimodal:"Multi-AI Integration",automation:"Task Automation"},workflow:{nodeTypes:"Node Types",controlNodes:"Control Nodes",aiServices:"AI Services",toolNodes:"Tool Nodes",conditionDesc:"Condition Logic",llmDesc:"Large Language Model Text Processing",sttDesc:"Speech to Text",ttsDesc:"Text to Speech",pic2textDesc:"Image to Text",text2picDesc:"Text to Image",processDesc:"Data Processing",transformDesc:"Data Transform",nodeConfiguration:"Node Configuration",nodeName:"Node Name",nodeNamePlaceholder:"Enter node name",nodeDescription:"Node Description",nodeDescPlaceholder:"Describe node function",serviceType:"Service Type",selectServiceType:"Select Service Type",llmService:"Large Language Model",sttService:"Speech to Text",ttsService:"Text to Speech",pic2textService:"Image to Text",text2picService:"Text to Image",nodePrompt:"Node Prompt",nodePromptPlaceholder:"Enter node prompt...",promptTipsSimple:"Prompt guides AI on how to process input data",llmModel:"LLM Model",temperature:"Temperature",conservative:"Conservative",creative:"Creative",voiceType:"Voice Type",language:"Language",imageSize:"Image Size",imageStyle:"Image Style",conditionExpression:"Condition Expression",conditionPlaceholder:"e.g. result.length > 0",inputOutput:"Input/Output",inputPorts:"Input Ports",outputPorts:"Output Ports",addInput:"Add Input",addOutput:"Add Output",saveConfig:"Save",validateConfig:"Validate",nameRequired:"Node name is required",serviceRequired:"Please select service type",promptRequired:"Please configure node prompt",conditionRequired:"Please configure condition expression",configSaved:"Node configuration saved",configValid:"Configuration validation passed!",noNodeSelected:"Please select a node first",workflowSaved:"Workflow saved",saveFailed:"Failed to save workflow",testStarted:"Workflow test started",testFailed:"Failed to test workflow",deploySuccess:"Workflow deployed and saved to records successfully",deployFailed:"Failed to deploy workflow",defaultPrompts:{condition:"Evaluate the input content and return true or false based on the condition.",llm:"Please provide a helpful response based on the input content, keeping it accurate, concise, and useful.",stt:"Please accurately convert the audio to text, maintaining natural sentence structure and proper punctuation.",tts:"Please read the text in a natural, clear voice with appropriate speed and natural intonation.",pic2text:"Please recognize all text content in the image, maintaining the original layout structure and accurately extracting text information.",text2pic:"Generate a high-quality image based on the description with reasonable composition, harmonious colors, and rich details.",process:"Process and analyze the input data, extract useful information and organize the output.",transform:"Transform the input data to the specified format while maintaining data integrity and accuracy."},nodeConfigIncomplete:"Node configuration incomplete",nodes:"Nodes",connections:"Connections",status:"Status",clearCanvas:"Clear Canvas",saveWorkflow:"Save Workflow",testWorkflow:"Test Workflow",deployWorkflow:"Deploy",zoomIn:"Zoom In",zoomOut:"Zoom Out",resetZoom:"Reset Zoom",fitToScreen:"Fit to Screen",conditionNode:"Condition",llmNode:"LLM",sttNode:"STT",ttsNode:"TTS",pic2textNode:"Pic2Text",text2picNode:"Text2Pic",processNode:"Process",transformNode:"Transform",inputPort:"IN",outputPort:"OUT",models:{gpt4:"GPT-4",gpt35turbo:"GPT-3.5 Turbo",claude3:"Claude-3",llama2:"Llama-2",whisper1:"Whisper-1",tts1:"TTS-1",tts1hd:"TTS-1-HD",dalle3:"DALL-E 3",dalle2:"DALL-E 2"},voices:{alloy:"Alloy",echo:"Echo",fable:"Fable",onyx:"Onyx",nova:"Nova",shimmer:"Shimmer"},languages:{chinese:"Chinese",english:"English",japanese:"Japanese",korean:"Korean"},formats:{mp3:"MP3",opus:"Opus",aac:"AAC",flac:"FLAC",wav:"WAV",pcm:"PCM",json:"JSON",text:"Text",srt:"SRT",verboseJson:"Verbose JSON",vtt:"VTT",plainText:"Plain Text",markdown:"Markdown",url:"URL Link",base64:"Base64 Encoded"},labels:{maxTokens:"Max Tokens",topP:"Top P",ttsModel:"TTS Model",audioFormat:"Audio Format",speechSpeed:"Speech Speed",sttModel:"STT Model",responseFormat:"Response Format",recognitionLanguage:"Recognition Language",outputFormat:"Output Format",detailLevel:"Detail Level",imageModel:"Image Model",imageCount:"Image Count",userIdentifier:"User Identifier",conditionExpression:"Condition Expression",retryCount:"Retry Count",retryInterval:"Retry Interval (ms)",timeoutSeconds:"Timeout (s)",errorHandling:"Error Handling",fallbackValue:"Fallback Value",portName:"Port Name",dataType:"Data Type"},helpTexts:{stopSequences:"LLM will stop generating when encountering these sequences, one per line",userIdForMonitoring:"For monitoring and abuse prevention, recommend using UUID",logitBias:"Adjust probability of specific tokens, JSON object format",audioFormatHelp:"Choose audio output format, affects file size and quality",maxTokensHelp:"Limit maximum length of output text",conditionHelp:"Supports JavaScript expressions, can reference input data using variable names",retryHelp:"Number of retries when node execution fails",retryIntervalHelp:"Wait time between retries",timeoutHelp:"Maximum wait time for node execution",errorHandlingHelp:"Choose how to handle errors",fallbackHelp:"Default value to use when node execution fails",imageCountHelp:"Number of images to generate at once, DALL-E 3 supports max 1",userIdImageHelp:"For monitoring and abuse prevention, recommend using UUID"},imageSizes:{size256:"256x256",size512:"512x512",size1024:"1024x1024",size1792x1024:"1792x1024 (Landscape)",size1024x1792:"1024x1792 (Portrait)"},dataTypes:{text:"Text",image:"Image",audio:"Audio",file:"File",json:"JSON"},errorHandlingOptions:{stop:"Stop Workflow",continue:"Continue Execution",retry:"Retry Execution",fallback:"Use Fallback Value"},detailLevels:{low:"Low - Fast Processing",high:"High - Detailed Analysis",auto:"Auto - Smart Selection"},environments:{development:"Development",testing:"Testing",production:"Production"},workflowManagement:{title:"Workflow Management",description:"View and manage all your DAG workflows",runningLabel:"Running",totalWorkflows:"Total Workflows",runningWorkflows:"Running",completedWorkflows:"Completed",failedWorkflows:"Failed",searchPlaceholder:"Search workflows...",refresh:"Refresh",noWorkflows:"No Workflows",noWorkflowsDescription:"You haven't created any workflows yet. Start designing your first workflow!",createWorkflow:"Create Workflow",nodeCount:"Node Count:",createdAt:"Created At:",viewStatus:"View Status",viewResults:"View Results",clone:"Clone",deleteWorkflow:"Delete",loading:"Loading workflow list...",loadError:"Load Failed",retry:"Retry",close:"Close",refreshStatus:"Refresh Status",refreshStatusFailed:"Failed to refresh status"},inputData:"Input Data Configuration",inputContent:"Input Content",inputTextPlaceholder:"Enter text content...",uploadImage:"Upload Image",uploadAudio:"Upload Audio",uploadFile:"Upload File",clickToUpload:"Click to upload image",clickToUploadAudio:"Click to upload audio",clickToUploadFile:"Click to upload file",supportedFormats:"Supports JPG, PNG, GIF, BMP, WEBP, SVG formats, auto-converted to JPEG",audioFormats:"Supports MP3, WAV, OGG formats, auto-set to WAV format",inputJson:"JSON Data",jsonPlaceholder:"Enter JSON format data...",jsonHint:"Please enter valid JSON format data",configurationPanel:"Configuration Panel",selectNodeToConfig:"Select Node to Configure",configInstructions:"Please follow these steps:",step1:"Drag nodes from left sidebar to canvas",step2:"Click on a node to select it",step2Detail:"Click the node itself, not the connection points",step3:"Configure node parameters here",step4:"Set input data (text, images, etc.)",step4Detail:'Input in the "Input Data Configuration" section below',tipInputLocation:'Input Text Location: After selecting a node, scroll down to find the "Input Data Configuration" section',tip1:"LLM nodes accept text input, can process other formats through workflow connections",tip2:"Drag connection points to create data flows",tip3:"Test and deploy workflow after configuration",shortcuts:{keyboardGuide:"Keyboard Shortcuts Guide",editOperations:"Edit Operations",workflowOperations:"Workflow Operations",canvasOperations:"Canvas Operations",undo:"Undo",redo:"Redo",copySelectedNode:"Copy Selected Node",pasteNode:"Paste Node",deleteSelectedNode:"Delete Selected Node",saveWorkflow:"Save Workflow",selectAllNodes:"Select All Nodes",zoomCanvas:"Zoom Canvas",moveCanvas:"Move Canvas",selectNode:"Select Node",dragNode:"Drag Node",mouseWheel:"Mouse Wheel",dragBlankArea:"Drag Blank Area",clickNode:"Click Node",dragToConnect:"Drag to create connection"},statusValues:{ready:"Ready",running:"Running",completed:"Completed",failed:"Failed",empty:"Empty",unnamed:"Unnamed Workflow",deployed:"Deployed",pending:"Pending"},toolbar:{clear:"Clear",save:"Save",saveWorkflow:"Save Workflow",testWorkflow:"Test Workflow",deployWorkflow:"Deploy Workflow",redeployWorkflow:"Redeploy",designer:"Designer",dagWorkflow:"DAG Workflow"},statusFilters:{all:"All",running:"Running",completed:"Completed",failed:"Failed",pending:"Pending"},nodeDescriptions:{workflowStart:"Workflow start",workflowEnd:"Workflow end",conditionJudgment:"Condition judgment",dataProcessing:"Data processing",dataTransformation:"Data transformation"},ports:{trigger:"trigger",result:"result",input:"input",output:"output",true:"true",false:"false",prompt:"prompt",response:"response",audio:"audio",text:"text",image:"image"},inputPortsLabel:"🔽 Input:",outputPortsLabel:"🔼 Output:",generalConfig:"General Configuration",retryCount:"Retry Count",retryCountPlaceholder:"3",retryCountHelp:"Number of retries when node execution fails",retryInterval:"Retry Interval(ms)",retryIntervalPlaceholder:"1000",retryIntervalHelp:"Wait time between each retry",executionTimeout:"Execution Timeout(s)",executionTimeoutPlaceholder:"30",executionTimeoutHelp:"Maximum wait time for node execution",errorHandling:"Error Handling",errorHandlingHelp:"Choose how to handle errors",fallbackValue:"Fallback Value",fallbackValuePlaceholder:"Default value to use on error",fallbackValueHelp:"Fallback value when node execution fails",portNamePlaceholder:"Port Name",portTypes:{text:"Text",image:"Image",audio:"Audio",file:"File",json:"JSON"},unknown:"Unknown",jsExpressionHelp:"Supports JavaScript expressions, can reference input data using variable names",fromNode:"From Node",toNode:"To Node",connectionConfiguration:"Connection Configuration",connectionPrompt:"Connection Prompt",connectionPromptPlaceholder:"Enter connection prompt for data transformation during passing...",connectionPromptTips:"Connection prompt defines transformation logic for data passing between nodes, can include variables like {input_data}",connectionDescription:"Connection Description",connectionDescPlaceholder:"Describe this connection's purpose...",saveConnection:"Save Connection",deleteConnection:"Delete Connection",errors:{dataTypeIncompatible:"Data type incompatible: {outputNode} outputs {outputType} type, but {inputNode} only accepts {inputType} type input"}}},community:{title:"Creative Community",subtitle:"Share your creativity with the world",heroTitle:"Creative Notes Community",heroSubtitle:"Share your creative ideas and discover more inspiration",totalNotes:"Total Notes",todayNotes:"Today",activeTags:"Active Tags",searchPlaceholder:"Search note content, tags, or authors...",trendingTags:"Trending Tags",shareNote:"Share your creative note...",noNotes:"No Notes",noNotesDesc:"Come and publish your first note!",loading:"Loading...",publish:"Publish Note",selectWorkflow:"Select AI Agent Workflow",addComment:"Add comment...",send:"Send",tryWorkflow:"Try",loadMore:"Load More",labubu:{welcomeTitle:"Welcome to Labubu's Creative World!",welcomeText:"Here, every creative idea is as charming and surprising as Labubu. Let's explore the infinite possibilities of AI together and light up every corner of the digital world with warm creativity.",features:{creativity:"Unlimited Creativity",sharing:"Inspiration Sharing",ai:"AI Powered",community:"Warm Community"}},timeAgo:{minutesAgo:"{count} minutes ago",minuteAgo:"1 minute ago",hoursAgo:"{count} hours ago",hourAgo:"1 hour ago",daysAgo:"{count} days ago",dayAgo:"1 day ago",weeksAgo:"{count} weeks ago",weekAgo:"1 week ago",monthsAgo:"{count} months ago",monthAgo:"1 month ago",yearsAgo:"{count} years ago",yearAgo:"1 year ago",justNow:"Just now"},filters:{all:"All",text:"Text",image:"Image",video:"Video",workflow:"Workflow"},noteTypes:{text:"Text Note",image:"Image Share",video:"Video Share",workflow:"AI Workflow"},tags:{aiCreation:"AI Creation",labubu:"Labubu",designInspiration:"Design Inspiration",photographyTips:"Photography Tips",programmingNotes:"Programming Notes",lifeRecords:"Life Records",learningInsights:"Learning Insights",workflows:"Workflows",creativeIdeas:"Creative Ideas",techSharing:"Tech Sharing"},placeholders:{text:"Share your thoughts, experiences, or inspiration...",image:"Add description for your images...",video:"Add description for your video...",workflow:"Introduce your AI workflow functions and uses..."},uploadTexts:{image:"Click or drag to upload images",video:"Click or drag to upload video"},tabs:{feed:"Feed",gallery:"Gallery",events:"Events",groups:"Groups"},actions:{createPost:"Create Post",like:"Like",comment:"Comment",share:"Share",follow:"Follow",joinGroup:"Join Group",leaveGroup:"Leave Group"},features:{connect:"Creator Network",challenges:"Creative Challenges",showcase:"Portfolio Showcase"}},marketplace:{title:"Creative Marketplace",subtitle:"Discover and trade digital creations",categories:{artworks:"Artworks",music:"Music",videos:"Videos",tools:"Tools"},actions:{buy:"Buy",sell:"Sell",addToCart:"Add to Cart",checkout:"Checkout"},features:{assets:"Digital Assets",secure:"Secure Trading",monetize:"Monetize Creations"}},about:{title:"About Labubu AI Platform",subtitle:"Learn more about our platform and mission",sections:{mission:"Our Mission",features:"Key Features",technology:"Technology Stack",team:"Our Team"},features:{innovation:"AI Innovation",collaboration:"Community Spirit",growth:"Creator Growth"}},login:{title:"LABUBU AI",username:"Username",password:"Password",usernamePlaceholder:"Enter username",passwordPlaceholder:"Enter password",rememberMe:"Remember me",forgotPassword:"Forgot password?",loginButton:"Login",loggingIn:"Logging In",loadingTip:"Login verification may take some time, please wait patiently...",noAccount:"Don't have an account?",registerNow:"Register now",passwordError:"Password must be at least 8 characters with letters and special characters",forgotMessage:"Please contact admin to reset password.",registerMessage:"Registration feature is not yet open.",loginFailed:"Login failed",loginSuccess:"Login successful",usernameRequired:"Please enter username",passwordRequired:"Please enter password"},register:{title:"Create New Account",username:"Username",email:"Email",password:"Password",confirmPassword:"Confirm Password",verificationCode:"Verification Code",usernamePlaceholder:"Enter username",emailPlaceholder:"Enter email",passwordPlaceholder:"Enter password",passwordHint:"Password requirements: 8-16 characters, including at least two of: uppercase letters, lowercase letters, digits",confirmPasswordPlaceholder:"Enter password again",codePlaceholder:"Enter verification code",getCode:"Get Code",registerButton:"Register",registering:"Registering",registeringTip:"Account registration verification may take some time, please wait patiently...",hasAccount:"Already have an account?",goLogin:"Go to login",completeInfo:"Please fill in complete information",usernameError:"Username must be 4-20 characters (letters, numbers, or underscores)",emailError:"Please enter a valid email address",passwordError:"Password must be at least 8 characters with letters and special characters",confirmError:"The two passwords do not match",codeError:"Please enter verification code",registerSuccess:"Registration successful!",getCode:"Get Code",sending:"Sending...",sentCountdown:"Sent (180s)",sentTime:"Sent ({time}s)",sendingCode:"Sending verification code",loadingTip:"Email verification may take some time, please wait patiently...",codeSuccess:"Verification code has been sent to your email, please check!",emailFormatError:"Invalid email format",usernameRequired:"Please enter username",usernameLength:"Username must be longer than 2 characters",passwordLength:"Password length must be 8-16 characters",passwordComplexity:"Password must include at least two of: uppercase letters, lowercase letters, digits",passwordMismatch:"The two passwords do not match",invalidCode:"Verification code is invalid or expired",serverError:"Server error, please try again later",sendCodeError:"Failed to send verification code",sendCodeFailed:"Failed to send verification code",registerFailed:"Registration failed"},profile:{aiAgents:"AI Agents",posts:"Posts",transactions:"Transactions",editProfile:"Edit Profile",share:"Share",myAIAgents:"My AI Agents",createAgent:"Create New Agent",myCommunityContent:"My Community Content",createPost:"Create Post",marketplace:"Marketplace",settings:"Settings",community:"Community",mySelling:"My Products",purchases:"Purchases",sales:"Sales",myProducts:"My Products",addProduct:"Add Product",purchaseHistory:"Purchase History",salesHistory:"Sales History",accountSettings:"Account Settings",privacy:"Privacy Settings",notifications:"Notification Settings",username:"Username",email:"Email",bio:"Bio",bioPlaceholder:"Tell us about yourself...",publicProfile:"Public Profile",publicProfileDesc:"Allow others to view your profile",showActivity:"Show Activity",showActivityDesc:"Display your recent activities",emailNotifications:"Email Notifications",emailNotificationsDesc:"Receive notifications via email",marketingEmails:"Marketing Emails",marketingEmailsDesc:"Receive promotional content",saveChanges:"Save Changes",deleteAccount:"Delete Account",deleteAccountConfirm:"Are you sure you want to delete your account? This action cannot be undone!",runs:"Runs",success:"Success Rate",edit:"Edit",run:"Run",delete:"Delete",view:"View",stats:"Stats",seller:"Seller",buyer:"Buyer",viewOrder:"View Order",review:"Review",process:"Process",selectAvatar:"Select Avatar",avatarTip:"Choose a favorite avatar as your personal image",cancel:"Cancel",confirm:"Confirm",avatarUpdated:"Avatar updated successfully!",avatarUpdateFailed:"Failed to update avatar, please try again",avatarEditMsg:"Avatar editing feature coming soon",profileEditMsg:"Profile editing feature coming soon",linkCopied:"Link copied to clipboard",settingsSaved:"Settings saved",deleteAccountMsg:"Account deletion requires contacting customer service",status:{active:"Active",draft:"Draft",inactive:"Inactive"},postType:{artwork:"Artwork",tutorial:"Tutorial",discussion:"Discussion",showcase:"Showcase"},productStatus:{active:"Active",sold_out:"Sold Out",draft:"Draft"},transactionStatus:{pending:"Pending",completed:"Completed",delivered:"Delivered",cancelled:"Cancelled"}}},zh:{nav:{home:"首页",aiAgent:"AI智能体",community:"社区",marketplace:"市场",profile:"个人中心",about:"关于",login:"登录",register:"注册",logout:"登出",logoutConfirm:"确定要登出吗？",logoutSuccess:"已成功登出"},common:{back:"返回",save:"保存",cancel:"取消",confirm:"确认",delete:"删除",edit:"编辑",submit:"提交",loading:"加载中...",error:"错误",success:"成功",warning:"警告",info:"信息",close:"关闭",copy:"复制",regenerate:"重新生成",upload:"上传",download:"下载",preview:"预览",send:"发送",clear:"清除",search:"搜索",filter:"筛选",sort:"排序",language:"语言"},home:{title:"欢迎来到Labubu AI平台",subtitle:"创造、分享和探索AI生成内容",buildAgent:"构建智能体",learnMore:"了解更多",features:{aiAgent:"AI智能体工作室",community:"创意社区",marketplace:"数字市场"},descriptions:{aiAgent:"使用我们直观的拖拽式工作流编辑器构建和定制智能AI代理。创建个性化聊天机器人，自动化复杂任务，整合多种AI服务包括大语言模型、图像生成、语音合成等。适合企业、创作者和开发者使用。",community:"加入由创作者、艺术家和AI爱好者组成的活跃社区。分享您的创作，发现精彩作品，参与挑战赛，协作项目，向同行学习。在我们的创意生态系统中连接、启发并获得灵感。",marketplace:"探索和交易独特的数字创作、定制AI代理、模板和创意资产。购买专业工具，出售您的创新作品，委托定制工作，在我们安全的市场中找到增强创意项目所需的一切。",about:"Labubu AI平台是结合前沿AI技术与社区协作的终极创意生态系统。我们赋能创作者构建、分享和变现他们的创新，同时营造支持学习和成长的环境。"},contact:{title:"联系我们",subtitle:"准备开始您的创意之旅了吗？我们随时为您提供帮助！",support:"联系支持",discord:"加入Discord"},team:{title:"我们的团队",subtitle:"充满激情的创新团队，致力于打造最优秀的AI创作平台",photoPlaceholder:"团队照片即将上传...",descriptionTitle:"关于我们",descriptionPlaceholder:"我们是一支由5名充满创新精神的成员组成的团队，专注于AI技术与创意的完美结合。每个成员都带来了独特的专业技能和创新视角，共同致力于打造革命性的AI创作平台。团队介绍内容即将更新...",membersTitle:"团队成员",rolePlaceholder:"职位待更新",memberPlaceholder:"个人介绍即将更新..."}},aiAgent:{title:"AI智能体工作室",subtitle:"专业的AI智能体构建平台",tabs:{basic:"基础信息",prompt:"提示词构建",knowledge:"知识库",workflow:"工作流",multimodal:"多模态",model:"模型配置",test:"测试与部署",workflowDesign:"工作流设计",workflowDesignDesc:"可视化DAG工作流编辑器 - 核心功能",workflowManagement:"工作流管理",workflowManagementDesc:"查看和管理您的所有DAG工作流"},actions:{saveAgent:"保存智能体",testAgent:"测试智能体",deployAgent:"部署智能体",createNew:"创建新智能体"},features:{workflow:"可视化工作流编辑",multimodal:"多AI服务集成",automation:"任务自动化"},workflow:{nodeTypes:"节点类型",controlNodes:"控制节点",aiServices:"AI服务",toolNodes:"工具节点",conditionDesc:"条件判断",llmDesc:"大语言模型文本处理",sttDesc:"语音转文字",ttsDesc:"文字转语音",pic2textDesc:"图片转文字",text2picDesc:"文字转图片",processDesc:"数据处理",transformDesc:"数据转换",nodeConfiguration:"节点配置",nodeName:"节点名称",nodeNamePlaceholder:"输入节点名称",nodeDescription:"节点描述",nodeDescPlaceholder:"描述节点功能",serviceType:"服务类型",selectServiceType:"选择服务类型",llmService:"大语言模型",sttService:"语音转文字",ttsService:"文字转语音",pic2textService:"图片转文字",text2picService:"文字转图片",nodePrompt:"节点提示词",nodePromptPlaceholder:"输入节点的提示词...",promptTipsSimple:"提示词用于指导AI如何处理输入数据",llmModel:"LLM模型",temperature:"温度值",conservative:"保守",creative:"创造",voiceType:"语音类型",language:"语言",imageSize:"图片尺寸",imageStyle:"图片风格",conditionExpression:"条件表达式",conditionPlaceholder:"例如：result.length > 0",inputOutput:"输入输出",inputPorts:"输入端口",outputPorts:"输出端口",addInput:"添加输入",addOutput:"添加输出",saveConfig:"保存",validateConfig:"验证",nameRequired:"节点名称不能为空",serviceRequired:"请选择服务类型",promptRequired:"请配置节点提示词",conditionRequired:"请配置条件表达式",configSaved:"节点配置已保存",configValid:"节点配置验证通过！",noNodeSelected:"请先选择一个节点",workflowSaved:"工作流已保存",saveFailed:"保存工作流失败",testStarted:"工作流测试已启动",testFailed:"测试工作流失败",deploySuccess:"工作流部署成功并已保存到记录中",deployFailed:"部署工作流失败",defaultPrompts:{condition:"根据输入内容进行条件判断，返回true或false。",llm:"请根据输入内容提供有用的回答，保持回答准确、简洁、有帮助。",stt:"请将音频准确转换为文字，保持自然的句子结构和正确的标点符号。",tts:"请以自然、清晰的语调朗读文字，注意语速适中，语音自然。",pic2text:"请识别图片中的所有文字内容，保持原有的排版结构，准确提取文字信息。",text2pic:"根据描述生成高质量图片，画面构图合理，色彩和谐，细节丰富。",process:"对输入数据进行处理和分析，提取有用信息并整理输出。",transform:"将输入数据转换为指定格式，保持数据的完整性和准确性。"},nodeConfigIncomplete:"节点配置不完整",nodes:"节点",connections:"连接",status:"状态",clearCanvas:"清空画布",saveWorkflow:"保存工作流",testWorkflow:"测试运行",deployWorkflow:"部署",redeployWorkflow:"重新部署",zoomIn:"放大",zoomOut:"缩小",resetZoom:"重置缩放",fitToScreen:"适合屏幕",conditionNode:"条件",llmNode:"大语言模型",sttNode:"语音转文字",ttsNode:"文字转语音",pic2textNode:"图片转文字",text2picNode:"文字转图片",processNode:"处理",transformNode:"转换",inputPort:"入",outputPort:"出",models:{gpt4:"GPT-4",gpt35turbo:"GPT-3.5 Turbo",claude3:"Claude-3",llama2:"Llama-2",whisper1:"Whisper-1",tts1:"TTS-1",tts1hd:"TTS-1-HD",dalle3:"DALL-E 3",dalle2:"DALL-E 2"},voices:{alloy:"Alloy",echo:"Echo",fable:"Fable",onyx:"Onyx",nova:"Nova",shimmer:"Shimmer"},languages:{chinese:"中文",english:"英文",japanese:"日文",korean:"韩文"},formats:{mp3:"MP3",opus:"Opus",aac:"AAC",flac:"FLAC",wav:"WAV",pcm:"PCM",json:"JSON",text:"文本",srt:"SRT",verboseJson:"详细JSON",vtt:"VTT",plainText:"纯文本",markdown:"Markdown",url:"URL链接",base64:"Base64编码"},labels:{maxTokens:"最大Token数",topP:"Top P",ttsModel:"TTS模型",audioFormat:"音频格式",speechSpeed:"语速",sttModel:"STT模型",responseFormat:"响应格式",recognitionLanguage:"识别语言",outputFormat:"输出格式",detailLevel:"详细程度",imageModel:"图片模型",imageCount:"图片数量",userIdentifier:"用户标识",conditionExpression:"条件表达式",retryCount:"重试次数",retryInterval:"重试间隔(ms)",timeoutSeconds:"超时时间(s)",errorHandling:"错误处理",fallbackValue:"备用值",portName:"端口名称",dataType:"数据类型"},helpTexts:{stopSequences:"LLM遇到这些序列时将停止生成，每行一个序列",userIdForMonitoring:"用于监控和防滥用，建议使用UUID",logitBias:"调整特定令牌的出现概率，格式为JSON对象",audioFormatHelp:"选择音频输出格式，影响文件大小和质量",maxTokensHelp:"限制输出文本的最大长度",conditionHelp:"支持JavaScript表达式，可使用变量名引用输入数据",retryHelp:"节点执行失败时的重试次数",retryIntervalHelp:"每次重试之间的等待时间",timeoutHelp:"节点执行的最大等待时间",errorHandlingHelp:"选择错误发生时的处理方式",fallbackHelp:"当节点执行失败时使用的备用值",imageCountHelp:"一次生成的图片数量，DALL-E 3最多支持1张",userIdImageHelp:"用于监控和防滥用，建议使用UUID"},imageSizes:{size256:"256x256",size512:"512x512",size1024:"1024x1024",size1792x1024:"1792x1024 (横向)",size1024x1792:"1024x1792 (纵向)"},dataTypes:{text:"文本",image:"图片",audio:"音频",file:"文件",json:"JSON"},errorHandlingOptions:{stop:"停止工作流",continue:"继续执行",retry:"重试执行",fallback:"使用备用值"},detailLevels:{low:"低 - 快速处理",high:"高 - 详细分析",auto:"自动 - 智能选择"},environments:{development:"开发环境",testing:"测试环境",production:"生产环境"},workflowManagement:{title:"工作流管理",description:"查看和管理您的所有DAG工作流",runningLabel:"运行中",totalWorkflows:"总工作流",runningWorkflows:"运行中",completedWorkflows:"已完成",failedWorkflows:"失败",searchPlaceholder:"搜索工作流...",refresh:"刷新",noWorkflows:"暂无工作流",noWorkflowsDescription:"您还没有创建任何工作流，现在就开始设计您的第一个工作流吧！",createWorkflow:"创建工作流",nodeCount:"节点数:",createdAt:"创建时间:",viewStatus:"查看状态",viewResults:"查看结果",clone:"复制",deleteWorkflow:"删除",loading:"正在加载工作流列表...",loadError:"加载失败",retry:"重试",close:"关闭",refreshStatus:"刷新状态",refreshStatusFailed:"刷新状态失败"},inputData:"输入数据配置",inputContent:"输入内容",inputTextPlaceholder:"输入文本内容...",uploadImage:"上传图片",uploadAudio:"上传音频",uploadFile:"上传文件",clickToUpload:"点击上传图片",clickToUploadAudio:"点击上传音频",clickToUploadFile:"点击上传文件",supportedFormats:"支持 JPG、PNG、GIF、BMP、WEBP、SVG 格式，自动转换为JPEG",audioFormats:"支持 MP3、WAV、OGG 格式，自动设置为WAV格式",inputJson:"JSON数据",jsonPlaceholder:"输入JSON格式数据...",jsonHint:"请输入有效的JSON格式数据",configurationPanel:"配置面板",selectNodeToConfig:"选择节点进行配置",configInstructions:"请按照以下步骤操作：",step1:"从左侧拖拽节点到画布",step2:"点击节点进行选择",step2Detail:"点击节点本身，不是连接点",step3:"在此处配置节点参数",step4:"设置输入数据（文字、图片等）",step4Detail:'在下方"输入数据配置"中输入',tipInputLocation:'输入文字位置：选择节点后，向下滚动找到"输入数据配置"部分',tip1:"LLM节点接受文本输入，可通过工作流连接处理其他格式",tip2:"拖拽节点连接点可以创建数据流",tip3:"配置完成后可以测试和部署工作流",shortcuts:{keyboardGuide:"快捷键指南",editOperations:"编辑操作",workflowOperations:"工作流操作",canvasOperations:"画布操作",undo:"撤销",redo:"重做",copySelectedNode:"复制选中节点",pasteNode:"粘贴节点",deleteSelectedNode:"删除选中节点",saveWorkflow:"保存工作流",selectAllNodes:"选择所有节点",zoomCanvas:"缩放画布",moveCanvas:"移动画布",selectNode:"选择节点",dragNode:"拖拽节点",mouseWheel:"鼠标滚轮",dragBlankArea:"拖拽空白区域",clickNode:"点击节点",dragToConnect:"按住拖拽创建连接"},statusValues:{ready:"就绪",running:"运行中",completed:"已完成",failed:"失败",empty:"空白",unnamed:"未命名工作流",deployed:"已部署",pending:"待运行"},toolbar:{clear:"清空",save:"保存",saveWorkflow:"保存工作流",testWorkflow:"测试工作流",deployWorkflow:"部署工作流",redeployWorkflow:"重新部署",designer:"设计器",dagWorkflow:"DAG工作流"},statusFilters:{all:"全部",running:"运行中",completed:"已完成",failed:"失败",pending:"待运行"},nodeDescriptions:{workflowStart:"工作流开始",workflowEnd:"工作流结束",conditionJudgment:"条件判断",dataProcessing:"数据处理",dataTransformation:"数据转换"},ports:{trigger:"触发器",result:"结果",input:"输入",output:"输出",true:"真",false:"假",prompt:"提示",response:"响应",audio:"音频",text:"文本",image:"图片"},inputPortsLabel:"🔽 输入:",outputPortsLabel:"🔼 输出:",generalConfig:"通用配置",retryCount:"重试次数",retryCountPlaceholder:"3",retryCountHelp:"节点执行失败时的重试次数",retryInterval:"重试间隔(ms)",retryIntervalPlaceholder:"1000",retryIntervalHelp:"每次重试之间的等待时间",executionTimeout:"超时时间(s)",executionTimeoutPlaceholder:"30",executionTimeoutHelp:"节点执行的最大等待时间",errorHandling:"错误处理",errorHandlingHelp:"选择错误发生时的处理方式",fallbackValue:"备用值",fallbackValuePlaceholder:"错误时使用的默认值",fallbackValueHelp:"当节点执行失败时使用的备用值",portNamePlaceholder:"端口名称",portTypes:{text:"文本",image:"图片",audio:"音频",file:"文件",json:"JSON"},unknown:"未知",jsExpressionHelp:"支持JavaScript表达式，可使用变量名引用输入数据",fromNode:"源节点",toNode:"目标节点",connectionConfiguration:"连接配置",connectionPrompt:"连接提示词",connectionPromptPlaceholder:"输入连接提示词，用于在数据传递时进行转换或处理...",connectionPromptTips:"连接提示词用于定义数据在节点间传递时的转换逻辑，可以包含变量如 {input_data}",connectionDescription:"连接描述",connectionDescPlaceholder:"描述此连接的作用...",saveConnection:"保存连接",deleteConnection:"删除连接",errors:{dataTypeIncompatible:"数据类型不兼容：{outputNode} 输出 {outputType} 类型，但 {inputNode} 只接受 {inputType} 类型输入"}}},community:{title:"创意社区",subtitle:"与世界分享您的创意",heroTitle:"创意笔记社区",heroSubtitle:"分享你的创意想法，发现更多灵感",totalNotes:"总笔记数",todayNotes:"今日新增",activeTags:"活跃标签",searchPlaceholder:"搜索笔记内容、标签或作者...",trendingTags:"热门标签",shareNote:"分享你的创意笔记...",noNotes:"暂无笔记",noNotesDesc:"快来发布第一篇笔记吧！",loading:"加载中...",publish:"发布笔记",selectWorkflow:"选择AI Agent工作流",addComment:"添加评论...",send:"发送",tryWorkflow:"试用",loadMore:"加载更多",labubu:{welcomeTitle:"欢迎来到Labubu的创意世界！",welcomeText:"在这里，每一个创意都像Labubu一样充满魅力和惊喜。让我们一起探索AI的无限可能，用温暖的创意点亮数字世界的每一个角落。",features:{creativity:"创意无限",sharing:"灵感共享",ai:"AI驱动",community:"温暖社区"}},timeAgo:{minutesAgo:"{count}分钟前",minuteAgo:"1分钟前",hoursAgo:"{count}小时前",hourAgo:"1小时前",daysAgo:"{count}天前",dayAgo:"1天前",weeksAgo:"{count}周前",weekAgo:"1周前",monthsAgo:"{count}个月前",monthAgo:"1个月前",yearsAgo:"{count}年前",yearAgo:"1年前",justNow:"刚刚"},filters:{all:"全部",text:"文字",image:"图片",video:"视频",workflow:"工作流"},noteTypes:{text:"文字笔记",image:"图片分享",video:"视频分享",workflow:"AI工作流"},tags:{aiCreation:"AI创作",labubu:"Labubu",designInspiration:"设计灵感",photographyTips:"摄影技巧",programmingNotes:"编程笔记",lifeRecords:"生活记录",learningInsights:"学习心得",workflows:"工作流程",creativeIdeas:"创意想法",techSharing:"技术分享"},placeholders:{text:"分享你的想法、经验或灵感...",image:"为你的图片添加描述...",video:"为你的视频添加说明...",workflow:"介绍你的AI工作流功能和用途..."},uploadTexts:{image:"点击或拖拽上传图片",video:"点击或拖拽上传视频"},tabs:{feed:"动态",gallery:"作品集",events:"活动",groups:"群组"},actions:{createPost:"发布动态",like:"点赞",comment:"评论",share:"分享",follow:"关注",joinGroup:"加入群组",leaveGroup:"退出群组"},features:{connect:"创作者网络",challenges:"创意挑战赛",showcase:"作品展示"}},marketplace:{title:"创意市场",subtitle:"发现和交易数字创作",categories:{artworks:"艺术作品",music:"音乐",videos:"视频",tools:"工具"},actions:{buy:"购买",sell:"出售",addToCart:"加入购物车",checkout:"结算"},features:{assets:"数字资产",secure:"安全交易",monetize:"作品变现"}},about:{title:"关于Labubu AI平台",subtitle:"了解我们的平台和使命",sections:{mission:"我们的使命",features:"核心功能",technology:"技术栈",team:"我们的团队"},features:{innovation:"AI创新技术",collaboration:"社区协作",growth:"创作者成长"}},login:{title:"LABUBU AI",username:"用户名",password:"密码",usernamePlaceholder:"请输入用户名",passwordPlaceholder:"请输入密码",rememberMe:"记住我",forgotPassword:"忘记密码？",loginButton:"登录",loggingIn:"登录中",loadingTip:"登录验证可能需要一些时间，请耐心等待...",noAccount:"还没有账号？",registerNow:"注册新账号",passwordError:"密码需至少8位，且包含英文和特殊字符",forgotMessage:"请联系管理员重置密码。",registerMessage:"注册功能暂未开放。",loginFailed:"登录失败",loginSuccess:"登录成功",usernameRequired:"请输入用户名",passwordRequired:"请输入密码"},register:{title:"注册新账号",username:"用户名",email:"邮箱",password:"密码",confirmPassword:"确认密码",verificationCode:"验证码",usernamePlaceholder:"请输入用户名",emailPlaceholder:"请输入邮箱",passwordPlaceholder:"请输入密码",passwordHint:"密码要求：8-16位，至少包含大写字母、小写字母、数字中的两种",confirmPasswordPlaceholder:"请再次输入密码",codePlaceholder:"请输入验证码",getCode:"获取验证码",registerButton:"注册",registering:"注册中",registeringTip:"账户注册验证可能需要一些时间，请耐心等待...",hasAccount:"已有账号？",goLogin:"去登录",completeInfo:"请填写完整信息",usernameError:"用户名需为4-20位字母、数字或下划线",emailError:"请输入有效的邮箱地址",passwordError:"密码需至少8位，且包含英文和特殊字符",confirmError:"两次输入的密码不一致",codeError:"请输入验证码",registerSuccess:"注册成功！",getCode:"获取验证码",sending:"发送中...",sentCountdown:"已发送(180s)",sentTime:"已发送({time}s)",sendingCode:"正在发送验证码",loadingTip:"邮箱验证码发送需要一些时间，请耐心等待...",codeSuccess:"验证码已发送到您的邮箱，请查收！",emailFormatError:"邮箱格式不正确",usernameRequired:"请输入用户名",usernameLength:"用户名长度必须大于2个字符",passwordLength:"密码长度必须为8-16位",passwordComplexity:"密码必须包含大写字母、小写字母、数字中至少两类",passwordMismatch:"两次输入的密码不一致",invalidCode:"验证码错误或已过期",serverError:"服务器错误，请稍后重试",sendCodeError:"验证码发送失败",sendCodeFailed:"验证码发送失败",registerFailed:"注册失败"},profile:{aiAgents:"AI智能体",posts:"帖子",transactions:"交易",editProfile:"编辑资料",share:"分享",myAIAgents:"我的AI智能体",createAgent:"创建新智能体",myCommunityContent:"我的社区内容",createPost:"创建帖子",marketplace:"市场",settings:"设置",community:"社区",mySelling:"我的商品",purchases:"购买记录",sales:"销售记录",myProducts:"我的商品",addProduct:"添加商品",purchaseHistory:"购买历史",salesHistory:"销售历史",accountSettings:"账户设置",privacy:"隐私设置",notifications:"通知设置",username:"用户名",email:"邮箱",bio:"个人简介",bioPlaceholder:"介绍一下自己...",publicProfile:"公开资料",publicProfileDesc:"允许他人查看你的资料",showActivity:"显示活动",showActivityDesc:"显示你的最近活动",emailNotifications:"邮件通知",emailNotificationsDesc:"通过邮件接收通知",marketingEmails:"营销邮件",marketingEmailsDesc:"接收推广内容",saveChanges:"保存更改",deleteAccount:"删除账户",deleteAccountConfirm:"确定要删除账户吗？此操作无法撤销！",runs:"运行次数",success:"成功率",edit:"编辑",run:"运行",delete:"删除",view:"查看",stats:"统计",seller:"卖家",buyer:"买家",viewOrder:"查看订单",review:"评价",process:"处理",selectAvatar:"选择头像",avatarTip:"选择一个你喜欢的头像作为你的个人形象",cancel:"取消",confirm:"确认",avatarUpdated:"头像更新成功！",avatarUpdateFailed:"头像更新失败，请重试",avatarEditMsg:"头像编辑功能即将推出",profileEditMsg:"个人资料编辑功能即将推出",linkCopied:"链接已复制到剪贴板",settingsSaved:"设置已保存",deleteAccountMsg:"账户删除需要联系客服",status:{active:"活跃",draft:"草稿",inactive:"未激活"},postType:{artwork:"艺术作品",tutorial:"教程",discussion:"讨论",showcase:"展示"},productStatus:{active:"在售",sold_out:"售罄",draft:"草稿"},transactionStatus:{pending:"待处理",completed:"已完成",delivered:"已送达",cancelled:"已取消"}}}});class ru{constructor(){this.translations=Fi,this.init()}init(){const t=localStorage.getItem("user_selected_language"),s=localStorage.getItem("language");t==="true"&&s&&Uo[s]?ut.value=s:(ut.value=sn,localStorage.setItem("language",sn))}getCurrentLanguage(){return ut.value}setLanguage(t){Uo[t]&&(ut.value=t,localStorage.setItem("language",t),localStorage.setItem("user_selected_language","true"),document.documentElement.lang=t)}getLanguages(){return Uo}t(t,s=""){const o=t.split(".");let n=Fi[ut.value];for(const i of o)if(n=n==null?void 0:n[i],n===void 0)break;return n||s||t}isZh(){return ut.value==="zh"}isEn(){return ut.value==="en"}}const on=new ru;function lo(){const e=localStorage.getItem("labubu_token"),t=localStorage.getItem("userInfo");if(!e||!t)return!1;try{const s=cu(e),o=Date.now()/1e3;return s.exp&&s.exp<o?(console.log("JWT token已过期"),nn(),!1):!0}catch(s){return console.error("JWT token解析失败:",s),nn(),!1}}function au(){if(!lo())return null;try{const e=localStorage.getItem("userInfo");return JSON.parse(e)}catch(e){return console.error("解析用户信息失败:",e),null}}function nn(){localStorage.removeItem("labubu_token"),localStorage.removeItem("userInfo"),localStorage.removeItem("labubu_remember")}function lu(){nn(),console.log("用户已登出")}function cu(e){try{const t=e.split(".");if(t.length!==3)throw new Error("Invalid JWT format");const s=t[1],o=atob(s.replace(/-/g,"+").replace(/_/g,"/"));return JSON.parse(o)}catch{throw new Error("Failed to parse JWT token")}}const Nn="/assets/logo-1ac37671.png";const xt=(e,t)=>{const s=e.__vccOpts||e;for(const[o,n]of t)s[o]=n;return s},du={name:"App",data(){return{isScrolled:!1,showScrollTop:!1,isUserAuthenticated:!1,currentUser:null}},computed:{currentLanguage(){return ut.value},currentLanguageFlag(){return this.currentLanguage==="zh"?"🇨🇳":"🇺🇸"},currentLanguageName(){return this.currentLanguage==="zh"?"中文":"EN"}},mounted(){window.addEventListener("scroll",this.handleScroll),on.init(),this.checkAuthStatus(),this.$router.afterEach(()=>{this.checkAuthStatus()})},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){const e=window.pageYOffset||document.documentElement.scrollTop;this.isScrolled=e>50,this.showScrollTop=e>300},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})},toggleLanguage(){const e=this.currentLanguage==="zh"?"en":"zh";on.setLanguage(e);const t=e==="zh"?"已切换到中文":"Switched to English";this.showLanguageToast(t)},showLanguageToast(e){const t=document.createElement("div");t.textContent=e,t.style.cssText=`
        position: fixed;
        top: 80px;
        right: 20px;
        background: linear-gradient(45deg, #4ecdc4, #44a08d);
        color: white;
        padding: 0.5rem 1rem;
        border-radius: 20px;
        font-size: 0.9rem;
        font-weight: 500;
        z-index: 10000;
        animation: slideInFromRight 0.3s ease-out;
        box-shadow: 0 4px 12px rgba(78, 205, 196, 0.3);
      `;const s=document.createElement("style");s.textContent=`
        @keyframes slideInFromRight {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
      `,document.head.appendChild(s),document.body.appendChild(t),setTimeout(()=>{t.style.animation="slideInFromRight 0.3s ease-out reverse",setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),s.parentNode&&s.parentNode.removeChild(s)},300)},2e3)},checkAuthStatus(){this.isUserAuthenticated=lo(),this.currentUser=au()},handleLogout(){confirm(this.$t("nav.logoutConfirm")||"确定要登出吗？")&&(lu(),this.checkAuthStatus(),this.$route.meta.requiresAuth&&this.$router.push("/"),this.showLanguageToast(this.$t("nav.logoutSuccess")||"已成功登出"))}}},uu={id:"app"},fu={class:"nav-container"},hu={class:"nav-logo"},pu={class:"nav-menu"},gu={class:"nav-actions"},mu={class:"language-btn"},vu={class:"language-flag"},wu={class:"language-name"},yu={key:1,class:"user-info"},bu={class:"user-name"};function ku(e,t,s,o,n,i){var c;const a=Ps("router-link"),l=Ps("router-view");return b(),k("div",uu,[r("nav",{class:J(["navbar",{"navbar-scrolled":n.isScrolled}])},[r("div",fu,[r("div",hu,[ge(a,{to:"/",class:"logo-link"},{default:Ge(()=>t[3]||(t[3]=[r("img",{src:Nn,alt:"Labubu AI",class:"logo-img"},null,-1),r("span",{class:"logo-text"},"Labubu AI",-1)])),_:1,__:[3]})]),r("div",pu,[ge(a,{to:"/",class:"nav-link"},{default:Ge(()=>[t[4]||(t[4]=r("i",{class:"icon-home"},null,-1)),r("span",null,f(e.$t("nav.home")||"首页"),1)]),_:1,__:[4]}),ge(a,{to:"/frontend/ai-agent",class:"nav-link"},{default:Ge(()=>[t[5]||(t[5]=r("i",{class:"icon-robot"},null,-1)),r("span",null,f(e.$t("nav.aiAgent")||"AI智能体"),1)]),_:1,__:[5]}),ge(a,{to:"/frontend/community",class:"nav-link"},{default:Ge(()=>[t[6]||(t[6]=r("i",{class:"icon-community"},null,-1)),r("span",null,f(e.$t("nav.community")||"社区"),1)]),_:1,__:[6]}),ge(a,{to:"/frontend/marketplace",class:"nav-link"},{default:Ge(()=>[t[7]||(t[7]=r("i",{class:"icon-marketplace"},null,-1)),r("span",null,f(e.$t("nav.marketplace")||"市场"),1)]),_:1,__:[7]}),n.isUserAuthenticated?(b(),qr(a,{key:0,to:"/frontend/profile",class:"nav-link"},{default:Ge(()=>[t[8]||(t[8]=r("i",{class:"icon-profile"},null,-1)),r("span",null,f(e.$t("nav.profile")||"个人中心"),1)]),_:1,__:[8]})):B("",!0)]),r("div",gu,[r("div",{class:"language-switcher",onClick:t[0]||(t[0]=(...d)=>i.toggleLanguage&&i.toggleLanguage(...d))},[r("div",mu,[r("span",vu,f(i.currentLanguageFlag),1),r("span",wu,f(i.currentLanguageName),1)])]),n.isUserAuthenticated?(b(),k("div",yu,[r("span",bu,f(((c=n.currentUser)==null?void 0:c.username)||"用户"),1),r("button",{class:"logout-btn",onClick:t[1]||(t[1]=(...d)=>i.handleLogout&&i.handleLogout(...d))},[t[11]||(t[11]=r("i",{class:"icon-logout"},null,-1)),r("span",null,f(e.$t("nav.logout")||"登出"),1)])])):(b(),k(q,{key:0},[ge(a,{to:"/frontend/login",class:"login-btn"},{default:Ge(()=>[t[9]||(t[9]=r("i",{class:"icon-login"},null,-1)),r("span",null,f(e.$t("nav.login")||"登录"),1)]),_:1,__:[9]}),ge(a,{to:"/frontend/register",class:"register-btn"},{default:Ge(()=>[t[10]||(t[10]=r("i",{class:"icon-register"},null,-1)),r("span",null,f(e.$t("nav.register")||"注册"),1)]),_:1,__:[10]})],64))])])],2),ge(l),r("div",{class:J(["scroll-to-top",{show:n.showScrollTop}]),onClick:t[2]||(t[2]=(...d)=>i.scrollToTop&&i.scrollToTop(...d))},t[12]||(t[12]=[r("i",{class:"icon-arrow-up"},null,-1)]),2)])}const _u=xt(du,[["render",ku],["__scopeId","data-v-8f182701"]]),Ui="/assets/home1-f37c99af.jpg",Su="/assets/home2-1afeddb1.png",Au="/assets/home3-90e7e4a6.png";const Cu={name:"Home",data(){return{teamMembers:[{id:1,name:"HU XIAOXIAO",role:"Full Stack Developer",description:"Passionate developer specializing in AI integration and platform architecture",avatar:"/src/assets/images/HU XIAOXIAO.jpg",school:"Beijing Institute of Technology"},{id:2,name:"LIU YI",role:"AI Engineer",description:"Expert in machine learning and AI model optimization for creative applications",avatar:"/src/assets/images/avatar2.jpg",school:null},{id:3,name:"SRIYA SURISETTY",role:"Product Manager",description:"Dedicated to creating user-centered AI products and community experiences",avatar:"/src/assets/images/avatar3.jpg",school:null},{id:4,name:"WEI MENGZE",role:"Backend Developer",description:"Focused on scalable infrastructure and AI service integration",avatar:"/src/assets/images/avatar4.jpg",school:null},{id:5,name:"WU ANRAN",role:"Frontend Developer",description:"Dedicated to creating intuitive and beautiful user interfaces with modern web technologies",avatar:"/src/assets/images/WU ANRAN.jpg",school:"Beijing University of Posts and Telecommunications"}]}},mounted(){this.observeAnimations(),this.animateCounters(),this.typewriterEffect(),this.initScrollAnimations()},methods:{handleImageError(e){console.warn("头像图片加载失败:",e.target.src),e.target.style.display="none";const t=document.createElement("div");t.className="avatar-placeholder error-placeholder",t.innerHTML='<span class="avatar-icon">👤</span>',e.target.parentNode.appendChild(t)},checkAuthAndNavigate(e){const t=localStorage.getItem("labubu_token"),s=localStorage.getItem("userInfo");return!t||!s?(localStorage.setItem("redirect_after_login",e),this.$router.push("/frontend/login"),!1):!0},navigateToAIAgent(){this.$router.push("/frontend/ai-agent")},navigateToCommunity(){this.$router.push("/frontend/community")},navigateToMarketplace(){this.$router.push("/frontend/marketplace")},navigateToAbout(){this.$router.push("/frontend/about")},observeAnimations(){const e=new IntersectionObserver(s=>{s.forEach(o=>{o.isIntersecting&&o.target.classList.add("animate-fade-in-up")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".animate-fade-in-up, .animate-fade-in-left, .animate-fade-in-right").forEach(s=>{e.observe(s)})},animateCounters(){const e=document.querySelectorAll(".counter"),t=new IntersectionObserver(s=>{s.forEach(o=>{if(o.isIntersecting){const n=o.target,i=+n.getAttribute("data-target"),a=i/100,l=()=>{const c=+n.innerText;c<i?(n.innerText=Math.ceil(c+a),requestAnimationFrame(l)):n.innerText=i.toLocaleString()+"+"};l(),t.unobserve(n)}})},{threshold:.5});e.forEach(s=>{t.observe(s)})},typewriterEffect(){setTimeout(()=>{const e=document.querySelector(".hero-title");e&&e.classList.add("typewriter-active")},1e3)},scrollToContent(){const e=document.querySelector(".scroll-animated-section");e&&e.scrollIntoView({behavior:"smooth",block:"start"})},initScrollAnimations(){if(window.innerWidth<=768)return;const e=document.querySelectorAll(".scroll-animated-section"),t=()=>{e.forEach(s=>{const o=s.getAttribute("data-direction");this.updateScrollAnimation(s,o)})};window.addEventListener("scroll",t),setTimeout(()=>{t()},100)},updateScrollAnimation(e,t){if(window.innerWidth<=768)return;const s=e.getBoundingClientRect(),o=window.innerHeight,n=s.top,i=s.bottom,a=s.height;if(n<o&&i>0){let l=0;const c=Math.max(0,-n),d=Math.min(a,o-n);l=Math.max(0,d-c)/a,l>.3?t==="left"?(e.classList.add("animate-left"),e.classList.remove("animate-right")):(e.classList.add("animate-right"),e.classList.remove("animate-left")):e.classList.remove("animate-left","animate-right")}else e.classList.remove("animate-left","animate-right")}}},Tu={class:"home"},$u={class:"particles-container"},xu={class:"hero"},Iu={class:"hero-content"},Eu={class:"container"},Pu={class:"hero-text animate-fade-in-up"},Nu={class:"hero-title typewriter"},Lu={class:"hero-subtitle slide-in-text"},Ru={class:"hero-buttons"},Mu={class:"hero-scroll-indicator"},Ou={class:"scroll-animated-section",id:"ai-agent","data-direction":"left"},Du={class:"scroll-container"},Wu={class:"scroll-content-wrapper"},Fu={class:"scroll-text-content"},Uu={class:"scroll-description"},Hu={class:"feature-highlights"},Bu={class:"highlight-item"},zu={class:"highlight-text"},Vu={class:"highlight-item"},ju={class:"highlight-text"},qu={class:"highlight-item"},Gu={class:"highlight-text"},Ju={class:"scroll-animated-section",id:"community","data-direction":"right"},Yu={class:"scroll-container"},Ku={class:"scroll-content-wrapper"},Xu={class:"scroll-text-content"},Zu={class:"scroll-description"},Qu={class:"feature-highlights"},ef={class:"highlight-item"},tf={class:"highlight-text"},sf={class:"highlight-item"},of={class:"highlight-text"},nf={class:"highlight-item"},rf={class:"highlight-text"},af={class:"scroll-animated-section",id:"marketplace","data-direction":"left"},lf={class:"scroll-container"},cf={class:"scroll-content-wrapper"},df={class:"scroll-text-content"},uf={class:"scroll-description"},ff={class:"feature-highlights"},hf={class:"highlight-item"},pf={class:"highlight-text"},gf={class:"highlight-item"},mf={class:"highlight-text"},vf={class:"highlight-item"},wf={class:"highlight-text"},yf={class:"scroll-animated-section",id:"about","data-direction":"right"},bf={class:"scroll-container"},kf={class:"scroll-content-wrapper"},_f={class:"scroll-text-content"},Sf={class:"scroll-description"},Af={class:"feature-highlights"},Cf={class:"highlight-item"},Tf={class:"highlight-text"},$f={class:"highlight-item"},xf={class:"highlight-text"},If={class:"highlight-item"},Ef={class:"highlight-text"},Pf={class:"section team-section"},Nf={class:"container"},Lf={class:"team-content"},Rf={class:"section-title animate-fade-in-up gradient-text"},Mf={class:"section-subtitle animate-fade-in-up"},Of={class:"team-photo-section animate-fade-in-up"},Df={class:"team-photo-placeholder"},Wf={class:"team-description animate-fade-in-up"},Ff={class:"team-intro-placeholder"},Uf={class:"team-members animate-fade-in-up"},Hf={class:"members-grid"},Bf={class:"member-avatar"},zf=["src","alt"],Vf={class:"member-info"},jf={class:"member-name"},qf={class:"member-role"},Gf={class:"member-description"},Jf={key:0,class:"school-info"};function Yf(e,t,s,o,n,i){return b(),k("div",Tu,[r("div",$u,[(b(),k(q,null,K(100,a=>r("div",{class:J(["particle",`particle-${a}`]),key:a},null,2)),64))]),t[28]||(t[28]=bt('<div class="floating-elements-global" data-v-b6af6fcc><div class="floating-element floating-global-1" data-v-b6af6fcc>✨</div><div class="floating-element floating-global-2" data-v-b6af6fcc>🎨</div><div class="floating-element floating-global-3" data-v-b6af6fcc>🤖</div><div class="floating-element floating-global-4" data-v-b6af6fcc>💫</div><div class="floating-element floating-global-5" data-v-b6af6fcc>🎯</div><div class="floating-element floating-global-6" data-v-b6af6fcc>🌟</div><div class="floating-element floating-global-7" data-v-b6af6fcc>🚀</div><div class="floating-element floating-global-8" data-v-b6af6fcc>💡</div></div>',1)),r("section",xu,[t[9]||(t[9]=r("div",{class:"hero-bg"},[r("div",{class:"hero-overlay"})],-1)),r("div",Iu,[r("div",Eu,[r("div",Pu,[r("h1",Nu,f(e.$t("home.title","Welcome to Labubu AI Platform")),1),r("p",Lu,f(e.$t("home.subtitle","Create, Share, and Explore AI-Generated Content")),1),r("div",Ru,[r("button",{onClick:t[0]||(t[0]=(...a)=>i.navigateToAIAgent&&i.navigateToAIAgent(...a)),class:"btn btn-primary btn-large ripple-effect"},f(e.$t("home.buildAgent","Build Agent")),1),r("button",{onClick:t[1]||(t[1]=(...a)=>i.navigateToCommunity&&i.navigateToCommunity(...a)),class:"btn btn-secondary btn-large ripple-effect"},f(e.$t("home.learnMore","Learn More")),1)])])])]),r("div",Mu,[r("div",{class:"scroll-arrow-container",onClick:t[2]||(t[2]=(...a)=>i.scrollToContent&&i.scrollToContent(...a))},t[8]||(t[8]=[bt('<div class="scroll-arrow-wrapper" data-v-b6af6fcc><div class="scroll-arrow-circle" data-v-b6af6fcc><div class="scroll-arrow-chevron" data-v-b6af6fcc></div></div><div class="scroll-text" data-v-b6af6fcc>Scroll Down</div></div><div class="scroll-animation-line" data-v-b6af6fcc></div>',2)]))])]),r("section",Ou,[r("div",Du,[t[13]||(t[13]=r("div",{class:"scroll-image-wrapper"},[r("img",{src:Ui,alt:"AI Agent Studio",class:"scroll-image"})],-1)),r("div",Wu,[r("div",Fu,[r("h2",{class:"scroll-title clickable-title",onClick:t[3]||(t[3]=(...a)=>i.navigateToAIAgent&&i.navigateToAIAgent(...a))},f(e.$t("home.features.aiAgent","AI Agent Studio")),1),r("p",Uu,f(e.$t("home.descriptions.aiAgent","Build and customize intelligent AI agents with our intuitive drag-and-drop workflow editor. Create personalized chatbots, automate complex tasks, and integrate multiple AI services including LLM, image generation, speech synthesis, and more. Perfect for businesses, creators, and developers.")),1),r("div",Hu,[r("div",Bu,[t[10]||(t[10]=r("span",{class:"highlight-icon"},"🎨",-1)),r("span",zu,f(e.$t("aiAgent.features.workflow","Visual Workflow Editor")),1)]),r("div",Vu,[t[11]||(t[11]=r("span",{class:"highlight-icon"},"🤖",-1)),r("span",ju,f(e.$t("aiAgent.features.multimodal","Multi-AI Integration")),1)]),r("div",qu,[t[12]||(t[12]=r("span",{class:"highlight-icon"},"⚡",-1)),r("span",Gu,f(e.$t("aiAgent.features.automation","Task Automation")),1)])])])])])]),r("section",Ju,[r("div",Yu,[t[17]||(t[17]=r("div",{class:"scroll-image-wrapper"},[r("img",{src:Su,alt:"Community Showcase",class:"scroll-image"})],-1)),r("div",Ku,[r("div",Xu,[r("h2",{class:"scroll-title clickable-title",onClick:t[4]||(t[4]=(...a)=>i.navigateToCommunity&&i.navigateToCommunity(...a))},f(e.$t("home.features.community","Creative Community")),1),r("p",Zu,f(e.$t("home.descriptions.community","Join a vibrant community of creators, artists, and AI enthusiasts. Share your creations, discover amazing works, participate in challenges, collaborate on projects, and learn from fellow creators. Connect, inspire, and be inspired in our creative ecosystem.")),1),r("div",Qu,[r("div",ef,[t[14]||(t[14]=r("span",{class:"highlight-icon"},"👥",-1)),r("span",tf,f(e.$t("community.features.connect","Creator Network")),1)]),r("div",sf,[t[15]||(t[15]=r("span",{class:"highlight-icon"},"🎯",-1)),r("span",of,f(e.$t("community.features.challenges","Creative Challenges")),1)]),r("div",nf,[t[16]||(t[16]=r("span",{class:"highlight-icon"},"🚀",-1)),r("span",rf,f(e.$t("community.features.showcase","Portfolio Showcase")),1)])])])])])]),r("section",af,[r("div",lf,[t[21]||(t[21]=r("div",{class:"scroll-image-wrapper"},[r("img",{src:Au,alt:"Marketplace Preview",class:"scroll-image"})],-1)),r("div",cf,[r("div",df,[r("h2",{class:"scroll-title clickable-title",onClick:t[5]||(t[5]=(...a)=>i.navigateToMarketplace&&i.navigateToMarketplace(...a))},f(e.$t("home.features.marketplace","Digital Marketplace")),1),r("p",uf,f(e.$t("home.descriptions.marketplace","Discover and trade unique digital creations, custom AI agents, templates, and creative assets. Buy professional tools, sell your innovations, commission custom work, and find everything you need to enhance your creative projects in our secure marketplace.")),1),r("div",ff,[r("div",hf,[t[18]||(t[18]=r("span",{class:"highlight-icon"},"💎",-1)),r("span",pf,f(e.$t("marketplace.features.assets","Digital Assets")),1)]),r("div",gf,[t[19]||(t[19]=r("span",{class:"highlight-icon"},"🛡️",-1)),r("span",mf,f(e.$t("marketplace.features.secure","Secure Trading")),1)]),r("div",vf,[t[20]||(t[20]=r("span",{class:"highlight-icon"},"💰",-1)),r("span",wf,f(e.$t("marketplace.features.monetize","Monetize Creations")),1)])])])])])]),r("section",yf,[r("div",bf,[t[25]||(t[25]=r("div",{class:"scroll-image-wrapper"},[r("img",{src:Ui,alt:"About Us",class:"scroll-image"})],-1)),r("div",kf,[r("div",_f,[r("h2",{class:"scroll-title clickable-title",onClick:t[6]||(t[6]=(...a)=>i.navigateToAbout&&i.navigateToAbout(...a))},f(e.$t("about.title","About Labubu AI Platform")),1),r("p",Sf,f(e.$t("home.descriptions.about","Labubu AI Platform is the ultimate creative ecosystem that combines cutting-edge AI technology with community collaboration. We empower creators to build, share, and monetize their innovations while fostering a supportive environment for learning and growth.")),1),r("div",Af,[r("div",Cf,[t[22]||(t[22]=r("span",{class:"highlight-icon"},"🌟",-1)),r("span",Tf,f(e.$t("about.features.innovation","AI Innovation")),1)]),r("div",$f,[t[23]||(t[23]=r("span",{class:"highlight-icon"},"🤝",-1)),r("span",xf,f(e.$t("about.features.collaboration","Community Spirit")),1)]),r("div",If,[t[24]||(t[24]=r("span",{class:"highlight-icon"},"📈",-1)),r("span",Ef,f(e.$t("about.features.growth","Creator Growth")),1)])])])])])]),r("section",Pf,[r("div",Nf,[r("div",Lf,[r("h2",Rf,f(e.$t("home.team.title","我们的团队")),1),r("p",Mf,f(e.$t("home.team.subtitle","充满激情的创新团队，致力于打造最优秀的AI创作平台")),1),r("div",Of,[r("div",Df,[t[26]||(t[26]=r("div",{class:"photo-icon"},"📸",-1)),r("p",null,f(e.$t("home.team.photoPlaceholder","团队照片即将上传...")),1)])]),r("div",Wf,[r("h3",null,f(e.$t("home.team.descriptionTitle","关于我们")),1),r("p",Ff,f(e.$t("home.team.descriptionPlaceholder","我们是一支由5名充满创新精神的成员组成的团队，专注于AI技术与创意的完美结合。每个成员都带来了独特的专业技能和创新视角，共同致力于打造革命性的AI创作平台。团队介绍内容即将更新...")),1)]),r("div",Uf,[r("h3",null,f(e.$t("home.team.membersTitle","团队成员")),1),r("div",Hf,[(b(!0),k(q,null,K(n.teamMembers,a=>(b(),k("div",{class:"member-card",key:a.id},[r("div",Bf,[r("img",{src:a.avatar,alt:a.name,class:"avatar-image",onError:t[7]||(t[7]=(...l)=>i.handleImageError&&i.handleImageError(...l))},null,40,zf)]),r("div",Vf,[r("h4",jf,f(a.name),1),r("p",qf,f(a.role),1),r("p",Gf,[Y(f(a.description)+" ",1),a.school?(b(),k("span",Jf,[t[27]||(t[27]=r("br",null,null,-1)),Y("🎓 "+f(a.school),1)])):B("",!0)])])]))),128))])])])])])])}const Kf=xt(Cu,[["render",Yf],["__scopeId","data-v-b6af6fcc"]]),Xf="https://labubuai.me/backend/ai-agent",O=Xf,Zf=()=>"https://labubuai.me";class Qf{constructor(){this.baseURL=`${Zf()}/backend/user`}async request(t,s={}){const o=`${this.baseURL}${t}`,n={headers:{"Content-Type":"application/json"},timeout:3e4};try{const i=await fetch(o,{...n,...s});if(!i.ok)throw new Error(`HTTP ${i.status}: ${i.statusText}`);const a=i.headers.get("content-type");let l;if(a&&a.includes("application/json")?l=await i.json():l=await i.text(),l&&typeof l=="object"&&l.code!==void 0&&l.code!==200){const c=new Error(l.msg||"API调用失败");throw c.code=l.code,c.data=l.data,c}return l}catch(i){throw console.error("User auth API request failed用户认证API请求失败:",i),i}}async login(t,s){return await this.request("/login",{method:"POST",body:JSON.stringify({username:t,password:s})})}async register(t,s,o,n){return await this.request("/register",{method:"POST",body:JSON.stringify({username:t,email:s,password:o,verificationCode:n})})}async sendVerificationCode(t){return await this.request("/sendCode",{method:"POST",body:JSON.stringify({email:t})})}}const fa=new Qf,We={CREATE:`${O}/submit`,DEPLOY:`${O}/ready`,STATUS:e=>`${O}/status/${e}`,RESULT:`${O}/message`,LIST:e=>`${O}/AllDag/${e}`,HEALTH:`${O}/healthz`,READY_CHECK:`${O}/readyz`};class eh{constructor(){this.baseURL=O}async getAllDAGs(t){const s=await fetch(`${this.baseURL}/AllDag/${t}`);if(!s.ok)throw new Error(`HTTP ${s.status}: ${s.statusText}`);return s.json()}async submitDAG(t){const s=await fetch(`${this.baseURL}/submit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok)throw new Error(`HTTP ${s.status}: ${s.statusText}`);return s.json()}async notifyReady(t,s="default_tenant"){const o=await fetch(`${this.baseURL}/ready`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dag_id:t,tenant_id:s})});if(!o.ok)throw new Error(`HTTP ${o.status}: ${o.statusText}`);return o.json()}getDAGStatusStream(t){return new EventSource(`${this.baseURL}/status/${t}`)}async getDAGStatus(t){return await fetch(`${this.baseURL}/status/${t}`)}async getResult(t,s,o){const n=await fetch(`${this.baseURL}/message`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dag_id:t,tenant_id:s,node_id:o})});if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);return n.json()}async healthCheck(){return(await fetch(`${this.baseURL}/healthz`)).ok}async readyCheck(){return(await fetch(`${this.baseURL}/readyz`)).ok}generateDAGId(t){const s=Date.now(),o=Math.random().toString(36).substring(2,8);return`${t.replace(/[^a-zA-Z0-9]/g,"_").toLowerCase()}_${s}_${o}`}getTenantId(){return"default"}}const ha=new eh,pa={NOTES:{LIST:`${O}/community/notes`,CREATE:`${O}/community/notes`,DETAIL:e=>`${O}/community/notes/${e}`,UPDATE:e=>`${O}/community/notes/${e}`,DELETE:e=>`${O}/community/notes/${e}`,LIKE:e=>`${O}/community/notes/${e}/like`,SHARE:e=>`${O}/community/notes/${e}/share`,REPORT:e=>`${O}/community/notes/${e}/report`},SEARCH:{NOTES:`${O}/community/search/notes`,USERS:`${O}/community/search/users`,TAGS:`${O}/community/search/tags`,TRENDING:`${O}/community/search/trending`,SUGGESTIONS:`${O}/community/search/suggestions`},TAGS:{LIST:`${O}/community/tags`,TRENDING:`${O}/community/tags/trending`,DETAIL:e=>`${O}/community/tags/${encodeURIComponent(e)}`,NOTES:e=>`${O}/community/tags/${encodeURIComponent(e)}/notes`,CREATE:`${O}/community/tags`,FOLLOW:e=>`${O}/community/tags/${encodeURIComponent(e)}/follow`},COMMENTS:{LIST:e=>`${O}/community/notes/${e}/comments`,CREATE:e=>`${O}/community/notes/${e}/comments`,UPDATE:(e,t)=>`${O}/community/notes/${e}/comments/${t}`,DELETE:(e,t)=>`${O}/community/notes/${e}/comments/${t}`,LIKE:(e,t)=>`${O}/community/notes/${e}/comments/${t}/like`,REPORT:(e,t)=>`${O}/community/notes/${e}/comments/${t}/report`},MEDIA:{UPLOAD_IMAGE:`${O}/community/media/upload/image`,UPLOAD_VIDEO:`${O}/community/media/upload/video`,UPLOAD_FILE:`${O}/community/media/upload/file`,DELETE:e=>`${O}/community/media/${e}`,INFO:e=>`${O}/community/media/${e}`},USERS:{PROFILE:e=>`${O}/community/users/${e}`,NOTES:e=>`${O}/community/users/${e}/notes`,FOLLOWING:e=>`${O}/community/users/${e}/following`,FOLLOWERS:e=>`${O}/community/users/${e}/followers`,FOLLOW:e=>`${O}/community/users/${e}/follow`,RECOMMENDED:`${O}/community/users/recommended`},STATS:{COMMUNITY:`${O}/community/stats`,USER:e=>`${O}/community/stats/users/${e}`,NOTE:e=>`${O}/community/stats/notes/${e}`,TAG:e=>`${O}/community/stats/tags/${encodeURIComponent(e)}`}},ga={LIST:`${O}/marketplace/items`,DETAIL:e=>`${O}/marketplace/items/${e}`,PURCHASE:e=>`${O}/marketplace/items/${e}/purchase`,PURCHASES:`${O}/marketplace/purchases`,CATEGORIES:`${O}/marketplace/categories`,SEARCH:`${O}/marketplace/search`},ma={UPLOAD:`${O}/upload`,AVATAR:`${O}/upload/avatar`,IMAGE:`${O}/upload/image`,VIDEO:`${O}/upload/video`,DOCUMENT:`${O}/upload/document`,PROGRESS:e=>`${O}/upload/progress/${e}`,CANCEL:e=>`${O}/upload/cancel/${e}`},va={LIST:`${O}/notifications`,READ:e=>`${O}/notifications/${e}/read`,READ_ALL:`${O}/notifications/read-all`,DELETE:e=>`${O}/notifications/${e}`,UNREAD_COUNT:`${O}/notifications/unread-count`},wa={CONFIG:`${O}/system/config`,STATUS:`${O}/system/status`,VERSION:`${O}/system/version`,HEALTH:`${O}/system/health`},ya={BASE_URL:{}.VITE_WS_BASE_URL||"wss://labubuai.me",NOTIFICATIONS:"/ws/notifications",CHAT:"/ws/chat",COLLABORATION:"/ws/collaboration"},ba={TIMEOUT:3e4,RETRY_TIMES:3,RETRY_DELAY:1e3},ka={DEFAULT_PAGE_SIZE:20,MAX_PAGE_SIZE:100,DEFAULT_PAGE:1},th={BASE_URL:O,userAuthAPI:fa,aiAgentAPI:ha,AI_AGENT_API:We,COMMUNITY_API:pa,MARKETPLACE_API:ga,UPLOAD_API:ma,NOTIFICATION_API:va,SYSTEM_API:wa,WEBSOCKET_CONFIG:ya,REQUEST_CONFIG:ba,PAGINATION_CONFIG:ka},rn=Object.freeze(Object.defineProperty({__proto__:null,AI_AGENT_API:We,COMMUNITY_API:pa,MARKETPLACE_API:ga,NOTIFICATION_API:va,PAGINATION_CONFIG:ka,REQUEST_CONFIG:ba,SYSTEM_API:wa,UPLOAD_API:ma,WEBSOCKET_CONFIG:ya,aiAgentAPI:ha,default:th,userAuthAPI:fa},Symbol.toStringTag,{value:"Module"}));function Ln(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Gt=Ln();function _a(e){Gt=e}var $s={exec:()=>null};function ae(e,t=""){let s=typeof e=="string"?e:e.source,o={replace:(n,i)=>{let a=typeof i=="string"?i:i.source;return a=a.replace(Re.caret,"$1"),s=s.replace(n,a),o},getRegex:()=>new RegExp(s,t)};return o}var Re={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},sh=/^(?:[ \t]*(?:\n|$))+/,oh=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,nh=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Hs=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,ih=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Rn=/(?:[*+-]|\d{1,9}[.)])/,Sa=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Aa=ae(Sa).replace(/bull/g,Rn).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),rh=ae(Sa).replace(/bull/g,Rn).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),Mn=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,ah=/^[^\n]+/,On=/(?!\s*\])(?:\\.|[^\[\]\\])+/,lh=ae(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",On).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),ch=ae(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Rn).getRegex(),Ao="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Dn=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,dh=ae("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Dn).replace("tag",Ao).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ca=ae(Mn).replace("hr",Hs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ao).getRegex(),uh=ae(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Ca).getRegex(),Wn={blockquote:uh,code:oh,def:lh,fences:nh,heading:ih,hr:Hs,html:dh,lheading:Aa,list:ch,newline:sh,paragraph:Ca,table:$s,text:ah},Hi=ae("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Hs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ao).getRegex(),fh={...Wn,lheading:rh,table:Hi,paragraph:ae(Mn).replace("hr",Hs).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Hi).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ao).getRegex()},hh={...Wn,html:ae(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Dn).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:$s,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:ae(Mn).replace("hr",Hs).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Aa).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},ph=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,gh=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Ta=/^( {2,}|\\)\n(?!\s*$)/,mh=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Co=/[\p{P}\p{S}]/u,Fn=/[\s\p{P}\p{S}]/u,$a=/[^\s\p{P}\p{S}]/u,vh=ae(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Fn).getRegex(),xa=/(?!~)[\p{P}\p{S}]/u,wh=/(?!~)[\s\p{P}\p{S}]/u,yh=/(?:[^\s\p{P}\p{S}]|~)/u,bh=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,Ia=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,kh=ae(Ia,"u").replace(/punct/g,Co).getRegex(),_h=ae(Ia,"u").replace(/punct/g,xa).getRegex(),Ea="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Sh=ae(Ea,"gu").replace(/notPunctSpace/g,$a).replace(/punctSpace/g,Fn).replace(/punct/g,Co).getRegex(),Ah=ae(Ea,"gu").replace(/notPunctSpace/g,yh).replace(/punctSpace/g,wh).replace(/punct/g,xa).getRegex(),Ch=ae("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,$a).replace(/punctSpace/g,Fn).replace(/punct/g,Co).getRegex(),Th=ae(/\\(punct)/,"gu").replace(/punct/g,Co).getRegex(),$h=ae(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),xh=ae(Dn).replace("(?:-->|$)","-->").getRegex(),Ih=ae("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",xh).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),co=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Eh=ae(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",co).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Pa=ae(/^!?\[(label)\]\[(ref)\]/).replace("label",co).replace("ref",On).getRegex(),Na=ae(/^!?\[(ref)\](?:\[\])?/).replace("ref",On).getRegex(),Ph=ae("reflink|nolink(?!\\()","g").replace("reflink",Pa).replace("nolink",Na).getRegex(),Un={_backpedal:$s,anyPunctuation:Th,autolink:$h,blockSkip:bh,br:Ta,code:gh,del:$s,emStrongLDelim:kh,emStrongRDelimAst:Sh,emStrongRDelimUnd:Ch,escape:ph,link:Eh,nolink:Na,punctuation:vh,reflink:Pa,reflinkSearch:Ph,tag:Ih,text:mh,url:$s},Nh={...Un,link:ae(/^!?\[(label)\]\((.*?)\)/).replace("label",co).getRegex(),reflink:ae(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",co).getRegex()},an={...Un,emStrongRDelimAst:Ah,emStrongLDelim:_h,url:ae(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Lh={...an,br:ae(Ta).replace("{2,}","*").getRegex(),text:ae(an.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},qs={normal:Wn,gfm:fh,pedantic:hh},hs={normal:Un,gfm:an,breaks:Lh,pedantic:Nh},Rh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Bi=e=>Rh[e];function ct(e,t){if(t){if(Re.escapeTest.test(e))return e.replace(Re.escapeReplace,Bi)}else if(Re.escapeTestNoEncode.test(e))return e.replace(Re.escapeReplaceNoEncode,Bi);return e}function zi(e){try{e=encodeURI(e).replace(Re.percentDecode,"%")}catch{return null}return e}function Vi(e,t){var i;let s=e.replace(Re.findPipe,(a,l,c)=>{let d=!1,u=l;for(;--u>=0&&c[u]==="\\";)d=!d;return d?"|":" |"}),o=s.split(Re.splitPipe),n=0;if(o[0].trim()||o.shift(),o.length>0&&!((i=o.at(-1))!=null&&i.trim())&&o.pop(),t)if(o.length>t)o.splice(t);else for(;o.length<t;)o.push("");for(;n<o.length;n++)o[n]=o[n].trim().replace(Re.slashPipe,"|");return o}function ps(e,t,s){let o=e.length;if(o===0)return"";let n=0;for(;n<o;){let i=e.charAt(o-n-1);if(i===t&&!s)n++;else if(i!==t&&s)n++;else break}return e.slice(0,o-n)}function Mh(e,t){if(e.indexOf(t[1])===-1)return-1;let s=0;for(let o=0;o<e.length;o++)if(e[o]==="\\")o++;else if(e[o]===t[0])s++;else if(e[o]===t[1]&&(s--,s<0))return o;return s>0?-2:-1}function ji(e,t,s,o,n){let i=t.href,a=t.title||null,l=e[1].replace(n.other.outputLinkReplace,"$1");o.state.inLink=!0;let c={type:e[0].charAt(0)==="!"?"image":"link",raw:s,href:i,title:a,text:l,tokens:o.inlineTokens(l)};return o.state.inLink=!1,c}function Oh(e,t,s){let o=e.match(s.other.indentCodeCompensation);if(o===null)return t;let n=o[1];return t.split(`
`).map(i=>{let a=i.match(s.other.beginningSpace);if(a===null)return i;let[l]=a;return l.length>=n.length?i.slice(n.length):i}).join(`
`)}var uo=class{constructor(e){ce(this,"options");ce(this,"rules");ce(this,"lexer");this.options=e||Gt}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let s=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?s:ps(s,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let s=t[0],o=Oh(s,t[3]||"",this.rules);return{type:"code",raw:s,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:o}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let s=t[2].trim();if(this.rules.other.endingHash.test(s)){let o=ps(s,"#");(this.options.pedantic||!o||this.rules.other.endingSpaceChar.test(o))&&(s=o.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:s,tokens:this.lexer.inline(s)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:ps(t[0],`
`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let s=ps(t[0],`
`).split(`
`),o="",n="",i=[];for(;s.length>0;){let a=!1,l=[],c;for(c=0;c<s.length;c++)if(this.rules.other.blockquoteStart.test(s[c]))l.push(s[c]),a=!0;else if(!a)l.push(s[c]);else break;s=s.slice(c);let d=l.join(`
`),u=d.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");o=o?`${o}
${d}`:d,n=n?`${n}
${u}`:u;let p=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,i,!0),this.lexer.state.top=p,s.length===0)break;let v=i.at(-1);if((v==null?void 0:v.type)==="code")break;if((v==null?void 0:v.type)==="blockquote"){let y=v,T=y.raw+`
`+s.join(`
`),I=this.blockquote(T);i[i.length-1]=I,o=o.substring(0,o.length-y.raw.length)+I.raw,n=n.substring(0,n.length-y.text.length)+I.text;break}else if((v==null?void 0:v.type)==="list"){let y=v,T=y.raw+`
`+s.join(`
`),I=this.list(T);i[i.length-1]=I,o=o.substring(0,o.length-v.raw.length)+I.raw,n=n.substring(0,n.length-y.raw.length)+I.raw,s=T.substring(i.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:o,tokens:i,text:n}}}list(e){let t=this.rules.block.list.exec(e);if(t){let s=t[1].trim(),o=s.length>1,n={type:"list",raw:"",ordered:o,start:o?+s.slice(0,-1):"",loose:!1,items:[]};s=o?`\\d{1,9}\\${s.slice(-1)}`:`\\${s}`,this.options.pedantic&&(s=o?s:"[*+-]");let i=this.rules.other.listItemRegex(s),a=!1;for(;e;){let c=!1,d="",u="";if(!(t=i.exec(e))||this.rules.block.hr.test(e))break;d=t[0],e=e.substring(d.length);let p=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,A=>" ".repeat(3*A.length)),v=e.split(`
`,1)[0],y=!p.trim(),T=0;if(this.options.pedantic?(T=2,u=p.trimStart()):y?T=t[1].length+1:(T=t[2].search(this.rules.other.nonSpaceChar),T=T>4?1:T,u=p.slice(T),T+=t[1].length),y&&this.rules.other.blankLine.test(v)&&(d+=v+`
`,e=e.substring(v.length+1),c=!0),!c){let A=this.rules.other.nextBulletRegex(T),L=this.rules.other.hrRegex(T),F=this.rules.other.fencesBeginRegex(T),W=this.rules.other.headingBeginRegex(T),X=this.rules.other.htmlBeginRegex(T);for(;e;){let ve=e.split(`
`,1)[0],ee;if(v=ve,this.options.pedantic?(v=v.replace(this.rules.other.listReplaceNesting,"  "),ee=v):ee=v.replace(this.rules.other.tabCharGlobal,"    "),F.test(v)||W.test(v)||X.test(v)||A.test(v)||L.test(v))break;if(ee.search(this.rules.other.nonSpaceChar)>=T||!v.trim())u+=`
`+ee.slice(T);else{if(y||p.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||F.test(p)||W.test(p)||L.test(p))break;u+=`
`+v}!y&&!v.trim()&&(y=!0),d+=ve+`
`,e=e.substring(ve.length+1),p=ee.slice(T)}}n.loose||(a?n.loose=!0:this.rules.other.doubleBlankLine.test(d)&&(a=!0));let I=null,h;this.options.gfm&&(I=this.rules.other.listIsTask.exec(u),I&&(h=I[0]!=="[ ] ",u=u.replace(this.rules.other.listReplaceTask,""))),n.items.push({type:"list_item",raw:d,task:!!I,checked:h,loose:!1,text:u,tokens:[]}),n.raw+=d}let l=n.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;n.raw=n.raw.trimEnd();for(let c=0;c<n.items.length;c++)if(this.lexer.state.top=!1,n.items[c].tokens=this.lexer.blockTokens(n.items[c].text,[]),!n.loose){let d=n.items[c].tokens.filter(p=>p.type==="space"),u=d.length>0&&d.some(p=>this.rules.other.anyLine.test(p.raw));n.loose=u}if(n.loose)for(let c=0;c<n.items.length;c++)n.items[c].loose=!0;return n}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let s=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),o=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",n=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:s,raw:t[0],href:o,title:n}}}table(e){var a;let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let s=Vi(t[1]),o=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),n=(a=t[3])!=null&&a.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],i={type:"table",raw:t[0],header:[],align:[],rows:[]};if(s.length===o.length){for(let l of o)this.rules.other.tableAlignRight.test(l)?i.align.push("right"):this.rules.other.tableAlignCenter.test(l)?i.align.push("center"):this.rules.other.tableAlignLeft.test(l)?i.align.push("left"):i.align.push(null);for(let l=0;l<s.length;l++)i.header.push({text:s[l],tokens:this.lexer.inline(s[l]),header:!0,align:i.align[l]});for(let l of n)i.rows.push(Vi(l,i.header.length).map((c,d)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:i.align[d]})));return i}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let s=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:s,tokens:this.lexer.inline(s)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let s=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(s)){if(!this.rules.other.endAngleBracket.test(s))return;let i=ps(s.slice(0,-1),"\\");if((s.length-i.length)%2===0)return}else{let i=Mh(t[2],"()");if(i===-2)return;if(i>-1){let a=(t[0].indexOf("!")===0?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,a).trim(),t[3]=""}}let o=t[2],n="";if(this.options.pedantic){let i=this.rules.other.pedanticHrefTitle.exec(o);i&&(o=i[1],n=i[3])}else n=t[3]?t[3].slice(1,-1):"";return o=o.trim(),this.rules.other.startAngleBracket.test(o)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(s)?o=o.slice(1):o=o.slice(1,-1)),ji(t,{href:o&&o.replace(this.rules.inline.anyPunctuation,"$1"),title:n&&n.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let s;if((s=this.rules.inline.reflink.exec(e))||(s=this.rules.inline.nolink.exec(e))){let o=(s[2]||s[1]).replace(this.rules.other.multipleSpaceGlobal," "),n=t[o.toLowerCase()];if(!n){let i=s[0].charAt(0);return{type:"text",raw:i,text:i}}return ji(s,n,s[0],this.lexer,this.rules)}}emStrong(e,t,s=""){let o=this.rules.inline.emStrongLDelim.exec(e);if(!(!o||o[3]&&s.match(this.rules.other.unicodeAlphaNumeric))&&(!(o[1]||o[2])||!s||this.rules.inline.punctuation.exec(s))){let n=[...o[0]].length-1,i,a,l=n,c=0,d=o[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,t=t.slice(-1*e.length+n);(o=d.exec(t))!=null;){if(i=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!i)continue;if(a=[...i].length,o[3]||o[4]){l+=a;continue}else if((o[5]||o[6])&&n%3&&!((n+a)%3)){c+=a;continue}if(l-=a,l>0)continue;a=Math.min(a,a+l+c);let u=[...o[0]][0].length,p=e.slice(0,n+o.index+u+a);if(Math.min(n,a)%2){let y=p.slice(1,-1);return{type:"em",raw:p,text:y,tokens:this.lexer.inlineTokens(y)}}let v=p.slice(2,-2);return{type:"strong",raw:p,text:v,tokens:this.lexer.inlineTokens(v)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let s=t[2].replace(this.rules.other.newLineCharGlobal," "),o=this.rules.other.nonSpaceChar.test(s),n=this.rules.other.startingSpaceChar.test(s)&&this.rules.other.endingSpaceChar.test(s);return o&&n&&(s=s.substring(1,s.length-1)),{type:"codespan",raw:t[0],text:s}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let s,o;return t[2]==="@"?(s=t[1],o="mailto:"+s):(s=t[1],o=s),{type:"link",raw:t[0],text:s,href:o,tokens:[{type:"text",raw:s,text:s}]}}}url(e){var s;let t;if(t=this.rules.inline.url.exec(e)){let o,n;if(t[2]==="@")o=t[0],n="mailto:"+o;else{let i;do i=t[0],t[0]=((s=this.rules.inline._backpedal.exec(t[0]))==null?void 0:s[0])??"";while(i!==t[0]);o=t[0],t[1]==="www."?n="http://"+t[0]:n=t[0]}return{type:"link",raw:t[0],text:o,href:n,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let s=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:s}}}},kt=class ln{constructor(t){ce(this,"tokens");ce(this,"options");ce(this,"state");ce(this,"tokenizer");ce(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Gt,this.options.tokenizer=this.options.tokenizer||new uo,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let s={other:Re,block:qs.normal,inline:hs.normal};this.options.pedantic?(s.block=qs.pedantic,s.inline=hs.pedantic):this.options.gfm&&(s.block=qs.gfm,this.options.breaks?s.inline=hs.breaks:s.inline=hs.gfm),this.tokenizer.rules=s}static get rules(){return{block:qs,inline:hs}}static lex(t,s){return new ln(s).lex(t)}static lexInline(t,s){return new ln(s).inlineTokens(t)}lex(t){t=t.replace(Re.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let s=0;s<this.inlineQueue.length;s++){let o=this.inlineQueue[s];this.inlineTokens(o.src,o.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,s=[],o=!1){var n,i,a;for(this.options.pedantic&&(t=t.replace(Re.tabCharGlobal,"    ").replace(Re.spaceLine,""));t;){let l;if((i=(n=this.options.extensions)==null?void 0:n.block)!=null&&i.some(d=>(l=d.call({lexer:this},t,s))?(t=t.substring(l.raw.length),s.push(l),!0):!1))continue;if(l=this.tokenizer.space(t)){t=t.substring(l.raw.length);let d=s.at(-1);l.raw.length===1&&d!==void 0?d.raw+=`
`:s.push(l);continue}if(l=this.tokenizer.code(t)){t=t.substring(l.raw.length);let d=s.at(-1);(d==null?void 0:d.type)==="paragraph"||(d==null?void 0:d.type)==="text"?(d.raw+=`
`+l.raw,d.text+=`
`+l.text,this.inlineQueue.at(-1).src=d.text):s.push(l);continue}if(l=this.tokenizer.fences(t)){t=t.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.heading(t)){t=t.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.hr(t)){t=t.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.blockquote(t)){t=t.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.list(t)){t=t.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.html(t)){t=t.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.def(t)){t=t.substring(l.raw.length);let d=s.at(-1);(d==null?void 0:d.type)==="paragraph"||(d==null?void 0:d.type)==="text"?(d.raw+=`
`+l.raw,d.text+=`
`+l.raw,this.inlineQueue.at(-1).src=d.text):this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title});continue}if(l=this.tokenizer.table(t)){t=t.substring(l.raw.length),s.push(l);continue}if(l=this.tokenizer.lheading(t)){t=t.substring(l.raw.length),s.push(l);continue}let c=t;if((a=this.options.extensions)!=null&&a.startBlock){let d=1/0,u=t.slice(1),p;this.options.extensions.startBlock.forEach(v=>{p=v.call({lexer:this},u),typeof p=="number"&&p>=0&&(d=Math.min(d,p))}),d<1/0&&d>=0&&(c=t.substring(0,d+1))}if(this.state.top&&(l=this.tokenizer.paragraph(c))){let d=s.at(-1);o&&(d==null?void 0:d.type)==="paragraph"?(d.raw+=`
`+l.raw,d.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=d.text):s.push(l),o=c.length!==t.length,t=t.substring(l.raw.length);continue}if(l=this.tokenizer.text(t)){t=t.substring(l.raw.length);let d=s.at(-1);(d==null?void 0:d.type)==="text"?(d.raw+=`
`+l.raw,d.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=d.text):s.push(l);continue}if(t){let d="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return this.state.top=!0,s}inline(t,s=[]){return this.inlineQueue.push({src:t,tokens:s}),s}inlineTokens(t,s=[]){var l,c,d;let o=t,n=null;if(this.tokens.links){let u=Object.keys(this.tokens.links);if(u.length>0)for(;(n=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)u.includes(n[0].slice(n[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(n=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,n.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(n=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let i=!1,a="";for(;t;){i||(a=""),i=!1;let u;if((c=(l=this.options.extensions)==null?void 0:l.inline)!=null&&c.some(v=>(u=v.call({lexer:this},t,s))?(t=t.substring(u.raw.length),s.push(u),!0):!1))continue;if(u=this.tokenizer.escape(t)){t=t.substring(u.raw.length),s.push(u);continue}if(u=this.tokenizer.tag(t)){t=t.substring(u.raw.length),s.push(u);continue}if(u=this.tokenizer.link(t)){t=t.substring(u.raw.length),s.push(u);continue}if(u=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(u.raw.length);let v=s.at(-1);u.type==="text"&&(v==null?void 0:v.type)==="text"?(v.raw+=u.raw,v.text+=u.text):s.push(u);continue}if(u=this.tokenizer.emStrong(t,o,a)){t=t.substring(u.raw.length),s.push(u);continue}if(u=this.tokenizer.codespan(t)){t=t.substring(u.raw.length),s.push(u);continue}if(u=this.tokenizer.br(t)){t=t.substring(u.raw.length),s.push(u);continue}if(u=this.tokenizer.del(t)){t=t.substring(u.raw.length),s.push(u);continue}if(u=this.tokenizer.autolink(t)){t=t.substring(u.raw.length),s.push(u);continue}if(!this.state.inLink&&(u=this.tokenizer.url(t))){t=t.substring(u.raw.length),s.push(u);continue}let p=t;if((d=this.options.extensions)!=null&&d.startInline){let v=1/0,y=t.slice(1),T;this.options.extensions.startInline.forEach(I=>{T=I.call({lexer:this},y),typeof T=="number"&&T>=0&&(v=Math.min(v,T))}),v<1/0&&v>=0&&(p=t.substring(0,v+1))}if(u=this.tokenizer.inlineText(p)){t=t.substring(u.raw.length),u.raw.slice(-1)!=="_"&&(a=u.raw.slice(-1)),i=!0;let v=s.at(-1);(v==null?void 0:v.type)==="text"?(v.raw+=u.raw,v.text+=u.text):s.push(u);continue}if(t){let v="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(v);break}else throw new Error(v)}}return s}},fo=class{constructor(e){ce(this,"options");ce(this,"parser");this.options=e||Gt}space(e){return""}code({text:e,lang:t,escaped:s}){var i;let o=(i=(t||"").match(Re.notSpaceStart))==null?void 0:i[0],n=e.replace(Re.endingNewline,"")+`
`;return o?'<pre><code class="language-'+ct(o)+'">'+(s?n:ct(n,!0))+`</code></pre>
`:"<pre><code>"+(s?n:ct(n,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){let t=e.ordered,s=e.start,o="";for(let a=0;a<e.items.length;a++){let l=e.items[a];o+=this.listitem(l)}let n=t?"ol":"ul",i=t&&s!==1?' start="'+s+'"':"";return"<"+n+i+`>
`+o+"</"+n+`>
`}listitem(e){var s;let t="";if(e.task){let o=this.checkbox({checked:!!e.checked});e.loose?((s=e.tokens[0])==null?void 0:s.type)==="paragraph"?(e.tokens[0].text=o+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=o+" "+ct(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:o+" ",text:o+" ",escaped:!0}):t+=o+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",s="";for(let n=0;n<e.header.length;n++)s+=this.tablecell(e.header[n]);t+=this.tablerow({text:s});let o="";for(let n=0;n<e.rows.length;n++){let i=e.rows[n];s="";for(let a=0;a<i.length;a++)s+=this.tablecell(i[a]);o+=this.tablerow({text:s})}return o&&(o=`<tbody>${o}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+o+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let t=this.parser.parseInline(e.tokens),s=e.header?"th":"td";return(e.align?`<${s} align="${e.align}">`:`<${s}>`)+t+`</${s}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${ct(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:s}){let o=this.parser.parseInline(s),n=zi(e);if(n===null)return o;e=n;let i='<a href="'+e+'"';return t&&(i+=' title="'+ct(t)+'"'),i+=">"+o+"</a>",i}image({href:e,title:t,text:s,tokens:o}){o&&(s=this.parser.parseInline(o,this.parser.textRenderer));let n=zi(e);if(n===null)return ct(s);e=n;let i=`<img src="${e}" alt="${s}"`;return t&&(i+=` title="${ct(t)}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:ct(e.text)}},Hn=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},_t=class cn{constructor(t){ce(this,"options");ce(this,"renderer");ce(this,"textRenderer");this.options=t||Gt,this.options.renderer=this.options.renderer||new fo,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Hn}static parse(t,s){return new cn(s).parse(t)}static parseInline(t,s){return new cn(s).parseInline(t)}parse(t,s=!0){var n,i;let o="";for(let a=0;a<t.length;a++){let l=t[a];if((i=(n=this.options.extensions)==null?void 0:n.renderers)!=null&&i[l.type]){let d=l,u=this.options.extensions.renderers[d.type].call({parser:this},d);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type)){o+=u||"";continue}}let c=l;switch(c.type){case"space":{o+=this.renderer.space(c);continue}case"hr":{o+=this.renderer.hr(c);continue}case"heading":{o+=this.renderer.heading(c);continue}case"code":{o+=this.renderer.code(c);continue}case"table":{o+=this.renderer.table(c);continue}case"blockquote":{o+=this.renderer.blockquote(c);continue}case"list":{o+=this.renderer.list(c);continue}case"html":{o+=this.renderer.html(c);continue}case"paragraph":{o+=this.renderer.paragraph(c);continue}case"text":{let d=c,u=this.renderer.text(d);for(;a+1<t.length&&t[a+1].type==="text";)d=t[++a],u+=`
`+this.renderer.text(d);s?o+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):o+=u;continue}default:{let d='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(d),"";throw new Error(d)}}}return o}parseInline(t,s=this.renderer){var n,i;let o="";for(let a=0;a<t.length;a++){let l=t[a];if((i=(n=this.options.extensions)==null?void 0:n.renderers)!=null&&i[l.type]){let d=this.options.extensions.renderers[l.type].call({parser:this},l);if(d!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){o+=d||"";continue}}let c=l;switch(c.type){case"escape":{o+=s.text(c);break}case"html":{o+=s.html(c);break}case"link":{o+=s.link(c);break}case"image":{o+=s.image(c);break}case"strong":{o+=s.strong(c);break}case"em":{o+=s.em(c);break}case"codespan":{o+=s.codespan(c);break}case"br":{o+=s.br(c);break}case"del":{o+=s.del(c);break}case"text":{o+=s.text(c);break}default:{let d='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(d),"";throw new Error(d)}}}return o}},Ho,Qs=(Ho=class{constructor(e){ce(this,"options");ce(this,"block");this.options=e||Gt}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?kt.lex:kt.lexInline}provideParser(){return this.block?_t.parse:_t.parseInline}},ce(Ho,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),Ho),Dh=class{constructor(...e){ce(this,"defaults",Ln());ce(this,"options",this.setOptions);ce(this,"parse",this.parseMarkdown(!0));ce(this,"parseInline",this.parseMarkdown(!1));ce(this,"Parser",_t);ce(this,"Renderer",fo);ce(this,"TextRenderer",Hn);ce(this,"Lexer",kt);ce(this,"Tokenizer",uo);ce(this,"Hooks",Qs);this.use(...e)}walkTokens(e,t){var o,n;let s=[];for(let i of e)switch(s=s.concat(t.call(this,i)),i.type){case"table":{let a=i;for(let l of a.header)s=s.concat(this.walkTokens(l.tokens,t));for(let l of a.rows)for(let c of l)s=s.concat(this.walkTokens(c.tokens,t));break}case"list":{let a=i;s=s.concat(this.walkTokens(a.items,t));break}default:{let a=i;(n=(o=this.defaults.extensions)==null?void 0:o.childTokens)!=null&&n[a.type]?this.defaults.extensions.childTokens[a.type].forEach(l=>{let c=a[l].flat(1/0);s=s.concat(this.walkTokens(c,t))}):a.tokens&&(s=s.concat(this.walkTokens(a.tokens,t)))}}return s}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(s=>{let o={...s};if(o.async=this.defaults.async||o.async||!1,s.extensions&&(s.extensions.forEach(n=>{if(!n.name)throw new Error("extension name required");if("renderer"in n){let i=t.renderers[n.name];i?t.renderers[n.name]=function(...a){let l=n.renderer.apply(this,a);return l===!1&&(l=i.apply(this,a)),l}:t.renderers[n.name]=n.renderer}if("tokenizer"in n){if(!n.level||n.level!=="block"&&n.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let i=t[n.level];i?i.unshift(n.tokenizer):t[n.level]=[n.tokenizer],n.start&&(n.level==="block"?t.startBlock?t.startBlock.push(n.start):t.startBlock=[n.start]:n.level==="inline"&&(t.startInline?t.startInline.push(n.start):t.startInline=[n.start]))}"childTokens"in n&&n.childTokens&&(t.childTokens[n.name]=n.childTokens)}),o.extensions=t),s.renderer){let n=this.defaults.renderer||new fo(this.defaults);for(let i in s.renderer){if(!(i in n))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;let a=i,l=s.renderer[a],c=n[a];n[a]=(...d)=>{let u=l.apply(n,d);return u===!1&&(u=c.apply(n,d)),u||""}}o.renderer=n}if(s.tokenizer){let n=this.defaults.tokenizer||new uo(this.defaults);for(let i in s.tokenizer){if(!(i in n))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;let a=i,l=s.tokenizer[a],c=n[a];n[a]=(...d)=>{let u=l.apply(n,d);return u===!1&&(u=c.apply(n,d)),u}}o.tokenizer=n}if(s.hooks){let n=this.defaults.hooks||new Qs;for(let i in s.hooks){if(!(i in n))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;let a=i,l=s.hooks[a],c=n[a];Qs.passThroughHooks.has(i)?n[a]=d=>{if(this.defaults.async)return Promise.resolve(l.call(n,d)).then(p=>c.call(n,p));let u=l.call(n,d);return c.call(n,u)}:n[a]=(...d)=>{let u=l.apply(n,d);return u===!1&&(u=c.apply(n,d)),u}}o.hooks=n}if(s.walkTokens){let n=this.defaults.walkTokens,i=s.walkTokens;o.walkTokens=function(a){let l=[];return l.push(i.call(this,a)),n&&(l=l.concat(n.call(this,a))),l}}this.defaults={...this.defaults,...o}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return kt.lex(e,t??this.defaults)}parser(e,t){return _t.parse(e,t??this.defaults)}parseMarkdown(e){return(t,s)=>{let o={...s},n={...this.defaults,...o},i=this.onError(!!n.silent,!!n.async);if(this.defaults.async===!0&&o.async===!1)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));n.hooks&&(n.hooks.options=n,n.hooks.block=e);let a=n.hooks?n.hooks.provideLexer():e?kt.lex:kt.lexInline,l=n.hooks?n.hooks.provideParser():e?_t.parse:_t.parseInline;if(n.async)return Promise.resolve(n.hooks?n.hooks.preprocess(t):t).then(c=>a(c,n)).then(c=>n.hooks?n.hooks.processAllTokens(c):c).then(c=>n.walkTokens?Promise.all(this.walkTokens(c,n.walkTokens)).then(()=>c):c).then(c=>l(c,n)).then(c=>n.hooks?n.hooks.postprocess(c):c).catch(i);try{n.hooks&&(t=n.hooks.preprocess(t));let c=a(t,n);n.hooks&&(c=n.hooks.processAllTokens(c)),n.walkTokens&&this.walkTokens(c,n.walkTokens);let d=l(c,n);return n.hooks&&(d=n.hooks.postprocess(d)),d}catch(c){return i(c)}}}onError(e,t){return s=>{if(s.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let o="<p>An error occurred:</p><pre>"+ct(s.message+"",!0)+"</pre>";return t?Promise.resolve(o):o}if(t)return Promise.reject(s);throw s}}},qt=new Dh;function oe(e,t){return qt.parse(e,t)}oe.options=oe.setOptions=function(e){return qt.setOptions(e),oe.defaults=qt.defaults,_a(oe.defaults),oe};oe.getDefaults=Ln;oe.defaults=Gt;oe.use=function(...e){return qt.use(...e),oe.defaults=qt.defaults,_a(oe.defaults),oe};oe.walkTokens=function(e,t){return qt.walkTokens(e,t)};oe.parseInline=qt.parseInline;oe.Parser=_t;oe.parser=_t.parse;oe.Renderer=fo;oe.TextRenderer=Hn;oe.Lexer=kt;oe.lexer=kt.lex;oe.Tokenizer=uo;oe.Hooks=Qs;oe.parse=oe;oe.options;oe.setOptions;oe.use;oe.walkTokens;oe.parseInline;_t.parse;kt.lex;const Wh={name:"AIAgent",data(){return{activeTab:"workflow",tooltipData:{visible:!1,x:0,y:0,title:"",description:""},currentWorkflow:{name:"",description:""},navigationTabs:[{id:"workflow",icon:"🔄",title:"Workflow Design",description:"Visual DAG workflow editor - Core feature",hasContent:!0},{id:"workflows",icon:"📋",title:"Workflow Management",description:"View and manage all DAG workflows",hasContent:!0}],workflowNodes:[],connections:[],selectedNode:null,selectedConnection:null,canvasScale:1,canvasOffsetX:0,canvasOffsetY:0,virtualCanvasWidth:2e3,virtualCanvasHeight:1500,isConnecting:!1,connectionStart:null,tempConnection:null,draggedNode:null,dragOffset:{x:0,y:0},isPanning:!1,panStart:{x:0,y:0},history:[],historyIndex:-1,nodeIdCounter:0,workflowStatus:"Ready",copiedNode:null,workflowList:[],workflowStats:{total:0,running:0,completed:0,failed:0},workflowSearch:"",selectedWorkflowStatus:"all",loadingWorkflows:!1,workflowListError:null,workflowStatusOptions:[{value:"all",label:this.$t?this.$t("aiAgent.workflow.statusFilters.all","全部"):"全部"},{value:"running",label:this.$t?this.$t("aiAgent.workflow.statusFilters.running","运行中"):"运行中"},{value:"completed",label:this.$t?this.$t("aiAgent.workflow.statusFilters.completed","已完成"):"已完成"},{value:"failed",label:this.$t?this.$t("aiAgent.workflow.statusFilters.failed","失败"):"失败"},{value:"pending",label:this.$t?this.$t("aiAgent.workflow.statusFilters.pending","待运行"):"待运行"}],currentWorkflowStatus:null,workflowResults:null,monitoringWorkflowId:null,showStatusMonitor:!1,showResultsViewer:!1,selectedMessageType:"all",finalOutputNode:null,finalOutputData:null,finalOutputType:"text",focusOnFinalOutput:!1,logsExpanded:!1,eventSource:null,sseConnectionStatus:"stopped",sseReconnectAttempts:0,maxReconnectAttempts:5,reconnectDelay:2e3,sseHeartbeatTimeout:null,statusUpdateQueue:[],statusUpdateTimer:null,batchUpdateInterval:100}},computed:{selectedNodeData(){return this.selectedNode?this.workflowNodes.find(e=>e.id===this.selectedNode)||{}:{}},filteredWorkflows(){let e=this.workflowList;if(this.selectedWorkflowStatus!=="all"&&(e=e.filter(t=>t.status===this.selectedWorkflowStatus)),this.workflowSearch.trim()){const t=this.workflowSearch.toLowerCase();e=e.filter(s=>(s.name||s.dag_id).toLowerCase().includes(t)||s.dag_id.toLowerCase().includes(t))}return e},filteredMessages(){var e;return(e=this.workflowResults)!=null&&e.messages?this.selectedMessageType==="all"?this.workflowResults.messages:this.workflowResults.messages.filter(t=>t.type===this.selectedMessageType):[]}},mounted(){this.configureMarkdownRenderer(),this.initializeCanvas(),this.saveToHistory(),this.loadWorkflowList(),this.checkAndLoadWorkflowFromRoute()},beforeUnmount(){this.cleanup(),this.stopSSEMonitoring(),this.hideTooltip()},methods:{configureMarkdownRenderer(){const e=new oe.Renderer;e.link=function(t,s,o){const n=s?` title="${s}"`:"";return`<a href="${t}"${n} target="_blank" rel="noopener noreferrer">${o}</a>`},oe.setOptions({renderer:e,breaks:!0,gfm:!0,sanitize:!1,smartLists:!0,smartypants:!0,highlight:function(t,s){return`<pre class="code-block"><code class="language-${s}">${t}</code></pre>`}})},renderMarkdown(e){try{return oe(e)}catch(t){return console.error("Markdown渲染失败:",t),`<pre>${e}</pre>`}},getDownloadButtonText(){if(!this.finalOutputData)return"下载";switch(this.finalOutputData.type){case"image":return"下载图片";case"audio":return"下载音频";case"video":return"下载视频";case"json":return"下载JSON";default:return"下载文档"}},checkAndLoadWorkflowFromRoute(){try{const e=this.$route.query.loadWorkflow;if(e){const t=JSON.parse(e);this.loadWorkflowToCanvas(t),this.$router.replace({name:this.$route.name,params:this.$route.params})}}catch(e){console.error("加载工作流数据失败:",e),this.showError("加载工作流数据失败")}},loadWorkflowToCanvas(e){try{this.currentWorkflow={...this.currentWorkflow,name:e.name||"Imported Workflow",description:e.description||"",dag_id:e.id||this.generateDAGId(e.name||"imported")},this.workflowNodes=[],this.connections=[],e.nodes&&e.nodes.length>0?this.workflowNodes=e.nodes.map(t=>({id:t.id||this.generateNodeId(),type:t.type||"LLM",title:t.title||t.name||"Node",description:t.description||"",prompt:t.prompt||"",x:t.x||Math.random()*400+100,y:t.y||Math.random()*300+100,inputs:t.inputs||[{name:"input",type:"text"}],outputs:t.outputs||[{name:"output",type:"text"}],status:"idle",...t})):this.createSampleWorkflow(e),e.connections&&e.connections.length>0&&(this.connections=e.connections.map(t=>({id:t.id||this.generateConnectionId(),source:t.source,target:t.target,...t}))),this.setActiveTab("workflow"),this.showSuccess(`工作流 "${e.name}" 已成功加载到设计台`)}catch(t){console.error("加载工作流到画布失败:",t),this.showError("加载工作流到画布失败")}},createSampleWorkflow(e){e.name&&e.name.toLowerCase().includes("voice")?this.workflowNodes=[{id:this.generateNodeId(),type:"STT",title:"语音转文字",description:"将语音输入转换为文字",x:100,y:100,inputs:[{name:"audio",type:"audio"}],outputs:[{name:"text",type:"text"}],status:"idle"},{id:this.generateNodeId(),type:"LLM",title:"文字处理",description:"处理转换后的文字",x:300,y:100,inputs:[{name:"text",type:"text"}],outputs:[{name:"processed_text",type:"text"}],status:"idle"}]:e.name&&e.name.toLowerCase().includes("image")?this.workflowNodes=[{id:this.generateNodeId(),type:"pic2text",title:"图像识别",description:"识别图像内容",x:100,y:100,inputs:[{name:"image",type:"image"}],outputs:[{name:"description",type:"text"}],status:"idle"},{id:this.generateNodeId(),type:"text2pic",title:"图像生成",description:"基于描述生成图像",x:300,y:100,inputs:[{name:"prompt",type:"text"}],outputs:[{name:"image",type:"image"}],status:"idle"}]:this.workflowNodes=[{id:this.generateNodeId(),type:"LLM",title:e.name||"AI处理",description:e.description||"智能处理节点",x:200,y:150,inputs:[{name:"input",type:"text"}],outputs:[{name:"output",type:"text"}],status:"idle"}]},generateDAGId(e){const t=Date.now(),s=Math.random().toString(36).substring(2,8);return`${e.replace(/[^a-zA-Z0-9]/g,"_").toLowerCase()}_${t}_${s}`},getTenantId(){var e=localStorage.getItem("userInfo"),t=JSON.parse(e);return t.tenant_id.toString()},setActiveTab(e){this.activeTab=e},showTooltip(e,t){const s=t.currentTarget.getBoundingClientRect();let o=s.right+10,n=s.top+s.height/2-20;const i=200,a=80;o+i>window.innerWidth&&(o=s.left-i-10),n+a>window.innerHeight&&(n=window.innerHeight-a-10),n<0&&(n=10),this.tooltipData={visible:!0,x:o,y:n,title:this.getTabTitle(e),description:this.getTabDescription(e)}},hideTooltip(){this.tooltipData.visible=!1},getTabTitle(e){return{workflow:this.$t("aiAgent.tabs.workflowDesign","Workflow Design"),workflows:this.$t("aiAgent.tabs.workflowManagement","Workflow Management")}[e]||e},getTabDescription(e){return{workflow:this.$t("aiAgent.tabs.workflowDesignDesc","Visual DAG workflow editor - Core feature"),workflows:this.$t("aiAgent.tabs.workflowManagementDesc","View and manage all DAG workflows")}[e]||""},getWorkflowStatus(){return this.currentWorkflow.name?this.workflowNodes.length<=1?this.$t("aiAgent.workflow.statusValues.empty","Empty"):this.$t("aiAgent.workflow.statusValues.ready","Ready"):this.$t("aiAgent.workflow.statusValues.unnamed","Unnamed")},getTranslatedStatus(e){if(!e)return"";const s={Ready:"ready",Running:"running",Completed:"completed",Failed:"failed",Deployed:"deployed",Empty:"empty",Unnamed:"unnamed",Pending:"pending",就绪:"ready",运行中:"running",已完成:"completed",失败:"failed",已部署:"deployed",空白:"empty",未命名工作流:"unnamed",待运行:"pending"}[e]||e.toLowerCase();return this.$t(`aiAgent.workflow.statusValues.${s}`,e)},async deployWorkflow(){try{if(!this.validateWorkflow())return;(!this.currentWorkflow.name||this.currentWorkflow.name.trim()==="")&&(this.currentWorkflow.name=`工作流_${new Date().toLocaleString()}`);const e=this.validateUploadData();if(e.errors.length>0){this.showError(`数据验证失败：
`+e.errors.join(`
`));return}e.warnings.length>0&&(console.warn("数据验证警告:",e.warnings),e.warnings.forEach(d=>this.showWarning(d))),await this.preprocessWorkflowFiles();const t=await this.generateDAGData(),s=this.getRequiredUploadsList();console.log("需要上传的文件:",s),this.showSuccess(`检测到 ${s.length} 个文件需要上传`),this.showSuccess("正在部署工作流...");const o=await fetch(We.CREATE,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!o.ok)throw new Error(`HTTP ${o.status}: ${o.statusText}`);const n=await o.json();console.log("DAG提交成功，后端响应:",n);const{dag_id:i,tenant_id:a,presigned_urls:l}=n;l&&Object.keys(l).length>0&&(this.showSuccess("正在上传文件到云端存储..."),await this.uploadFilesToS3(l));const c=await fetch(We.DEPLOY,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dag_id:i,tenant_id:a})});if(!c.ok)throw new Error(`HTTP ${c.status}: ${c.statusText}`);console.log("DAG就绪通知成功，开始执行"),this.currentWorkflow={dag_id:i,name:this.currentWorkflow.name,description:this.currentWorkflow.description||"",status:"deployed"},this.workflowStatus="Deployed",await this.monitorWorkflowExecution(i),await this.loadWorkflowList(),this.showSuccess(`工作流 "${this.currentWorkflow.name}" 部署成功并已保存到记录中！DAG ID: ${i}`)}catch(e){console.error("部署工作流失败:",e),this.showError(`部署工作流失败: ${e.message||"未知错误"}`)}},getNodeIcon(e){return{LLM:"🧠",STT:"🎤",TTS:"🔊",pic2text:"🖼️",text2pic:"🎨"}[e]||"📦"},getNodeTypeLabel(e){return{llm:"LLM"}[e]||e},getPortTypeLabel(e){return{text:this.$t("aiAgent.workflow.portTypes.text","文本"),image:this.$t("aiAgent.workflow.portTypes.image","图片"),audio:this.$t("aiAgent.workflow.portTypes.audio","音频"),file:this.$t("aiAgent.workflow.portTypes.file","文件"),json:this.$t("aiAgent.workflow.portTypes.json","JSON")}[e]||e},onDragStart(e,t){e.dataTransfer.setData("nodeType",t),e.dataTransfer.effectAllowed="copy"},onDragOver(e){e.preventDefault(),e.dataTransfer.dropEffect="copy"},onDrop(e){e.preventDefault();const t=e.dataTransfer.getData("nodeType");if(!t)return;const s=this.$refs.canvas.getBoundingClientRect(),o=e.clientX-s.left,n=e.clientY-s.top;this.createNode(t,o,n)},getNodeTemplate(e){const t={LLM:{title:"LLM",description:this.$t("aiAgent.workflow.llmDesc","大语言模型文本处理"),inputs:[{name:this.$t("aiAgent.workflow.ports.prompt","提示"),type:"text",value:""}],outputs:[{name:this.$t("aiAgent.workflow.ports.response","响应"),type:"text"}],service:"LLM",prompt:this.$t("aiAgent.workflow.defaultPrompts.llm","请根据输入内容提供有用的回答，保持回答准确、简洁、有帮助。"),model:"gpt-4",temperature:.7,max_tokens:2e3},STT:{title:"STT",description:this.$t("aiAgent.workflow.sttDesc","语音转文字"),inputs:[{name:this.$t("aiAgent.workflow.ports.audio","音频"),type:"audio",value:null}],outputs:[{name:this.$t("aiAgent.workflow.ports.text","文本"),type:"text"}],service:"STT",prompt:this.$t("aiAgent.workflow.defaultPrompts.stt","请将音频准确转换为文字，保持自然的句子结构和正确的标点符号。"),language:"zh",model:"whisper-1"},TTS:{title:"TTS",description:this.$t("aiAgent.workflow.ttsDesc","文字转语音"),inputs:[{name:this.$t("aiAgent.workflow.ports.text","文本"),type:"text",value:""}],outputs:[{name:this.$t("aiAgent.workflow.ports.audio","音频"),type:"audio"}],service:"TTS",prompt:this.$t("aiAgent.workflow.defaultPrompts.tts","请以自然、清晰的语调朗读文字，注意语速适中，语音自然。"),voice:"alloy",speed:1},pic2text:{title:"Pic2Text",description:this.$t("aiAgent.workflow.pic2textDesc","图片转文字"),inputs:[{name:this.$t("aiAgent.workflow.ports.image","图片"),type:"image",value:null}],outputs:[{name:this.$t("aiAgent.workflow.ports.text","文本"),type:"text"}],service:"pic2text",prompt:this.$t("aiAgent.workflow.defaultPrompts.pic2text","请识别图片中的所有文字内容，保持原有的排版结构，准确提取文字信息。"),language:"zh",format:"markdown"},text2pic:{title:"Text2Pic",description:this.$t("aiAgent.workflow.text2picDesc","文字转图片"),inputs:[{name:this.$t("aiAgent.workflow.ports.prompt","提示"),type:"text",value:""}],outputs:[{name:this.$t("aiAgent.workflow.ports.image","图片"),type:"image"}],service:"text2pic",prompt:this.$t("aiAgent.workflow.defaultPrompts.text2pic","根据描述生成高质量图片，画面构图合理，色彩和谐，细节丰富。"),size:"1024x1024",style:"natural"}};return t[e]||t.LLM},createNode(e,t,s){const o=`${e}-${++this.nodeIdCounter}`,n=this.getNodeTemplate(e),i={id:o,type:e,...n,x:t-75,y:s-50};this.workflowNodes.push(i),this.saveToHistory()},selectNode(e){this.selectedNode=e.id,this.selectedConnection=null},deselectNode(){this.selectedNode=null,this.selectedConnection=null},selectConnection(e){this.selectedConnection=e,this.selectedNode=null},deselectConnection(){this.selectedConnection=null},getNodeById(e){return this.workflowNodes.find(t=>t.id===e)},saveConnectionConfig(){this.showSuccess(this.$t("aiAgent.workflow.connectionSaved","连接配置已保存"))},deleteConnection(){if(!this.selectedConnection)return;const e=this.connections.findIndex(t=>t.id===this.selectedConnection.id);e!==-1&&(this.connections.splice(e,1),this.selectedConnection=null,this.saveToHistory(),this.showSuccess(this.$t("aiAgent.workflow.connectionDeleted","连接已删除")))},editNode(e){this.selectNode(e)},deleteNode(e){this.workflowNodes=this.workflowNodes.filter(t=>t.id!==e.id),this.connections=this.connections.filter(t=>t.from!==e.id&&t.to!==e.id),this.selectedNode===e.id&&this.deselectNode()},startNodeDrag(e,t){t.stopPropagation(),this.draggedNode=e;const s=this.$refs.canvas.getBoundingClientRect(),o=(t.clientX-s.left)/this.canvasScale-this.canvasOffsetX,n=(t.clientY-s.top)/this.canvasScale-this.canvasOffsetY;this.dragOffset={x:o-e.x,y:n-e.y};const i=l=>{if(this.draggedNode){const c=this.$refs.canvas.getBoundingClientRect(),d=(l.clientX-c.left)/this.canvasScale-this.canvasOffsetX,u=(l.clientY-c.top)/this.canvasScale-this.canvasOffsetY;this.draggedNode.x=d-this.dragOffset.x,this.draggedNode.y=u-this.dragOffset.y}},a=()=>{this.draggedNode=null,document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",a)};document.addEventListener("mousemove",i),document.addEventListener("mouseup",a)},onCanvasWheel(e){e.preventDefault();const t=e.deltaY>0?-.1:.1,s=Math.max(.25,Math.min(3,this.canvasScale+t));if(s!==this.canvasScale){const o=this.$refs.canvas.getBoundingClientRect(),n=e.clientX-o.left,i=e.clientY-o.top,a=n/this.canvasScale-this.canvasOffsetX,l=i/this.canvasScale-this.canvasOffsetY;this.canvasScale=s,this.canvasOffsetX=n/this.canvasScale-a,this.canvasOffsetY=i/this.canvasScale-l}},onCanvasMouseDown(e){(e.target===this.$refs.canvas||e.target===this.$refs.viewport)&&(this.isDraggingCanvas=!0,this.lastMousePos={x:e.clientX,y:e.clientY},e.preventDefault())},onCanvasMouseMove(e){if(this.isDraggingCanvas){const t=e.clientX-this.lastMousePos.x,s=e.clientY-this.lastMousePos.y;this.canvasOffsetX+=t/this.canvasScale,this.canvasOffsetY+=s/this.canvasScale,this.lastMousePos={x:e.clientX,y:e.clientY}}},onCanvasMouseUp(){this.isDraggingCanvas=!1},zoomIn(){const e=Math.min(3,this.canvasScale+.25);this.setCanvasScale(e)},zoomOut(){const e=Math.max(.25,this.canvasScale-.25);this.setCanvasScale(e)},resetZoom(){this.setCanvasScale(1),this.canvasOffsetX=0,this.canvasOffsetY=0},fitToScreen(){if(this.workflowNodes.length===0)return;let e=1/0,t=1/0,s=-1/0,o=-1/0;this.workflowNodes.forEach(y=>{e=Math.min(e,y.x),t=Math.min(t,y.y),s=Math.max(s,y.x+280),o=Math.max(o,y.y+150)});const n=s-e,i=o-t,a=50,l=this.$refs.canvas.getBoundingClientRect(),c=l.width-a*2,d=l.height-a*2,u=c/n,p=d/i,v=Math.min(u,p,1);this.canvasScale=v,this.canvasOffsetX=(c/v-n)/2-e+a/v,this.canvasOffsetY=(d/v-i)/2-t+a/v},setCanvasScale(e){const t=this.$refs.canvas.getBoundingClientRect(),s=t.width/2,o=t.height/2,n=s/this.canvasScale-this.canvasOffsetX,i=o/this.canvasScale-this.canvasOffsetY;this.canvasScale=e,this.canvasOffsetX=s/this.canvasScale-n,this.canvasOffsetY=o/this.canvasScale-i},initializeCanvas(){document.addEventListener("keyup",this.handleKeyUp),this.$refs.canvas&&this.$refs.canvas.addEventListener("contextmenu",this.handleContextMenu)},highlightConnectionPoint(e,t){if(this.isConnecting&&this.connectionStart){const s=this.connectionStart.portType;if(s==="output"&&t==="input"||s==="input"&&t==="output"){const o=document.querySelector(`[data-node-id="${e.id}"] .${t}-point`);o&&o.classList.add("connectable-highlight")}}},clearConnectionPointHighlight(e,t){const s=document.querySelector(`[data-node-id="${e.id}"] .${t}-point`);s&&s.classList.remove("connectable-highlight")},showMessage(e){},startConnectionDrag(e,t,s){s.stopPropagation(),this.isConnecting=!0,this.connectionStart={nodeId:e.id,portType:t,node:e};const o=document.querySelector(`[data-node-id="${e.id}"] .${t}-point`);o&&o.classList.add("dragging");const n=this.$refs.canvas;if(o&&n){const i=this.canvasScale||1,a=this.canvasOffsetX||0,l=this.canvasOffsetY||0,c=n.getBoundingClientRect(),d=o.getBoundingClientRect(),u=d.left+d.width/2-c.left,p=d.top+d.height/2-c.top,v=u/i-a,y=p/i-l;this.tempConnection={id:"temp",startX:v,startY:y,endX:v,endY:y,sourcePortType:t,sourceNode:e}}else{let l,c;t==="output"?(l=e.x+200,c=e.y+120/2):(l=e.x,c=e.y+120/2),this.tempConnection={id:"temp",startX:l,startY:c,endX:l,endY:c,sourcePortType:t,sourceNode:e}}document.addEventListener("mousemove",this.updateTempConnection),document.addEventListener("mouseup",this.cancelConnection),this.highlightConnectableNodes(e,t)},endConnectionDrag(e,t,s){if(!this.isConnecting||!this.connectionStart)return;s.stopPropagation();const o=this.connectionStart.node,n=this.connectionStart.portType;if(this.isValidConnection(o,n,e,t)){const i={id:`conn-${Date.now()}`,from:n==="output"?o.id:e.id,to:n==="output"?e.id:o.id,prompt:"请将上游节点的输出数据传递给下游节点。可以在此处添加数据转换或处理指令。",description:""};this.connections.push(i),this.saveToHistory()}this.cancelConnection()},updateTempConnection(e){if(!this.tempConnection)return;const t=this.$refs.canvas;if(!t)return;const s=this.canvasScale||1,o=this.canvasOffsetX||0,n=this.canvasOffsetY||0,i=t.getBoundingClientRect(),a=e.clientX-i.left,l=e.clientY-i.top,c=a/s-o,d=l/s-n;this.tempConnection.endX=c,this.tempConnection.endY=d},getTempConnectionPath(){if(!this.tempConnection)return"";const e=this.tempConnection.startX,t=this.tempConnection.startY,s=this.tempConnection.endX,o=this.tempConnection.endY,n=s-e,i=Math.sqrt(n*n+(o-t)*(o-t)),a=Math.min(i*.3,100),l=e+a,c=t,d=s-a;return`M ${e} ${t} C ${l} ${c}, ${d} ${o}, ${s} ${o}`},cancelConnection(){if(this.connectionStart){const e=document.querySelector(`[data-node-id="${this.connectionStart.nodeId}"] .${this.connectionStart.portType}-point`);e&&e.classList.remove("dragging")}this.isConnecting=!1,this.connectionStart=null,this.tempConnection=null,document.removeEventListener("mousemove",this.updateTempConnection),document.removeEventListener("mouseup",this.cancelConnection),this.clearHighlight(),this.clearAllConnectionPointHighlights()},clearAllConnectionPointHighlights(){document.querySelectorAll(".connection-point").forEach(e=>{e.classList.remove("connectable-highlight","incompatible-highlight","dragging")})},isValidConnection(e,t,s,o){if(e.id===s.id)return this.showError("不能连接到自身"),!1;if(t===o)return this.showError("必须连接输出端口到输入端口"),!1;if(t==="output"&&o!=="input")return this.showError("输出端口只能连接到输入端口"),!1;if(t==="input"&&o!=="output")return this.showError("输入端口只能接受输出端口的连接"),!1;const n=t==="output"?e.id:s.id,i=t==="output"?s.id:e.id;return this.connections.find(l=>l.from===n&&l.to===i)?(this.showError("节点之间已经存在连接"),!1):this.wouldCreateCycle(n,i)?(this.showError("不能创建循环连接"),!1):!!this.isDataTypeCompatible(e,t,s,o)},showError(e){console.warn("连接验证失败:",e),e&&e.trim()&&alert(e)},getNodeOutputTypes(e){return{LLM:["text"],STT:["text"],TTS:["audio"],pic2text:["text"],text2pic:["image"]}[e.type]||[]},getNodeInputTypes(e){return{LLM:["text"],STT:["audio"],TTS:["text"],pic2text:["image"],text2pic:["text"]}[e.type]||[]},isDataTypeCompatible(e,t,s,o){let n,i;t==="output"?(n=e,i=s):(n=s,i=e);const a=this.getNodeOutputTypes(n),l=this.getNodeInputTypes(i);if(!a.some(d=>l.includes(d))){const d=a.join("/"),u=l.join("/"),p=this.$t("aiAgent.workflow.errors.dataTypeIncompatible").replace("{outputNode}",n.title||n.type).replace("{outputType}",d).replace("{inputNode}",i.title||i.type).replace("{inputType}",u);return this.showError(p),!1}return!0},wouldCreateCycle(e,t){const s=new Set,o=[e];for(;o.length>0;){const n=o.pop();if(n===t)return!0;if(s.has(n))continue;s.add(n),this.connections.filter(a=>a.from===n).forEach(a=>{s.has(a.to)||o.push(a.to)})}return!1},highlightConnectableNodes(e,t){this.workflowNodes.forEach(s=>{if(s.id===e.id)return;let o,n;t==="output"?(o="input",n=document.querySelector(`[data-node-id="${s.id}"] .input-point`)):t==="input"&&(o="output",n=document.querySelector(`[data-node-id="${s.id}"] .output-point`)),n&&(this.isDataTypeCompatible(e,t,s,o)?n.classList.add("connectable-highlight"):n.classList.add("incompatible-highlight"))})},clearHighlight(){document.querySelectorAll(".connectable").forEach(e=>{e.classList.remove("connectable")}),document.querySelectorAll(".connectable-highlight").forEach(e=>{e.classList.remove("connectable-highlight")}),document.querySelectorAll(".incompatible-highlight").forEach(e=>{e.classList.remove("incompatible-highlight")})},saveToHistory(){const e={nodes:JSON.parse(JSON.stringify(this.workflowNodes)),connections:JSON.parse(JSON.stringify(this.connections))};this.history=this.history.slice(0,this.historyIndex+1),this.history.push(e),this.historyIndex=this.history.length-1,this.history.length>50&&(this.history.shift(),this.historyIndex--)},undo(){this.historyIndex>0&&(this.historyIndex--,this.restoreFromHistory())},redo(){this.historyIndex<this.history.length-1&&(this.historyIndex++,this.restoreFromHistory())},restoreFromHistory(){const e=this.history[this.historyIndex];this.workflowNodes=JSON.parse(JSON.stringify(e.nodes)),this.connections=JSON.parse(JSON.stringify(e.connections)),this.selectedNode=null},copySelectedNode(){if(this.selectedNode){const e=this.workflowNodes.find(t=>t.id===this.selectedNode);e&&(this.copiedNode=JSON.parse(JSON.stringify(e)))}},pasteNode(){if(this.copiedNode){const e={...this.copiedNode,id:`${this.copiedNode.type}-${++this.nodeIdCounter}`,x:this.copiedNode.x+50,y:this.copiedNode.y+50};this.workflowNodes.push(e),this.saveToHistory()}},deleteSelectedNode(){this.selectedNode&&this.deleteNode(this.workflowNodes.find(e=>e.id===this.selectedNode))},selectAllNodes(){this.workflowNodes.forEach(e=>{const t=document.querySelector(`[data-node-id="${e.id}"]`);t&&t.classList.add("node-selected")})},showError(e){console.error("错误:",e),this.$message&&this.$message.error?this.$message.error(e):alert("错误: "+e)},showSuccess(e){console.log("成功:",e),this.$message&&this.$message.success?this.$message.success(e):alert("成功: "+e)},showWarning(e){console.warn("警告:",e),this.$message&&this.$message.warning?this.$message.warning(e):alert("警告: "+e)},cleanup(){document.removeEventListener("keyup",this.handleKeyUp),document.removeEventListener("click",this.cancelConnection),this.stopSSEMonitoring()},isAIServiceNode(e){return["LLM","STT","TTS","pic2text","text2pic"].includes(e)},getPromptPlaceholder(e){return{LLM:"请输入LLM处理提示词，例如：你是一个专业的助手，请根据输入内容提供有价值的回复...",STT:"请输入语音转文字的处理指令，例如：将以下音频转换为文字，并标注时间戳...",TTS:"请输入文字转语音的处理指令，例如：以自然流畅的语调朗读以下文字...",pic2text:"Enter image-to-text processing instructions, for example: Analyze image content and extract all text information...",text2pic:"请输入文字转图片的处理指令，例如：根据描述生成高质量的图片，注意细节和色彩搭配..."}[e]||"请输入节点处理提示词..."},getPromptTips(e){return{LLM:"提示词将影响AI的回复质量，建议明确指定角色、任务和输出格式",STT:"可以指定转换精度、语言识别偏好等参数",TTS:"可以指定语音风格、语速、情感等参数",pic2text:"可以指定提取内容类型，如只提取文字、包含图表描述等",text2pic:"详细的描述有助于生成更准确的图片，建议包含风格、颜色、构图等要素"}[e]||"根据节点功能配置相应的提示词"},addInput(){const e=this.workflowNodes.findIndex(t=>t.id===this.selectedNode);if(e!==-1){this.workflowNodes[e].inputs||(this.workflowNodes[e].inputs=[]);const t=(this.workflowNodes[e].service==="LLM","text");this.workflowNodes[e].inputs.push({name:"input",type:t,value:""})}},removeInput(e){const t=this.workflowNodes.findIndex(s=>s.id===this.selectedNode);t!==-1&&this.workflowNodes[t].inputs&&this.workflowNodes[t].inputs.splice(e,1)},addOutput(){const e=this.workflowNodes.findIndex(t=>t.id===this.selectedNode);e!==-1&&(this.workflowNodes[e].outputs||(this.workflowNodes[e].outputs=[]),this.workflowNodes[e].outputs.push({name:"output",type:"text"}))},removeOutput(e){const t=this.workflowNodes.findIndex(s=>s.id===this.selectedNode);t!==-1&&this.workflowNodes[t].outputs&&this.workflowNodes[t].outputs.splice(e,1)},saveNodeConfig(){this.showSuccess(this.$t("aiAgent.workflow.configSaved","节点配置已保存"))},validateNodeConfig(){if(!this.selectedNode)return this.showWarning(this.$t("aiAgent.workflow.noNodeSelected","请先选择一个节点")),!1;const e=this.selectedNodeData;if(!e.title||!e.title.trim())return this.showError(this.$t("aiAgent.workflow.nameRequired","节点名称不能为空")),!1;if(this.isAIServiceNode(e.type)){if(!e.service)return this.showError(this.$t("aiAgent.workflow.serviceRequired","请选择服务类型")),!1;if(!e.prompt||!e.prompt.trim())return this.showError(this.$t("aiAgent.workflow.promptRequired","请配置节点提示词")),!1}return this.showSuccess(this.$t("aiAgent.workflow.configValid","节点配置验证通过！")),!0},getCurrentUser(){try{const e=localStorage.getItem("userInfo");return e?JSON.parse(e):null}catch(e){return console.error("Failed to get user information:",e),null}},validateWorkflow(){if(this.workflowNodes.length===0)return this.showError(this.$t("aiAgent.workflow.emptyWorkflow","工作流不能为空，请添加至少一个节点")),!1;for(const s of this.workflowNodes)if(this.isAIServiceNode(s.type)&&(!s.service||!s.prompt))return this.showError(this.$t("aiAgent.workflow.nodeConfigIncomplete",`节点 ${s.title} 配置不完整`)),!1;const e=new Set;this.connections.forEach(s=>{e.add(s.from),e.add(s.to)});const t=this.workflowNodes.filter(s=>!e.has(s.id)&&this.workflowNodes.length>1);return t.length>0&&this.showWarning(this.$t("aiAgent.workflow.isolatedNodes",`发现孤立节点: ${t.map(s=>s.title).join(", ")}`)),!0},async generateDAGData(){const e={dag_id:this.generateDAGId(this.currentWorkflow.name||"workflow"),tenant_id:this.getTenantId(),nodes:{},edges:[]};return this.workflowNodes.forEach(t=>{e.nodes[t.id]={service:t.service||t.type,prompt:t.prompt||""}}),this.connections.forEach(t=>{e.edges.push({from:t.from,to:t.to,prompt:t.prompt||""})}),console.log("生成简化的DAG数据:",e),e},detectCycles(){const e=new Set,t=new Set,s=o=>{if(t.has(o))return!0;if(e.has(o))return!1;e.add(o),t.add(o);const n=this.connections.filter(i=>i.from===o);for(const i of n)if(s(i.to))return!0;return t.delete(o),!1};for(const o of this.workflowNodes)if(s(o.id))return!0;return!1},calculateComplexityScore(){let e=0;return e+=this.workflowNodes.length*2,e+=this.connections.length*1,e+=this.workflowNodes.filter(t=>this.isAIServiceNode(t.type)).length*3,e},getWorkflowValidationErrors(){const e=[],t=new Set;return this.connections.forEach(s=>{t.add(s.from),t.add(s.to)}),this.workflowNodes.forEach(s=>{!t.has(s.id)&&this.workflowNodes.length>1&&e.push(`节点 ${s.title||s.id} 未连接到其他节点`),this.isAIServiceNode(s.type)&&(s.service||e.push(`节点 ${s.title||s.id} 未配置服务类型`),s.prompt||e.push(`节点 ${s.title||s.id} 未配置提示词`))}),e},getWorkflowValidationWarnings(){const e=[],t=this.workflowNodes.some(o=>o.type==="input"),s=this.workflowNodes.some(o=>o.type==="output");return t||e.push("工作流没有输入节点，可能无法正常接收数据"),s||e.push("工作流没有输出节点，可能无法返回结果"),this.detectCycles()&&e.push("工作流中存在循环依赖，可能导致执行问题"),e},async uploadFilesToS3(e){try{console.log("🚀 开始批量上传到S3"),console.log("📋 预签名URL信息:",{总数:Object.keys(e).length,节点列表:Object.keys(e),URL预览:Object.keys(e).reduce((i,a)=>(i[a]=e[a].substring(0,50)+"...",i),{})});const t=[],s=this.getNodeConnectionPrompts();console.log("📝 节点连接Prompt信息:",s);let o=0,n=0;for(const i of this.workflowNodes)if(console.log(`🔄 处理节点: ${i.id} (${i.title||"未命名"})`),e[i.id]){const a=await this.getNodeFileData(i,s);if(a){console.log(`📦 节点 ${i.id} 文件数据:`,{文件类型:a.contentType,文件大小:a.blob.size+" bytes",数据来源:a.source});const l=i.service||i.type,c=this.getContentTypeByService(l);console.log(`📤 准备上传节点 ${i.id}，文件大小: ${a.blob.size} bytes，服务类型: ${l}，Content-Type: ${c}`),t.push(this.uploadFileToS3(e[i.id],a.blob,a.contentType,l).then(()=>{console.log(`✅ 节点 ${i.id} 上传成功`),this.showUploadProgress(t.length,this.workflowNodes.length,`节点 ${i.id} 完成`)}).catch(d=>{throw console.error(`❌ 节点 ${i.id} 上传失败:`,d),new Error(`节点 ${i.id} 上传失败: ${d.message}`)})),o++}else console.warn(`⚠️ 节点 ${i.id} 没有可上传的文件数据`),n++}else console.warn(`⚠️ 节点 ${i.id} 没有对应的预签名URL`),n++;if(console.log("📊 节点处理统计:",{总节点数:this.workflowNodes.length,处理成功:o,跳过节点:n,上传任务:t.length}),t.length>0){console.log(`🔄 开始并行上传 ${t.length} 个文件...`),this.showUploadProgress(0,t.length,"开始上传节点数据...");const i=await Promise.allSettled(t),a=i.filter(c=>c.status==="fulfilled").length,l=i.filter(c=>c.status==="rejected").length;if(console.log("📈 上传结果统计:",{成功:a,失败:l,总计:i.length}),l>0){const c=i.filter(d=>d.status==="rejected").map(d=>d.reason.message);throw console.error("❌ 失败的上传任务:",c),new Error(`${l} 个文件上传失败: ${c.join("; ")}`)}console.log(`✅ 成功上传 ${a} 个节点数据包到S3`),this.showUploadProgress(t.length,t.length,"上传完成"),this.showSuccess(`已成功上传 ${a} 个节点数据包！`)}else console.warn("⚠️ 没有需要上传的文件"),console.log("🔍 可能的原因:",{节点数量:this.workflowNodes.length,预签名URL数量:Object.keys(e).length,节点ID列表:this.workflowNodes.map(i=>i.id),预签名URL节点列表:Object.keys(e)}),this.showWarning("没有检测到需要上传的文件，请检查工作流配置")}catch(t){throw console.error("❌ 批量文件上传失败:",{错误信息:t.message,错误堆栈:t.stack,预签名URL:Object.keys(e||{}),节点数量:this.workflowNodes.length,时间戳:new Date().toISOString()}),new Error(`文件上传失败: ${t.message}`)}},getNodeConnectionPrompts(){const e={};return this.connections.forEach((t,s)=>{const o=t.to;e[o]||(e[o]=[]),e[o].push({from:t.from,prompt:t.prompt||"默认处理指令",connectionIndex:s})}),e},async getNodeFileData(e,t){try{if(e.inputs&&e.inputs.length>0)for(const i of e.inputs){if(i.type==="image"&&i.fileData){const a=this.base64ToBlob(i.fileData,i.fileType||"image/jpeg");return console.log(`✅ 节点 ${e.id} 使用图片文件 (prompt已在submit中发送)`),{blob:a,contentType:i.fileType||"image/jpeg",source:`图片文件: ${i.fileName||"image"}`}}if(i.type==="audio"&&i.fileData){const a=this.base64ToBlob(i.fileData,i.fileType||"audio/wav");return console.log(`✅ 节点 ${e.id} 使用音频文件 (prompt已在submit中发送)`),{blob:a,contentType:i.fileType||"audio/wav",source:`音频文件: ${i.fileName||"audio"}`}}if(i.type==="file"&&i.fileData){const a=this.base64ToBlob(i.fileData,i.fileType||"application/octet-stream");return console.log(`✅ 节点 ${e.id} 使用文件 (prompt已在submit中发送)`),{blob:a,contentType:i.fileType||"application/octet-stream",source:`文件: ${i.fileName||"file"}`}}if(i.type==="text"&&i.value&&i.value.trim()){const a=new Blob([i.value],{type:"text/plain"});return console.log(`✅ 节点 ${e.id} 使用文本输入 (prompt已在submit中发送)`),{blob:a,contentType:"text/plain",source:`文本输入: ${i.name}`}}}if(e.prompt&&e.prompt.trim()){const i=`节点ID: ${e.id}
服务类型: ${e.service||e.type}
说明: 此节点的处理指令已在DAG提交中发送
时间: ${new Date().toISOString()}`,a=new Blob([i],{type:"text/plain"});return console.log(`✅ 节点 ${e.id} 创建占位符文件 (prompt已在submit中发送)`),{blob:a,contentType:"text/plain",source:"占位符文件 (prompt已在submit中发送)"}}const s=t[e.id];if(s&&s.length>0){const i=`节点ID: ${e.id}
服务类型: ${e.service||e.type}
连接数: ${s.length}
说明: 此节点的连接指令已在DAG提交中发送
时间: ${new Date().toISOString()}`,a=new Blob([i],{type:"text/plain"});return console.log(`✅ 节点 ${e.id} 创建连接占位符文件`),{blob:a,contentType:"text/plain",source:"连接占位符文件"}}const o=`节点ID: ${e.id}
服务类型: ${e.service||e.type}
状态: 默认占位符
时间: ${new Date().toISOString()}`,n=new Blob([o],{type:"text/plain"});return console.log(`✅ 节点 ${e.id} 创建默认占位符文件`),{blob:n,contentType:"text/plain",source:"默认占位符文件"}}catch(s){return console.error(`Failed to get file data for node ${e.id}:`,s),null}},async prepareNodeDataPackage(e,t){try{const s={nodeId:e.id,service:e.service||e.type,title:e.title,description:e.description,config:{model:e.model,temperature:e.temperature,max_tokens:e.max_tokens,language:e.language,voice:e.voice,speed:e.speed,size:e.size,style:e.style,format:e.format},nodePrompt:e.prompt||"请处理输入数据",connectionPrompts:t[e.id]||[],inputs:[],metadata:{uploadTime:new Date().toISOString(),version:"1.0"}};if(e.inputs&&e.inputs.length>0)for(let o=0;o<e.inputs.length;o++){const n=e.inputs[o],i=await this.processNodeInput(n,e);i&&s.inputs.push(i)}return s}catch(s){throw console.error("准备节点数据包失败:",s),s}},async processNodeInput(e,t){try{const s={name:e.name,type:e.type,value:null,contentType:"text/plain",encoding:"utf8"};switch(e.type){case"text":s.value=e.value||"",s.contentType="text/plain";break;case"audio":e.fileData?(s.value=e.fileData,s.contentType=e.fileType||"audio/wav",s.encoding="base64"):e.value&&e.value instanceof File&&(s.value=await this.fileToBase64(e.value),s.contentType=e.value.type||"audio/wav",s.encoding="base64");break;case"image":e.fileData?(s.value=e.fileData,s.contentType=e.fileType||"image/jpeg",s.encoding="base64"):e.value&&e.value instanceof File&&(s.value=await this.fileToBase64(e.value),s.contentType=e.value.type||"image/jpeg",s.encoding="base64");break;case"file":e.fileData?(s.value=e.fileData,s.contentType=e.fileType||"application/octet-stream",s.encoding="base64"):e.value&&e.value instanceof File&&(s.value=await this.fileToBase64(e.value),s.contentType=e.value.type||"application/octet-stream",s.encoding="base64");break;case"json":e.value&&(s.value=typeof e.value=="string"?e.value:JSON.stringify(e.value),s.contentType="application/json");break;default:s.value=String(e.value||"");break}return s}catch(s){return console.error("Failed to process node input:",s),null}},getContentTypeByService(e){return{LLM:"application/x-www-form-urlencoded",STT:"audio/wav",TTS:"application/x-www-form-urlencoded",pic2text:"image/jpeg",text2pic:"application/x-www-form-urlencoded"}[e]||"application/octet-stream"},async uploadFileToS3(e,t,s,o){try{const n=this.getContentTypeByService(o);console.log("📤 开始S3上传:",{url:e.substring(0,100)+"...",serviceType:o,originalContentType:s,correctContentType:n,dataType:t instanceof Blob?"Blob":typeof t,dataSize:t instanceof Blob?t.size:"unknown"});let i;if(t instanceof Blob)i=t,console.log("✅ 使用Blob对象，大小:",i.size,"bytes");else if(typeof t=="string")i=this.base64ToBlob(t,s),console.log("✅ Base64转换为Blob，大小:",i.size,"bytes");else throw new Error(`不支持的文件数据类型: ${typeof t}`);if(!i||i.size===0)throw new Error("文件数据为空或无效");console.log("🔄 正在向S3发送请求，Content-Type:",n);const a=await fetch(e,{method:"PUT",body:i,headers:{"Content-Type":n},redirect:"follow"});if(console.log("📡 S3响应状态:",{status:a.status,statusText:a.statusText,ok:a.ok,headers:Object.fromEntries(a.headers.entries())}),!a.ok){let l="";try{const d=await a.text();if(console.error("❌ S3错误响应内容:",d),d.includes("<Error>")){const u=d.match(/<Code>(.*?)<\/Code>/),p=d.match(/<Message>(.*?)<\/Message>/);u&&p?l=`${u[1]}: ${p[1]}`:l=d}else l=d}catch(d){console.warn("⚠️ 无法解析S3错误响应:",d),l="无法获取详细错误信息"}const c=`S3上传失败 [${a.status}]: ${a.statusText}${l?` - ${l}`:""}`;throw new Error(c)}return console.log("✅ 节点数据包上传到S3成功"),a}catch(n){throw console.error("❌ S3上传失败 - 详细信息:",{error:n.message,stack:n.stack,presignedUrl:e.substring(0,100)+"...",serviceType:o,originalContentType:s,correctContentType:this.getContentTypeByService(o),timestamp:new Date().toISOString()}),n}},async prepareInputFileData(e,t){try{switch(e.type){case"text":if(e.value&&typeof e.value=="string")return{blob:new Blob([e.value],{type:"text/plain"}),contentType:"text/plain"};break;case"audio":if(e.fileData)return{blob:this.base64ToBlob(e.fileData,e.fileType||"audio/wav"),contentType:e.fileType||"audio/wav"};if(e.value&&e.value instanceof File)return{blob:e.value,contentType:e.value.type||"audio/wav"};break;case"image":if(e.fileData)return{blob:this.base64ToBlob(e.fileData,e.fileType||"image/jpeg"),contentType:e.fileType||"image/jpeg"};if(e.value&&e.value instanceof File)return{blob:e.value,contentType:e.value.type||"image/jpeg"};break;case"file":if(e.fileData)return{blob:this.base64ToBlob(e.fileData,e.fileType||"application/octet-stream"),contentType:e.fileType||"application/octet-stream"};if(e.value&&e.value instanceof File)return{blob:e.value,contentType:e.value.type||"application/octet-stream"};break;case"json":if(e.value){const s=typeof e.value=="string"?e.value:JSON.stringify(e.value,null,2);return{blob:new Blob([s],{type:"application/json"}),contentType:"application/json"}}break;default:return console.warn(`未知的输入类型: ${e.type}`),null}return null}catch(s){return console.error(`准备输入文件数据失败: ${e.type}`,s),null}},async fileToBase64(e){return new Promise((t,s)=>{const o=new FileReader;o.onload=()=>t(o.result),o.onerror=s,o.readAsDataURL(e)})},base64ToBlob(e,t){const s=e.replace(/^data:[^;]+;base64,/,""),o=atob(s),n=new Array(o.length);for(let a=0;a<o.length;a++)n[a]=o.charCodeAt(a);const i=new Uint8Array(n);return new Blob([i],{type:t})},async preprocessWorkflowFiles(){try{for(const s of this.workflowNodes){if(!s.service&&s.type&&(s.service=s.type),s.inputs)for(let o=0;o<s.inputs.length;o++){const n=s.inputs[o];n.type==="text"&&!n.value&&(n.value=""),n.metadata||(n.metadata={nodeId:s.id,inputIndex:o,type:n.type,processedAt:new Date().toISOString()})}s.prompt||(s.prompt="请处理输入数据"),s.packageMetadata||(s.packageMetadata={nodeId:s.id,service:s.service||s.type,uploadKey:s.id,processedAt:new Date().toISOString()})}for(let s=0;s<this.connections.length;s++){const o=this.connections[s];o.prompt||(o.prompt="请处理输入数据"),o.metadata||(o.metadata={connectionIndex:s,from:o.from,to:o.to,type:"connection_prompt",processedAt:new Date().toISOString()})}const e=this.getNodeConnectionPrompts();let t=0;for(const s of this.workflowNodes){const o=s.inputs&&s.inputs.some(a=>a.value!==void 0&&a.value!==null),n=!!(s.prompt&&s.prompt.trim()),i=e[s.id]&&e[s.id].length>0;(o||n||i)&&t++}return console.log(`节点数据预处理完成: ${t}/${this.workflowNodes.length} 个节点包含数据`),!0}catch(e){throw console.error("Failed to preprocess node data:",e),new Error(`Failed to preprocess node data: ${e.message}`)}},getRequiredUploadsList(){const e=[],t=this.getNodeConnectionPrompts();return this.workflowNodes.forEach(s=>{const o=s.inputs&&s.inputs.some(a=>a.value!==void 0&&a.value!==null&&a.value!==""),n=!!(s.prompt&&s.prompt.trim()),i=t[s.id]&&t[s.id].length>0;e.push({type:"node_data_package",nodeId:s.id,service:s.service||s.type,title:s.title,uploadKey:s.id,hasInputs:o,hasPrompt:n,hasConnectionPrompts:i,inputsCount:s.inputs?s.inputs.length:0,connectionPromptsCount:t[s.id]?t[s.id].length:0,hasData:o||n||i})}),e},validateUploadData(){const e=[],t=[];for(const i of this.workflowNodes){if(!i.service&&!i.type&&e.push(`节点 ${i.title||i.id} 缺少服务类型配置`),i.inputs)for(let a=0;a<i.inputs.length;a++){const l=i.inputs[a];l.type==="audio"&&!l.value&&!l.fileData&&e.push(`节点 ${i.title} 的音频输入 ${l.name} 没有数据`),l.type==="image"&&!l.value&&!l.fileData&&e.push(`节点 ${i.title} 的图片输入 ${l.name} 没有数据`),l.fileData&&l.fileSize&&l.fileSize>10485760&&e.push(`节点 ${i.title} 的文件 ${l.name} 超过大小限制 (${Math.round(l.fileSize/1024/1024)}MB > 10MB)`)}this.isAIServiceNode(i.type)&&!i.prompt&&t.push(`AI服务节点 ${i.title} 没有配置prompt，将使用默认处理指令`)}for(let i=0;i<this.connections.length;i++){const a=this.connections[i];a.prompt||t.push(`连接 ${a.from} → ${a.to} 没有配置prompt，将使用默认指令`)}const s=this.getNodeConnectionPrompts();let o=0,n=0;for(const i of this.workflowNodes){o++;const a=i.inputs&&i.inputs.some(d=>d.value!==void 0&&d.value!==null&&d.value!==""),l=!!(i.prompt&&i.prompt.trim()),c=s[i.id]&&s[i.id].length>0;(a||l||c)&&n++}return n===0&&t.push("工作流中没有任何节点包含数据，可能无法正常执行"),{errors:e,warnings:t,summary:{totalNodes:this.workflowNodes.length,totalDataPackages:o,packagesWithData:n,totalConnections:this.connections.length}}},showUploadProgress(e,t,s){const o=Math.round(e/t*100);this.showSuccess(`上传进度: ${e}/${t} (${o}%) - 正在上传: ${s}`)},async testUploadFlow(){try{if(console.log("=== 开始测试文件上传流程 ==="),this.workflowNodes.length===0)throw new Error("没有工作流节点可供测试");await this.preprocessWorkflowFiles(),console.log("✅ 文件预处理完成");const e=this.validateUploadData();if(e.errors.length>0)return console.error("❌ 数据验证失败:",e.errors),!1;console.log("✅ 数据验证通过");const t=this.getRequiredUploadsList();console.log("✅ 生成上传列表:",t);let s=0;for(const o of this.workflowNodes)if(o.inputs)for(const n of o.inputs)n.value&&await this.prepareInputFileData(n,o)&&(s++,console.log(`✅ 节点 ${o.id} 输入 ${n.type} 文件数据准备完成`));return console.log(`✅ 总计准备了 ${s} 个文件的数据`),console.log("=== 文件上传流程测试完成 ==="),!0}catch(e){return console.error("❌ 文件上传流程测试失败:",e),!1}},async monitorWorkflowExecution(e){console.log("开始SSE监控工作流:",e),this.startSSEMonitoring(e)},debugUploadProcess(){console.log("🔍 ===== 上传问题调试报告 ====="),console.log("📅 调试时间:",new Date().toISOString()),console.log("📋 工作流基本信息:",{节点数量:this.workflowNodes.length,连接数量:this.connections.length,当前工作流:this.currentWorkflow,租户ID:this.getTenantId()}),console.log("🔍 节点详细信息:"),this.workflowNodes.forEach((s,o)=>{console.log(`节点 ${o+1}:`,{ID:s.id,类型:s.type,服务:s.service,标题:s.title,输入数量:s.inputs?s.inputs.length:0,有输入数据:s.inputs?s.inputs.some(n=>n.value):!1,提示词:s.prompt?"已设置":"未设置"}),s.inputs&&s.inputs.forEach((n,i)=>{console.log(`  输入 ${i+1}:`,{名称:n.name,类型:n.type,有值:!!n.value,有文件数据:!!n.fileData,值预览:n.value?n.value.substring(0,50)+"...":"无"})})}),console.log("🔗 连接信息:"),this.connections.forEach((s,o)=>{console.log(`连接 ${o+1}:`,{从:s.from,到:s.to,提示词:s.prompt?"已设置":"未设置"})}),console.log("📦 模拟数据包准备:");const e=this.getNodeConnectionPrompts();this.workflowNodes.forEach(async s=>{try{const o=await this.prepareNodeDataPackage(s,e);console.log(`节点 ${s.id} 数据包:`,o)}catch(o){console.error(`节点 ${s.id} 数据包准备失败:`,o)}});const t=this.getRequiredUploadsList();return console.log("📤 上传列表:",t),console.log("⚙️ API配置:",{基础URL:We.CREATE,部署URL:We.DEPLOY,列表URL:We.LIST(this.getTenantId()),状态URL:We.STATUS("test-dag-id")}),console.log("✅ 调试报告完成，请查看上述信息定位问题"),console.log("💡 提示: 如果节点没有输入数据，上传列表可能为空"),{节点数量:this.workflowNodes.length,上传任务数量:t.length,有数据的节点:t.filter(s=>s.hasData).length}},clearCanvas(){this.workflowNodes=[],this.connections=[],this.selectedNode=null,this.workflowStatus="Ready"},getConnectionPath(e){const t=this.workflowNodes.find(_e=>_e.id===e.from),s=this.workflowNodes.find(_e=>_e.id===e.to);if(!t||!s)return"";const o=document.querySelector(`[data-node-id="${t.id}"] .output-point`),n=document.querySelector(`[data-node-id="${s.id}"] .input-point`),i=this.$refs.canvas;if(!o||!n||!i){const Ue=t.x+200,Ce=t.y+120/2,tt=s.x,st=s.y+120/2,we=tt-Ue,te=Math.min(Math.abs(we)*.5,120),Z=Ue+te,He=Ce,Ke=tt-te;return`M ${Ue} ${Ce} C ${Z} ${He}, ${Ke} ${st}, ${tt} ${st}`}const a=this.canvasScale||1,l=this.canvasOffsetX||0,c=this.canvasOffsetY||0,d=i.getBoundingClientRect(),u=o.getBoundingClientRect(),p=n.getBoundingClientRect(),v=u.left+u.width/2-d.left,y=u.top+u.height/2-d.top,T=p.left+p.width/2-d.left,I=p.top+p.height/2-d.top,h=v/a-l,A=y/a-c,L=T/a-l,F=I/a-c,W=L-h,X=Math.min(Math.abs(W)*.5,120),ve=h+X,ee=A,Me=L-X;return`M ${h} ${A} C ${ve} ${ee}, ${Me} ${F}, ${L} ${F}`},setConnectionHover(e,t){t&&console.log("Connection hover:",e.id)},getTempConnectionPath(){if(!this.tempConnection)return"";const e=this.tempConnection.startX||0,t=this.tempConnection.startY||0,s=this.tempConnection.endX||0,o=this.tempConnection.endY||0,n=s-e,i=Math.sqrt(n*n+(o-t)*(o-t)),a=Math.min(i*.3,100),l=e+a,c=t,d=s-a;return`M ${e} ${t} C ${l} ${c}, ${d} ${o}, ${s} ${o}`},clearCanvas(){this.workflowNodes=[],this.connections=[],this.deselectNode()},setConnectionHover(e,t){document.querySelectorAll(`path[data-connection-id="${e.id}"]`).forEach(o=>{t?(o.setAttribute("marker-end","url(#arrowhead-hover)"),o.setAttribute("stroke-width","3")):(o.setAttribute("marker-end","url(#arrowhead)"),o.setAttribute("stroke-width","2"))})},selectConnection(e){this.selectedConnection=e},async loadWorkflowList(){try{this.loadingWorkflows=!0,this.workflowListError=null;const e=this.getTenantId();console.log("🔄 开始加载工作流列表 - 租户ID:",e),console.log("📡 请求URL:",We.LIST(e));const t=await fetch(We.LIST(e));if(!t.ok)throw console.error("❌ API响应失败:",{status:t.status,statusText:t.statusText,url:t.url}),new Error(`HTTP ${t.status}: ${t.statusText}`);let s;try{const n=await t.text();console.log("📄 原始响应内容:",n),n.trim()?(s=JSON.parse(n),console.log("✅ 成功解析JSON响应:",s)):(console.warn("⚠️ 收到空响应，使用空数组"),s=[])}catch(n){throw console.error("❌ JSON解析失败:",n),new Error(`响应解析失败: ${n.message}`)}let o=[];Array.isArray(s)?(o=s,console.log("✅ 响应格式正确 - 直接数组格式，包含",s.length,"个工作流")):s&&typeof s=="object"?Array.isArray(s.dags)?(o=s.dags,console.log("✅ 响应格式 - 对象包装格式，从data.dags提取",s.dags.length,"个工作流")):Array.isArray(s.data)?(o=s.data,console.log("✅ 响应格式 - 对象包装格式，从data.data提取",s.data.length,"个工作流")):Array.isArray(s.workflows)?(o=s.workflows,console.log("✅ 响应格式 - 对象包装格式，从data.workflows提取",s.workflows.length,"个工作流")):(console.warn("⚠️ 未知响应格式，尝试将整个对象作为单个工作流处理"),console.log("🔍 响应对象结构:",Object.keys(s)),o=[s]):(console.warn("⚠️ 响应数据类型异常:",typeof s),o=[]),this.workflowList=o,console.log("📋 最终工作流列表:",this.workflowList),this.updateWorkflowStats()}catch(e){console.error("加载工作流列表失败:",e),this.workflowListError=e.message||"加载工作流列表失败",this.showError("加载工作流列表失败: "+e.message)}finally{this.loadingWorkflows=!1}},async refreshWorkflowList(){await this.loadWorkflowList(),this.workflowListError||this.showSuccess("工作流列表已刷新")},async retryLoadWorkflows(){await this.loadWorkflowList()},clearWorkflowError(){this.workflowListError=null},updateWorkflowStats(){const e={total:this.workflowList.length,running:0,completed:0,failed:0,pending:0};this.workflowList.forEach(t=>{e.hasOwnProperty(t.status)&&e[t.status]++}),this.workflowStats=e},viewWorkflow(e){this.setActiveTab("workflow"),this.loadWorkflowData(e.dag_id)},async viewWorkflowStatus(e){try{this.startSSEMonitoring(e.dag_id),this.showStatusMonitor=!0}catch(t){console.error("Failed to get workflow status:",t),this.showError("Failed to get workflow status: "+t.message)}},async viewWorkflowResults(e){try{const t=this.identifyFinalOutputNode();if(t){const s=await fetch(We.RESULT,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dag_id:e.dag_id,tenant_id:this.getTenantId(),node_id:t.id})});if(!s.ok)throw new Error(`HTTP ${s.status}: ${s.statusText}`);const o=await s.json();this.workflowResults={dag_id:e.dag_id,final_output:o,node_id:t.id},await this.processFinalOutput(this.workflowResults)}else this.showWarning("Final output node not found");this.monitoringWorkflowId=e.dag_id,this.showResultsViewer=!0}catch(t){console.error("Failed to get workflow results:",t),this.showError("Failed to get workflow results: "+t.message)}},identifyFinalOutputNode(){if(!this.workflowNodes||this.workflowNodes.length===0)return null;const e=this.workflowNodes.filter(t=>!this.connections.some(s=>s.from===t.id));return e.length>1?e.reduce((t,s)=>s.id>t.id?s:t):e.length>0?e[0]:null},async processFinalOutput(e){try{if(this.finalOutputNode=this.identifyFinalOutputNode(),!this.finalOutputNode){this.finalOutputData=null;return}const t=this.extractFinalOutputFromResults(e,this.finalOutputNode.id);t?this.finalOutputData=this.formatFinalOutput(t):this.finalOutputData=null}catch(t){console.error("Failed to process final output:",t),this.finalOutputData=null}},extractFinalOutputFromResults(e,t){if(e!=null&&e.results&&e.results[t])return e.results[t].output;if(e!=null&&e.final_output)return e.final_output;if(e!=null&&e.messages&&e.messages.length>0){const s=e.messages.filter(o=>o.type==="output");if(s.length>0)return s[s.length-1].content}return null},extractActualContent(e){if(!e||typeof e!="object")return e;const t=["audio_url","image_url","video_url","file_url","voice","speech","audio","sound","image","picture","photo","video","movie","clip","output","result","data","content","message","text","response","url","link","href","payload","body","value"];for(const s of t)if(e.hasOwnProperty(s)&&e[s]!=null){const o=e[s];if(typeof o=="object"&&!Array.isArray(o)){const n=this.extractActualContent(o);if(n!==o)return n}if(o!==""&&o!==null&&o!==void 0)return o}return e.error||e.message?e.error||e.message:e},formatFinalOutput(e){if(!e)return null;const t=this.detectOutputType(e);return{type:t,content:e,displayContent:this.formatDisplayContent(e,t),timestamp:new Date().toISOString()}},detectOutputType(e){if(typeof e=="string")try{const t=JSON.parse(e),s=this.extractActualContent(t);return s!==t?this.detectOutputType(s):"json"}catch{return this.detectMediaType(e)}if(typeof e=="object"){const t=this.extractActualContent(e);return t!==e?this.detectOutputType(t):"json"}return"text"},detectMediaType(e){if(typeof e!="string")return"text";if(e.startsWith("data:image/"))return"image";if(e.startsWith("data:audio/"))return"audio";if(e.startsWith("data:video/"))return"video";if(e.startsWith("blob:")){if(this.finalOutputNode){const o=this.finalOutputNode.service||this.finalOutputNode.type;if(o==="STT")return"text";if(o==="TTS")return"audio";if(o==="pic2text")return"text";if(o==="text2pic")return"image"}return"audio"}const s=(o=>{try{const a=new URL(o).pathname.match(/\.([^.]+)$/);return a?a[1].toLowerCase():null}catch{const i=o.match(/\.([^.?#]+)/);return i?i[1].toLowerCase():null}})(e);if(s&&["jpg","jpeg","png","gif","bmp","webp","svg","tiff","ico"].includes(s))return"image";if(s&&["mp3","wav","ogg","m4a","aac","flac","wma","opus","webm","3gp","amr"].includes(s))return"audio";if(s&&["mp4","webm","avi","mov","mkv","wmv","flv","f4v","3gp","ogv"].includes(s))return"video";if(e.includes("/tts/")||e.includes("/synthesize/")||e.includes("/speech/"))return"audio";if(e.includes("/images/")||e.includes("/generate/")||e.includes("/img/"))return"image";if(this.finalOutputNode){const o=this.finalOutputNode.service||this.finalOutputNode.type;if(o==="TTS"&&this.looksLikeAudioData(e))return"audio";if(o==="text2pic"&&this.looksLikeImageData(e))return"image"}return this.looksLikeAudioData(e)?"audio":this.looksLikeImageData(e)?"image":"text"},looksLikeAudioData(e){return e.startsWith("data:audio/")||e.startsWith("blob:")||e.includes("audio")||e.includes("tts")||e.includes("synthesize")||e.includes("speech")||e.includes("voice")||/\.(mp3|wav|ogg|m4a|aac|flac|wma|opus|webm|3gp|amr)(\?|$)/i.test(e)},looksLikeImageData(e){return e.startsWith("data:image/")||e.includes("image")||e.includes("photo")||e.includes("picture")||e.includes("generate")||/\.(jpg|jpeg|png|gif|bmp|webp|svg|tiff|ico)(\?|$)/i.test(e)},formatDisplayContent(e,t){switch(t){case"json":if(typeof e=="string")try{const s=JSON.parse(e),o=this.extractActualContent(s);if(o!==s){const n=this.detectOutputType(o);return this.formatDisplayContent(o,n)}return JSON.stringify(s,null,2)}catch{return e}return typeof e=="object"?JSON.stringify(e,null,2):String(e);case"text":return String(e);case"image":case"audio":case"video":return e;default:return String(e)}},async onWorkflowCompleted(e){try{const t=this.workflowList.find(s=>s.dag_id===e)||{dag_id:e};await this.viewWorkflowResults(t),this.focusOnFinalOutput=!0,setTimeout(()=>{this.focusOnFinalOutput=!1},3e3)}catch(t){console.error("Failed to auto-show results:",t)}},async copyFinalOutput(){if(!this.finalOutputData){this.showError("No content available for copying");return}try{let e="";this.finalOutputData.type==="text"?e=this.finalOutputData.displayContent:this.finalOutputData.type==="json"?e=this.finalOutputData.displayContent:["image","audio","video"].includes(this.finalOutputData.type)?e=this.finalOutputData.content:e=String(this.finalOutputData.content),await navigator.clipboard.writeText(e);const t={text:"Text content copied to clipboard",json:"JSON data copied to clipboard",image:"Image URL copied to clipboard",audio:"Audio URL copied to clipboard",video:"Video URL copied to clipboard"};this.showSuccess(t[this.finalOutputData.type]||"Content copied to clipboard")}catch(e){console.error("Copy failed:",e),this.showError("Copy failed: "+e.message)}},downloadFinalOutput(){var e,t;if(!this.finalOutputData){this.showError("No content available for download");return}try{const{type:s,content:o,displayContent:n}=this.finalOutputData,i=new Date().toISOString().replace(/[:.]/g,"-"),l=`${((e=this.finalOutputNode)==null?void 0:e.service)||((t=this.finalOutputNode)==null?void 0:t.type)||"output"}_output_${this.monitoringWorkflowId}_${i}`;if(s==="image"){const c=this.detectImageFormat(o);this.downloadMediaFile(o,`${l}.${c}`,`image/${c}`)}else if(s==="audio"){const c=this.detectAudioFormat(o);this.downloadMediaFile(o,`${l}.${c}`,`audio/${c}`)}else if(s==="video"){const c=this.detectVideoFormat(o);this.downloadMediaFile(o,`${l}.${c}`,`video/${c}`)}else if(s==="json")this.downloadTextFile(n,`${l}.json`,"application/json");else{const c=this.detectTextFormat(n);this.downloadTextFile(n,`${l}.${c}`,this.getTextMimeType(c))}this.showSuccess("Download started successfully")}catch(s){console.error("Download failed:",s),this.showError("Download failed: "+s.message)}},detectImageFormat(e){if(e.startsWith("data:image/")){const s=e.match(/data:image\/([^;]+)/);if(s)return s[1]}const t=e.match(/\.([^.?#]+)(\?|#|$)/);if(t){const s=t[1].toLowerCase();if(["jpg","jpeg","png","gif","webp","svg","bmp"].includes(s))return s==="jpg"?"jpeg":s}return"png"},detectAudioFormat(e){if(e.startsWith("data:audio/")){const s=e.match(/data:audio\/([^;]+)/);if(s)return s[1]}const t=e.match(/\.([^.?#]+)(\?|#|$)/);if(t){const s=t[1].toLowerCase();if(["mp3","wav","ogg","m4a","aac","flac"].includes(s))return s}return"mp3"},detectVideoFormat(e){if(e.startsWith("data:video/")){const s=e.match(/data:video\/([^;]+)/);if(s)return s[1]}const t=e.match(/\.([^.?#]+)(\?|#|$)/);if(t){const s=t[1].toLowerCase();if(["mp4","webm","avi","mov","mkv"].includes(s))return s}return"mp4"},detectTextFormat(e){return/[#*`\[\]]/.test(e)||e.includes("##")||e.includes("**")?"md":e.includes("function")||e.includes("class")||e.includes("import")?"txt":e.includes("<html>")||e.includes("<!DOCTYPE")?"html":"txt"},getTextMimeType(e){return{md:"text/markdown",txt:"text/plain",html:"text/html",json:"application/json"}[e]||"text/plain"},async shareFinalOutput(){var e,t;if(!this.finalOutputData){this.showError("No content available for sharing");return}try{const s=((e=this.finalOutputNode)==null?void 0:e.service)||((t=this.finalOutputNode)==null?void 0:t.type)||"AI",{type:o,content:n,displayContent:i}=this.finalOutputData;let a="";o==="text"?a=`${s} AI Result:
${i.substring(0,200)}${i.length>200?"...":""}`:["image","audio","video"].includes(o)?a=`${s} AI generated ${o}: ${n}`:a=`${s} AI Result:
${i.substring(0,200)}${i.length>200?"...":""}`;const l={title:`${s} AI Workflow Result - ${this.monitoringWorkflowId}`,text:a,url:window.location.href};if(navigator.share&&navigator.canShare&&navigator.canShare(l))await navigator.share(l),this.showSuccess("Content shared successfully");else{const c=`${l.title}

${l.text}

${l.url}`;await navigator.clipboard.writeText(c),this.showSuccess("Share content copied to clipboard")}}catch(s){console.error("Share failed:",s),this.showError("Share failed: "+s.message)}},viewFinalOutputFullscreen(){var n,i;if(!this.finalOutputData){this.showError("No content available for fullscreen view");return}const e=((n=this.finalOutputNode)==null?void 0:n.service)||((i=this.finalOutputNode)==null?void 0:i.type)||"Output",{type:t}=this.finalOutputData,s=document.createElement("div");s.className="fullscreen-output-modal",s.innerHTML=`
        <div class="fullscreen-content">
          <div class="fullscreen-header">
            <h3>🎯 ${e} ${t.charAt(0).toUpperCase()+t.slice(1)} Output - Fullscreen View</h3>
            <div class="fullscreen-controls">
              <button class="fullscreen-btn" onclick="navigator.clipboard.writeText('${this.finalOutputData.content.replace(/'/g,"\\'")}').then(() => alert('Copied to clipboard'))" title="Copy">📋</button>
              <button class="fullscreen-close" onclick="this.parentElement.parentElement.parentElement.remove()" title="Close">×</button>
            </div>
          </div>
          <div class="fullscreen-body">
            ${this.generateOutputHTML(this.finalOutputData)}
          </div>
          <div class="fullscreen-footer">
            <span class="output-info">Type: ${t.toUpperCase()} | Node: ${e} | Workflow: ${this.monitoringWorkflowId}</span>
          </div>
        </div>
      `,document.body.appendChild(s);const o=a=>{a.key==="Escape"?(s.remove(),document.removeEventListener("keydown",o)):a.key==="c"&&(a.ctrlKey||a.metaKey)&&(a.preventDefault(),navigator.clipboard.writeText(this.finalOutputData.content).then(()=>{const l=document.createElement("div");l.className="copy-toast",l.textContent="Copied to clipboard!",l.style.cssText=`
              position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
              background: #4CAF50; color: white; padding: 12px 24px; border-radius: 8px;
              z-index: 10001; opacity: 0; transition: opacity 0.3s ease;
            `,document.body.appendChild(l),setTimeout(()=>l.style.opacity="1",10),setTimeout(()=>{l.style.opacity="0",setTimeout(()=>document.body.removeChild(l),300)},2e3)}))};document.addEventListener("keydown",o),s.addEventListener("click",a=>{a.target===s&&(s.remove(),document.removeEventListener("keydown",o))})},generateOutputHTML(e){const{type:t,content:s,displayContent:o}=e;switch(t){case"image":return`<img src="${s}" alt="输出图片" style="max-width: 100%; height: auto;" />`;case"audio":return`<audio controls style="width: 100%;"><source src="${s}" type="audio/mpeg"></audio>`;case"video":return`<video controls style="max-width: 100%; height: auto;"><source src="${s}" type="video/mp4"></video>`;case"json":return`<pre style="background: #1a1a1a; color: #e0e0e0; padding: 20px; border-radius: 8px; overflow: auto; font-family: 'Consolas', monospace; font-size: 14px; line-height: 1.5;">${o}</pre>`;case"text":return`<div class="fullscreen-markdown-container">${this.renderMarkdown(o)}</div>`;default:return`<pre style="background: #1a1a1a; color: #e0e0e0; padding: 20px; border-radius: 8px; overflow: auto; font-family: 'Consolas', monospace; font-size: 14px; line-height: 1.5; white-space: pre-wrap;">${o}</pre>`}},downloadFile(e,t,s){const o=document.createElement("a");o.href=e,o.download=t,o.target="_blank",document.body.appendChild(o),o.click(),document.body.removeChild(o)},async downloadMediaFile(e,t,s){try{if(e.startsWith("data:"))this.downloadFile(e,t,s);else{const n=await(await fetch(e)).blob(),i=URL.createObjectURL(n);this.downloadFile(i,t,s),URL.revokeObjectURL(i)}}catch(o){console.error("媒体文件下载失败:",o),this.downloadFile(e,t,s)}},downloadTextFile(e,t,s){const o=new Blob([e],{type:s}),n=URL.createObjectURL(o);this.downloadFile(n,t,s),URL.revokeObjectURL(n)},calculateExecutionSummary(){if(!this.workflowResults||!this.currentWorkflowStatus)return{totalTime:0,successfulNodes:0,totalNodes:0,status:"unknown"};const e=this.workflowNodes.length,t=this.currentWorkflowStatus.nodes?this.currentWorkflowStatus.nodes.filter(n=>n.status==="completed").length:0,s=this.currentWorkflowStatus.duration||0,o=this.currentWorkflowStatus.status||"unknown";return{totalTime:s,successfulNodes:t,totalNodes:e,status:o}},async cloneWorkflow(e){try{this.setActiveTab("workflow"),await this.loadWorkflowData(e.dag_id),this.currentWorkflow.name=`${this.currentWorkflow.name}_副本`,this.showSuccess(`工作流 "${e.name||e.dag_id}" 已复制到设计台，您可以修改后重新部署`)}catch(t){console.error("复制工作流失败:",t),this.showError(`复制工作流失败: ${t.message}`)}},async deleteWorkflow(e){if(confirm(`确定要删除工作流 "${e.name||e.dag_id}" 吗？此操作不可撤销。`))try{const t=this.workflowList.findIndex(s=>s.dag_id===e.dag_id);t!==-1&&(this.workflowList.splice(t,1),this.updateWorkflowStats()),this.showSuccess("工作流已删除")}catch(t){console.error("删除工作流失败:",t),this.showError("删除工作流失败: "+t.message)}},async loadWorkflowData(e){var t,s,o;try{console.log("Starting to load workflow data:",e);const n=await fetch(We.LIST(this.getTenantId()));if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);const i=await n.json(),l=(Array.isArray(i)?i:i.dags||[]).find(c=>c.dag_id===e);if(!l)throw new Error(`Workflow with DAG ID ${e} not found`);console.log("Found target workflow:",l),this.clearCanvas(),this.currentWorkflow={name:l.name||((t=l.workflow_metadata)==null?void 0:t.name)||"已加载工作流",description:l.description||((s=l.workflow_metadata)==null?void 0:s.description)||"",version:l.version||((o=l.workflow_metadata)==null?void 0:o.version)||"1.0.0"},l.nodes&&(this.workflowNodes=[],Object.keys(l.nodes).forEach(c=>{var T;const d=l.nodes[c],u=d.service||d.type||"LLM",p=this.getNodeTemplate(u),v=((T=l.nodes_positions)==null?void 0:T[c])||d.position||{x:100,y:100},y={...p,id:c,type:u,title:d.title||p.title||c,description:d.description||p.description||"",service:d.service||p.service,prompt:d.prompt||p.prompt,x:v.x||100,y:v.y||100,width:v.width||200,height:v.height||120,status:d.status||"ready",enabled:d.enabled!==!1,...d.service==="LLM"&&{model:d.model||p.model,temperature:d.temperature!==void 0?d.temperature:p.temperature,max_tokens:d.max_tokens||p.max_tokens,top_p:d.top_p||1,frequency_penalty:d.frequency_penalty||0,presence_penalty:d.presence_penalty||0,stop:d.stop||"",user:d.user||"",stream:d.stream||!1,logit_bias:d.logit_bias||{}},...d.service==="STT"&&{language:d.language||p.language,model:d.model||p.model,response_format:d.response_format||"text",temperature:d.temperature!==void 0?d.temperature:0,timestamp_granularities:d.timestamp_granularities||["word"]},...d.service==="TTS"&&{voice:d.voice||p.voice,response_format:d.response_format||"mp3",speed:d.speed!==void 0?d.speed:p.speed,model:d.model||"tts-1"},...d.service==="pic2text"&&{language:d.language||p.language,format:d.format||p.format,max_tokens:d.max_tokens||300,detail:d.detail||"auto",quality:d.quality||"auto"},...d.service==="text2pic"&&{model:d.model||"dall-e-3",size:d.size||p.size,style:d.style||p.style,quality:d.quality||"standard",n:d.n||1,user:d.user||"",response_format:d.response_format||"url"}};p.inputs&&p.inputs.length>0&&(y.inputs=p.inputs.map(I=>({...I,value:I.type==="text"?"":null,fileData:null,fileName:null,fileSize:null,fileType:null}))),this.workflowNodes.push(y)})),l.edges&&(this.connections=l.edges.map(c=>{var d,u,p;return{id:c.id||`${c.from}-${c.to}`,from:c.from,to:c.to,prompt:c.prompt||"",type:c.type||"default",label:c.label||"",enabled:c.enabled!==!1,color:((d=c.style)==null?void 0:d.color)||"#333",width:((u=c.style)==null?void 0:u.width)||2,dashArray:((p=c.style)==null?void 0:p.dashArray)||"",data_mapping:c.data_mapping||{},created_at:c.created_at||new Date().toISOString()}})),l.canvas_settings&&(this.canvasScale=l.canvas_settings.zoom||1,this.canvasOffsetX=l.canvas_settings.pan_x||0,this.canvasOffsetY=l.canvas_settings.pan_y||0),this.saveToHistory(),this.selectedNode=null,this.selectedConnection=null,console.log("Workflow loading completed:",{nodes:this.workflowNodes.length,connections:this.connections.length,workflow:this.currentWorkflow}),this.showSuccess(`Workflow "${this.currentWorkflow.name}" loaded successfully! Ready for editing and redeployment.`)}catch(n){console.error("Failed to load workflow data:",n),this.showError(`Failed to load workflow data: ${n.message}`)}},startSSEMonitoring(e){this.stopSSEMonitoring(),this.monitoringWorkflowId=e,this.sseReconnectAttempts=0,this.sseConnectionStatus="connecting",console.log(`开始SSE监控工作流 ${e}`),this.createSSEConnection(e)},createSSEConnection(e){try{this.eventSource=new EventSource(We.STATUS(e)),this.eventSource.onopen=()=>{console.log("SSE连接已建立"),this.sseConnectionStatus="connected",this.sseReconnectAttempts=0,this.resetHeartbeatTimeout()},this.eventSource.onmessage=t=>{console.log("SSE消息:",t.data),this.handleSSEMessage(t.data),this.resetHeartbeatTimeout()},this.eventSource.onerror=t=>{console.error("SSE连接错误:",t),this.sseConnectionStatus="error",this.eventSource.readyState===EventSource.CLOSED&&this.handleSSEReconnect(e)}}catch(t){console.error("创建SSE连接失败:",t),this.sseConnectionStatus="error",this.handleSSEReconnect(e)}},handleSSEMessage(e){try{if(e.trim()==="ping"||e.trim()==="")return;let t,s=null;if(e.includes("running")){const n=e.match(/running\s+(.+)/);t="running",s=n?n[1].trim():null}else t=e.trim();console.log("解析的状态:",{status:t,nodeId:s,originalData:e});const o={dag_id:this.monitoringWorkflowId,status:t,current_node_id:s,timestamp:new Date().toISOString()};this.updateWorkflowStatus(o),(t==="completed"||t==="failed")&&(console.log("工作流执行完成，关闭SSE连接"),this.stopSSEMonitoring(),t==="completed"&&setTimeout(()=>{this.onWorkflowCompleted(this.monitoringWorkflowId)},1e3))}catch(t){console.error("Failed to handle SSE message:",t,"data:",e)}},handleSSEReconnect(e){if(this.sseReconnectAttempts>=this.maxReconnectAttempts){console.warn("达到最大重连次数，停止监控"),this.stopSSEMonitoring(),this.showError("连接失败次数过多，已停止监控");return}this.sseReconnectAttempts++,console.log(`SSE重连尝试 ${this.sseReconnectAttempts}/${this.maxReconnectAttempts}`),setTimeout(()=>{this.monitoringWorkflowId===e&&this.createSSEConnection(e)},this.reconnectDelay*this.sseReconnectAttempts)},resetHeartbeatTimeout(){this.sseHeartbeatTimeout&&clearTimeout(this.sseHeartbeatTimeout),this.sseHeartbeatTimeout=setTimeout(()=>{console.warn("SSE心跳超时，可能连接有问题"),this.eventSource&&this.eventSource.readyState===EventSource.OPEN&&this.eventSource.close()},4e4)},updateWorkflowStatus(e){if(this.currentWorkflowStatus=e,this.workflowStatus=e.status||"Running",e.current_node_id&&e.status==="running"){const t=this.workflowNodes.find(s=>s.id===e.current_node_id);t&&(t.status="running"),this.workflowNodes.forEach(s=>{s.id!==e.current_node_id&&s.status==="running"&&(s.status="completed")})}e.status==="completed"?this.workflowNodes.forEach(t=>{t.status==="running"&&(t.status="completed")}):e.status==="failed"&&this.workflowNodes.forEach(t=>{t.status==="running"&&(t.status="failed")}),e.nodes&&Array.isArray(e.nodes)&&e.nodes.forEach(t=>{const s=this.workflowNodes.find(o=>o.id===t.node_id);s&&(s.status=t.status)}),this.updateStatusDisplay(e)},stopSSEMonitoring(){this.eventSource&&(this.eventSource.close(),this.eventSource=null),this.sseHeartbeatTimeout&&(clearTimeout(this.sseHeartbeatTimeout),this.sseHeartbeatTimeout=null),this.sseConnectionStatus="stopped",console.log("SSE监控已停止")},getConnectionStatusText(e){return{stopped:"未连接",connecting:"连接中...",connected:"已连接",error:"连接错误"}[e]||"未知状态"},updateStatusDisplay(e){const t=this.workflowList.find(s=>s.dag_id===e.dag_id);if(t&&(t.status=e.status,this.updateWorkflowStats()),e.node_id&&e.node_status){const s=this.workflowNodes.find(o=>o.id===e.node_id);s&&(s.status=e.node_status)}if(e.current_node_id&&e.status==="running"){const s=this.workflowNodes.find(o=>o.id===e.current_node_id);s&&(s.status="running")}},getStatusLabel(e){return{running:this.$t("aiAgent.workflow.statusValues.running","Running"),completed:this.$t("aiAgent.workflow.statusValues.completed","Completed"),failed:this.$t("aiAgent.workflow.statusValues.failed","Failed"),pending:this.$t("aiAgent.workflow.statusValues.pending","Pending")}[e]||e},formatDate(e){return e?new Date(e).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-"},deselectConnection(){this.selectedConnection=null},closeStatusMonitor(){this.showStatusMonitor=!1,this.stopSSEMonitoring(),this.monitoringWorkflowId=null,this.currentWorkflowStatus=null},async refreshWorkflowStatus(){if(this.monitoringWorkflowId)try{this.stopSSEMonitoring(),await new Promise(e=>setTimeout(e,500)),this.startSSEMonitoring(this.monitoringWorkflowId),this.showSuccess("正在重新连接获取最新状态...")}catch(e){console.error("刷新工作流状态失败:",e),this.showError(this.$t("aiAgent.workflow.workflowManagement.refreshStatusFailed","刷新状态失败")+": "+e.message)}},closeResultsViewer(){this.showResultsViewer=!1,this.workflowResults=null,this.selectedMessageType="all",this.finalOutputData=null,this.finalOutputNode=null,this.focusOnFinalOutput=!1,this.logsExpanded=!1},toggleLogsExpanded(){this.logsExpanded=!this.logsExpanded},handleImageError(e){console.error("Image loading failed:",e),e.target.alt="Image loading failed",e.target.style.display="none";const t=document.createElement("div");t.className="media-error",t.innerHTML=`
        <div class="error-icon">🖼️</div>
        <div class="error-text">Image loading failed</div>
      `,e.target.parentNode.appendChild(t)},handleAudioError(e){console.error("Audio loading failed:",e);const t=document.createElement("div");t.className="media-error",t.innerHTML=`
        <div class="error-icon">🎵</div>
        <div class="error-text">Audio loading failed</div>
      `,e.target.parentNode.appendChild(t)},handleVideoError(e){console.error("Video loading failed:",e);const t=document.createElement("div");t.className="media-error",t.innerHTML=`
        <div class="error-icon">📹</div>
        <div class="error-text">Video loading failed</div>
      `,e.target.parentNode.appendChild(t)},async refreshWorkflowResults(){if(this.monitoringWorkflowId)try{const e=this.identifyFinalOutputNode();if(e){const t=await fetch(We.RESULT,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dag_id:this.monitoringWorkflowId,tenant_id:this.getTenantId(),node_id:e.id})});if(!t.ok)throw new Error(`HTTP ${t.status}: ${t.statusText}`);this.workflowResults=await t.json()}else{this.showWarning("Final output node not found");return}this.showSuccess("Results refreshed successfully")}catch(e){console.error("Failed to refresh workflow results:",e),this.showError("Failed to refresh results: "+e.message)}},async exportResults(){if(this.workflowResults)try{const e={workflow_id:this.monitoringWorkflowId,export_time:new Date().toISOString(),summary:{total_messages:this.workflowResults.total_messages,successful_messages:this.workflowResults.successful_messages,failed_messages:this.workflowResults.failed_messages},messages:this.filteredMessages},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),s=URL.createObjectURL(t),o=document.createElement("a");o.href=s,o.download=`workflow_results_${this.monitoringWorkflowId}_${Date.now()}.json`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(s),this.showSuccess("Results exported successfully")}catch(e){console.error("Failed to export results:",e),this.showError("Export failed: "+e.message)}},formatTime(e){return e?new Date(e).toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit",second:"2-digit"}):"-"},formatDuration(e){if(!e)return"-";const t=Math.floor(e%60),s=Math.floor(e/60%60),o=Math.floor(e/3600);return o>0?`${o}h ${s}m ${t}s`:s>0?`${s}m ${t}s`:`${t}s`},formatMessageContent(e){return typeof e=="string"?e:JSON.stringify(e,null,2)},async retryLoadWorkflows(){await this.loadWorkflowList()},clearWorkflowError(){this.workflowListError=null},showErrorToast(e,t=5e3){const s=document.createElement("div");s.className="error-message-toast",s.innerHTML=`
        <div class="toast-header">
          <span>⚠️</span>
          <span>错误提示</span>
        </div>
        <div class="toast-body">${e}</div>
        <button class="toast-close" onclick="this.parentElement.remove()">×</button>
      `,document.body.appendChild(s),setTimeout(()=>{s.parentElement&&s.parentElement.removeChild(s)},t)},handleNetworkError(e){console.error("网络错误:",e),this.showNetworkErrorBanner(),this.logError("network",e)},showNetworkErrorBanner(){if(document.querySelector(".network-error-banner"))return;const e=document.createElement("div");e.className="network-error-banner",e.innerHTML=`
        <div class="banner-content">
          <span>⚠️ 网络连接异常</span>
          <button class="retry-btn" onclick="location.reload()">重试</button>
        </div>
      `,document.body.appendChild(e),setTimeout(()=>{e.parentElement&&e.parentElement.removeChild(e)},5e3)},logError(e,t){const s={type:e,message:t.message||t,timestamp:new Date().toISOString(),stack:t.stack,userAgent:navigator.userAgent,url:window.location.href};try{const o=JSON.parse(localStorage.getItem("ai-agent-error-logs")||"[]");o.push(s),o.length>100&&o.splice(0,o.length-100),localStorage.setItem("ai-agent-error-logs",JSON.stringify(o))}catch(o){console.error("无法保存错误日志:",o)}},getErrorLogs(){try{return JSON.parse(localStorage.getItem("ai-agent-error-logs")||"[]")}catch(e){return console.error("无法读取错误日志:",e),[]}},clearErrorLogs(){localStorage.removeItem("ai-agent-error-logs")},getPortTypeLabel(e){return{text:this.$t("aiAgent.workflow.portTypes.text","文本"),image:this.$t("aiAgent.workflow.portTypes.image","图片"),audio:this.$t("aiAgent.workflow.portTypes.audio","音频"),file:this.$t("aiAgent.workflow.portTypes.file","文件"),json:this.$t("aiAgent.workflow.portTypes.json","JSON")}[e]||e},async handleImageUpload(e,t,s){const o=e.target.files[0];if(o){if(!o.type.startsWith("image/")){this.showError("只支持图片格式的文件");return}if(o.size>10*1024*1024){this.showError("图片大小不能超过10MB");return}try{const n=await this.convertImageToJPEG(o);t.value=n.previewUrl,t.fileName=this.changeFileExtensionToJPEG(o.name),t.fileSize=n.size,t.fileType="image/jpeg",t.fileData=n.base64,this.showSuccess(`图片已转换为JPEG格式 (${Math.round(n.size/1024)}KB)`)}catch(n){console.error("图片上传失败:",n),this.showError("图片上传失败: "+n.message)}}},async handleAudioUpload(e,t,s){const o=e.target.files[0];if(o){if(!o.type.startsWith("audio/")){this.showError("只支持音频格式的文件");return}if(o.size>50*1024*1024){this.showError("音频大小不能超过50MB");return}try{const n=new FileReader;n.onload=i=>{t.value=i.target.result,t.fileName=o.name,t.fileSize=o.size,t.fileType="audio/wav",t.fileData=i.target.result,console.log(`音频文件已处理: ${o.name} (${Math.round(o.size/1024)}KB) -> audio/wav`)},n.readAsDataURL(o)}catch(n){console.error("音频上传失败:",n),this.showError("音频上传失败: "+n.message)}}},async handleFileUpload(e,t,s){const o=e.target.files[0];if(o){if(o.size>100*1024*1024){this.showError("文件大小不能超过100MB");return}try{const n=new FileReader;n.onload=i=>{t.value=o.name,t.fileName=o.name,t.fileSize=o.size,t.fileType=o.type,t.fileData=i.target.result},n.readAsDataURL(o)}catch(n){console.error("文件上传失败:",n),this.showError("文件上传失败: "+n.message)}}},async convertImageToJPEG(e,t=.8){return new Promise((s,o)=>{const n=new Image,i=document.createElement("canvas"),a=i.getContext("2d");n.onload=()=>{try{i.width=n.width,i.height=n.height;const c=2048,d=2048;let{width:u,height:p}=n;if(u>c||p>d){const h=Math.min(c/u,d/p);u=Math.round(u*h),p=Math.round(p*h),i.width=u,i.height=p}a.fillStyle="#FFFFFF",a.fillRect(0,0,i.width,i.height),a.drawImage(n,0,0,i.width,i.height);const v=i.toDataURL("image/jpeg",t),y=v.split(",")[1],I=atob(y).length;s({base64:v,previewUrl:v,size:I,width:i.width,height:i.height,compressed:I<e.size,compressionRatio:e.size>0?1-I/e.size:0})}catch(c){o(new Error("图片转换失败: "+c.message))}},n.onerror=()=>{o(new Error("Image loading failed, please check file format"))};const l=new FileReader;l.onload=c=>{n.src=c.target.result},l.onerror=()=>{o(new Error("文件读取失败"))},l.readAsDataURL(e)})},changeFileExtensionToJPEG(e){return e?e.replace(/\.[^/.]+$/,"")+".jpg":"image.jpg"},removeImage(e,t){e.value=null,e.fileName=null,e.fileSize=null,e.fileType=null,e.fileData=null},removeAudio(e,t){e.value=null,e.fileName=null,e.fileSize=null,e.fileType=null,e.fileData=null},removeFile(e,t){e.value=null,e.fileName=null,e.fileSize=null,e.fileType=null,e.fileData=null}}},Fh={class:"ai-agent-builder"},Uh={class:"tooltip-title"},Hh={class:"tooltip-description"},Bh={class:"top-toolbar"},zh={class:"toolbar-left"},Vh={class:"agent-info"},jh={class:"agent-meta"},qh={class:"agent-name"},Gh={class:"agent-status"},Jh={class:"toolbar-right"},Yh={class:"main-container"},Kh={class:"sidebar"},Xh={class:"nav-tabs"},Zh=["data-tab","onClick","onMouseenter","title"],Qh={class:"tab-icon"},ep={key:0,class:"tab-indicator"},tp={class:"editor-area"},sp={key:0,class:"editor-content workflow-container"},op={class:"workflow-main"},np={class:"workflow-sidebar"},ip={class:"node-palette"},rp={class:"palette-categories"},ap={class:"palette-category"},lp={class:"category-title"},cp={class:"palette-nodes"},dp={class:"node-info"},up={class:"node-desc"},fp={class:"node-info"},hp={class:"node-desc"},pp={class:"node-info"},gp={class:"node-desc"},mp={class:"node-info"},vp={class:"node-desc"},wp={class:"node-info"},yp={class:"node-desc"},bp={class:"workflow-canvas-container"},kp={class:"canvas-header"},_p={class:"canvas-toolbar"},Sp={class:"zoom-controls-compact"},Ap=["disabled"],Cp={class:"zoom-mini-text"},Tp=["disabled"],$p={class:"canvas-actions-compact"},xp={key:0,class:"connection-layer"},Ip=["data-connection-id","d","onMouseover","onMouseleave","onClick"],Ep=["d"],Pp=["data-node-id","onClick","onMousedown"],Np={class:"node-header"},Lp={class:"node-icon"},Rp={class:"node-title"},Mp={class:"node-actions"},Op=["onClick"],Dp=["onClick"],Wp={class:"node-body"},Fp={class:"node-description"},Up=["title"],Hp={key:1,class:"node-inputs"},Bp={class:"port-label"},zp={class:"port-name"},Vp={class:"port-type"},jp={key:2,class:"node-outputs"},qp={class:"port-label"},Gp={class:"port-name"},Jp={class:"port-type"},Yp={key:3,class:"node-status"},Kp={class:"status-text"},Xp={class:"connection-points"},Zp=["onMousedown","onMouseup","onMouseover","onMouseleave","title"],Qp={class:"connection-point-label"},eg=["onMousedown","onMouseup","onMouseover","onMouseleave","title"],tg={class:"connection-point-label"},sg={class:"canvas-footer"},og={class:"canvas-stats"},ng={class:"canvas-controls"},ig={key:0,class:"workflow-config-panel"},rg={class:"config-header"},ag={class:"config-content"},lg={class:"config-section"},cg=["placeholder"],dg={class:"config-section"},ug=["placeholder"],fg={class:"prompt-tips"},hg={key:0,class:"config-section"},pg={class:"input-data-config"},gg={class:"input-data-header"},mg={class:"input-data-name"},vg={class:"input-data-type"},wg={key:0,class:"input-control"},yg=["onUpdate:modelValue","placeholder"],bg={key:1,class:"input-control"},kg={class:"image-upload-area"},_g=["onChange","id"],Sg=["for"],Ag={key:0,class:"upload-placeholder"},Cg={class:"upload-text"},Tg={class:"upload-hint"},$g={key:1,class:"uploaded-image"},xg=["src"],Ig={class:"image-overlay"},Eg=["onClick"],Pg={key:2,class:"input-control"},Ng={class:"audio-upload-area"},Lg=["onChange","id"],Rg=["for"],Mg={key:0,class:"upload-placeholder"},Og={class:"upload-text"},Dg={class:"upload-hint"},Wg={key:1,class:"uploaded-audio"},Fg={class:"audio-info"},Ug={class:"audio-name"},Hg=["onClick"],Bg=["src"],zg={key:3,class:"input-control"},Vg={class:"file-upload-area"},jg=["onChange","id"],qg=["for"],Gg={key:0,class:"upload-placeholder"},Jg={class:"upload-text"},Yg={key:1,class:"uploaded-file"},Kg={class:"file-info"},Xg={class:"file-name"},Zg=["onClick"],Qg={key:4,class:"input-control"},em=["onUpdate:modelValue","placeholder"],tm={class:"json-hint"},sm={class:"config-actions"},om={key:1,class:"workflow-config-panel"},nm={class:"config-header"},im={class:"config-content"},rm={class:"connection-info"},am={class:"connection-nodes"},lm={class:"connection-node"},cm={class:"connection-node"},dm={class:"config-section"},um=["placeholder"],fm={class:"prompt-tips"},hm={class:"config-section"},pm=["placeholder"],gm={class:"config-actions"},mm={key:1,class:"editor-content workflows-management"},vm={class:"section-header"},wm={class:"workflow-stats"},ym={class:"stat-card"},bm={class:"stat-info"},km={class:"stat-number"},_m={class:"stat-label"},Sm={class:"stat-card"},Am={class:"stat-info"},Cm={class:"stat-number"},Tm={class:"stat-label"},$m={class:"stat-card"},xm={class:"stat-info"},Im={class:"stat-number"},Em={class:"stat-label"},Pm={class:"stat-card"},Nm={class:"stat-info"},Lm={class:"stat-number"},Rm={class:"stat-label"},Mm={class:"workflow-filters"},Om={class:"search-box"},Dm=["placeholder"],Wm={class:"filter-buttons"},Fm=["onClick"],Um={key:0,class:"workflow-list"},Hm={key:0,class:"empty-state"},Bm={key:1,class:"workflow-grid"},zm=["onClick"],Vm={class:"workflow-header"},jm={class:"workflow-title"},qm={key:0,class:"workflow-description"},Gm={key:1,class:"workflow-tags"},Jm={class:"workflow-meta"},Ym={class:"meta-item"},Km={class:"meta-label"},Xm={class:"meta-value"},Zm={class:"meta-item"},Qm={class:"meta-label"},ev={class:"meta-value"},tv={key:0,class:"meta-item"},sv={class:"meta-label"},ov={class:"meta-value"},nv={key:1,class:"meta-item"},iv={class:"meta-label"},rv={class:"meta-value"},av=["onClick","title"],lv=["onClick","title"],cv=["onClick","title"],dv=["onClick","title"],uv={key:1,class:"loading-state"},fv={key:2,class:"error-state"},hv={class:"error-actions"},pv={class:"modal-header"},gv={class:"connection-status"},mv={class:"indicator-text"},vv={class:"modal-body"},wv={class:"workflow-info-section"},yv={class:"info-grid"},bv={class:"info-item"},kv={class:"info-value"},_v={class:"info-item"},Sv={class:"info-item"},Av={class:"info-value"},Cv={class:"info-item"},Tv={class:"info-value"},$v={class:"nodes-status-section"},xv={class:"nodes-list"},Iv={key:0,class:"empty-nodes"},Ev={class:"node-status-header"},Pv={class:"node-info"},Nv={class:"node-icon"},Lv={class:"node-details"},Rv={class:"node-name"},Mv={class:"node-type"},Ov={class:"node-progress"},Dv={class:"progress-bar"},Wv={class:"progress-text"},Fv={key:0,class:"node-error"},Uv={class:"error-message"},Hv={class:"execution-logs-section"},Bv={class:"logs-container"},zv={key:0,class:"empty-logs"},Vv={key:1,class:"logs-list"},jv={class:"log-time"},qv={class:"log-level"},Gv={class:"log-message"},Jv={class:"modal-footer"},Yv={class:"modal-header"},Kv={class:"modal-body"},Xv={class:"final-output-header"},Zv={key:0,class:"output-node-info"},Qv={class:"node-type"},ew={class:"node-name"},tw={class:"final-output-content"},sw={key:0,class:"no-final-output"},ow={key:0,class:"output-text"},nw=["innerHTML"],iw={key:1,class:"output-json"},rw={key:2,class:"output-image"},aw=["src"],lw={key:3,class:"output-audio"},cw=["src"],dw={key:4,class:"output-video"},uw=["src"],fw={key:5,class:"output-other"},hw={key:2,class:"output-actions"},pw=["title"],gw={class:"execution-summary-section"},mw={class:"summary-stats"},vw={class:"summary-item"},ww={class:"summary-value"},yw={class:"summary-item"},bw={class:"summary-value"},kw={class:"summary-item"},_w={class:"summary-item"},Sw={class:"summary-value"},Aw={class:"node-execution-details"},Cw={class:"execution-flow"},Tw={key:0,class:"empty-nodes"},$w={key:1,class:"nodes-flow"},xw={class:"node-info"},Iw={class:"node-icon"},Ew={class:"node-details"},Pw={class:"node-name"},Nw={class:"node-type"},Lw={class:"node-time"},Rw={key:0,class:"flow-arrow"},Mw={class:"full-logs-section"},Ow={key:0,class:"logs-content"},Dw={class:"messages-filters"},Ww={class:"messages-list"},Fw={key:0,class:"empty-messages"},Uw={key:1,class:"messages-grid"},Hw={class:"message-header"},Bw={class:"message-type"},zw={class:"message-time"},Vw={class:"message-content"},jw={key:0},qw={key:1,class:"message-error"},Gw={class:"error-text"},Jw={class:"modal-footer"};function Yw(e,t,s,o,n,i){var a,l,c,d,u,p,v,y,T,I;return b(),k("div",Fh,[r("div",{ref:"globalTooltip",class:J(["global-tooltip",{active:n.tooltipData.visible}]),style:Mt({left:n.tooltipData.x+"px",top:n.tooltipData.y+"px"})},[r("div",Uh,f(n.tooltipData.title),1),r("div",Hh,f(n.tooltipData.description),1)],6),r("div",Bh,[r("div",zh,[r("div",Vh,[r("div",jh,[r("h2",qh,f(n.currentWorkflow.name||e.$t("aiAgent.workflow.statusValues.unnamed","Unnamed Workflow")),1),r("p",Gh,f(i.getWorkflowStatus()),1)])])]),r("div",Jh,[r("button",{class:"btn btn-success",onClick:t[0]||(t[0]=(...h)=>i.deployWorkflow&&i.deployWorkflow(...h))},[t[57]||(t[57]=r("i",{class:"icon"},"🚀",-1)),Y(" "+f(e.$t("aiAgent.workflow.toolbar.deployWorkflow","Deploy Workflow")),1)])])]),r("div",Yh,[r("div",Kh,[r("div",Xh,[(b(!0),k(q,null,K(n.navigationTabs,h=>(b(),k("div",{key:h.id,class:J(["nav-tab",{active:n.activeTab===h.id}]),"data-tab":h.id,onClick:A=>i.setActiveTab(h.id),onMouseenter:A=>i.showTooltip(h.id,A),onMouseleave:t[1]||(t[1]=(...A)=>i.hideTooltip&&i.hideTooltip(...A)),title:i.getTabTitle(h.id)+" - "+i.getTabDescription(h.id)},[r("div",Qh,f(h.icon),1),h.hasContent?(b(),k("div",ep)):B("",!0)],42,Zh))),128))])]),r("div",tp,[n.activeTab==="workflow"?(b(),k("div",sp,[r("div",op,[r("div",np,[r("div",ip,[r("h4",null,f(e.$t("aiAgent.workflow.nodeTypes","节点类型")),1),r("div",rp,[r("div",ap,[r("h5",lp,f(e.$t("aiAgent.workflow.aiServices","AI服务")),1),r("div",cp,[r("div",{class:"palette-node",draggable:"true",onDragstart:t[2]||(t[2]=h=>i.onDragStart(h,"LLM"))},[t[59]||(t[59]=r("div",{class:"node-icon"},"🧠",-1)),r("div",dp,[t[58]||(t[58]=r("span",{class:"node-name"},"LLM",-1)),r("span",up,f(e.$t("aiAgent.workflow.llmDesc","大语言模型")),1)])],32),r("div",{class:"palette-node",draggable:"true",onDragstart:t[3]||(t[3]=h=>i.onDragStart(h,"STT"))},[t[61]||(t[61]=r("div",{class:"node-icon"},"🎤",-1)),r("div",fp,[t[60]||(t[60]=r("span",{class:"node-name"},"STT",-1)),r("span",hp,f(e.$t("aiAgent.workflow.sttDesc","语音转文字")),1)])],32),r("div",{class:"palette-node",draggable:"true",onDragstart:t[4]||(t[4]=h=>i.onDragStart(h,"TTS"))},[t[63]||(t[63]=r("div",{class:"node-icon"},"🔊",-1)),r("div",pp,[t[62]||(t[62]=r("span",{class:"node-name"},"TTS",-1)),r("span",gp,f(e.$t("aiAgent.workflow.ttsDesc","文字转语音")),1)])],32),r("div",{class:"palette-node",draggable:"true",onDragstart:t[5]||(t[5]=h=>i.onDragStart(h,"pic2text"))},[t[65]||(t[65]=r("div",{class:"node-icon"},"🖼️",-1)),r("div",mp,[t[64]||(t[64]=r("span",{class:"node-name"},"Pic2Text",-1)),r("span",vp,f(e.$t("aiAgent.workflow.pic2textDesc","图片转文字")),1)])],32),r("div",{class:"palette-node",draggable:"true",onDragstart:t[6]||(t[6]=h=>i.onDragStart(h,"text2pic"))},[t[67]||(t[67]=r("div",{class:"node-icon"},"🎨",-1)),r("div",wp,[t[66]||(t[66]=r("span",{class:"node-name"},"Text2Pic",-1)),r("span",yp,f(e.$t("aiAgent.workflow.text2picDesc","文字转图片")),1)])],32)])])])])]),r("div",bp,[r("div",kp,[r("h3",null,f(n.currentWorkflow.name||e.$t("aiAgent.workflow.toolbar.dagWorkflow","DAG Workflow"))+" - "+f(e.$t("aiAgent.workflow.toolbar.designer","Designer")),1),r("div",_p,[r("div",Sp,[r("button",{class:"zoom-btn-mini",onClick:t[7]||(t[7]=(...h)=>i.zoomOut&&i.zoomOut(...h)),disabled:n.canvasScale<=.25,title:"缩小"},t[68]||(t[68]=[r("svg",{width:"10",height:"10",viewBox:"0 0 16 16",fill:"currentColor"},[r("path",{d:"M5 7h6v2H5V7z"})],-1)]),8,Ap),r("div",{class:"zoom-mini-display",onClick:t[8]||(t[8]=(...h)=>i.resetZoom&&i.resetZoom(...h)),title:"点击重置到100%"},[r("span",Cp,f(Math.round(n.canvasScale*100))+"%",1)]),r("button",{class:"zoom-btn-mini",onClick:t[9]||(t[9]=(...h)=>i.zoomIn&&i.zoomIn(...h)),disabled:n.canvasScale>=3,title:"放大"},t[69]||(t[69]=[r("svg",{width:"10",height:"10",viewBox:"0 0 16 16",fill:"currentColor"},[r("path",{d:"M5 7h6v2H5V7z"}),r("path",{d:"M7 5h2v6H7V5z"})],-1)]),8,Tp)]),r("div",$p,[r("button",{class:"action-btn-mini",onClick:t[10]||(t[10]=(...h)=>i.clearCanvas&&i.clearCanvas(...h)),title:"清空"},t[70]||(t[70]=[r("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"currentColor"},[r("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),r("path",{"fill-rule":"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})],-1)]))])])]),r("div",{class:"workflow-canvas",onDrop:t[11]||(t[11]=(...h)=>i.onDrop&&i.onDrop(...h)),onDragover:t[12]||(t[12]=(...h)=>i.onDragOver&&i.onDragOver(...h)),onClick:t[13]||(t[13]=(...h)=>i.deselectNode&&i.deselectNode(...h)),onWheel:t[14]||(t[14]=(...h)=>i.onCanvasWheel&&i.onCanvasWheel(...h)),onMousedown:t[15]||(t[15]=(...h)=>i.onCanvasMouseDown&&i.onCanvasMouseDown(...h)),onMousemove:t[16]||(t[16]=(...h)=>i.onCanvasMouseMove&&i.onCanvasMouseMove(...h)),onMouseup:t[17]||(t[17]=(...h)=>i.onCanvasMouseUp&&i.onCanvasMouseUp(...h)),onMouseleave:t[18]||(t[18]=(...h)=>i.onCanvasMouseUp&&i.onCanvasMouseUp(...h)),ref:"canvas"},[r("div",{class:"canvas-grid",style:Mt({transform:`scale(${n.canvasScale}) translate(${n.canvasOffsetX}px, ${n.canvasOffsetY}px)`,transformOrigin:"0 0"})},null,4),r("div",{class:"canvas-viewport",style:Mt({transform:`scale(${n.canvasScale}) translate(${n.canvasOffsetX}px, ${n.canvasOffsetY}px)`,transformOrigin:"0 0"}),ref:"viewport"},[n.connections.length>0||n.tempConnection?(b(),k("svg",xp,[t[71]||(t[71]=bt('<defs data-v-c67c863a><marker id="arrowhead" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto" data-v-c67c863a><polygon points="0 0, 8 3, 0 6" fill="#6366f1" data-v-c67c863a></polygon></marker><marker id="arrowhead-hover" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto" data-v-c67c863a><polygon points="0 0, 8 3, 0 6" fill="#8b5cf6" data-v-c67c863a></polygon></marker><marker id="arrowhead-temp" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto" data-v-c67c863a><polygon points="0 0, 8 3, 0 6" fill="#ffd93d" data-v-c67c863a></polygon></marker></defs>',1)),(b(!0),k(q,null,K(n.connections,h=>(b(),k("path",{key:h.id,"data-connection-id":h.id,d:i.getConnectionPath(h),stroke:"#6366f1","stroke-width":"2",fill:"none","marker-end":"url(#arrowhead)",class:J(["connection-line",{selected:n.selectedConnection&&n.selectedConnection.id===h.id}]),onMouseover:A=>i.setConnectionHover(h,!0),onMouseleave:A=>i.setConnectionHover(h,!1),onClick:A=>i.selectConnection(h)},null,42,Ip))),128)),n.tempConnection?(b(),k("path",{key:0,d:i.getTempConnectionPath(),stroke:"#ffd93d","stroke-width":"3",fill:"none","stroke-dasharray":"8,4","marker-end":"url(#arrowhead-temp)",class:"temp-connection-line"},null,8,Ep)):B("",!0)])):B("",!0),(b(!0),k(q,null,K(n.workflowNodes,h=>(b(),k("div",{key:h.id,"data-node-id":h.id,class:J(["workflow-node",[`node-${h.type}`,{"node-selected":n.selectedNode===h.id}]]),style:Mt({left:h.x+"px",top:h.y+"px"}),onClick:A=>i.selectNode(h),onMousedown:A=>i.startNodeDrag(h,A),draggable:"false"},[r("div",Np,[r("div",Lp,f(i.getNodeIcon(h.type)),1),r("span",Rp,f(h.title),1),r("div",Mp,[r("button",{class:"node-btn",onClick:Se(A=>i.editNode(h),["stop"])},"⚙️",8,Op),r("button",{class:"node-btn",onClick:Se(A=>i.deleteNode(h),["stop"])},"🗑️",8,Dp)])]),r("div",Wp,[r("div",Fp,f(h.description),1),h.prompt?(b(),k("div",{key:0,class:"node-prompt",title:h.prompt},f(h.prompt.length>50?h.prompt.substring(0,50)+"...":h.prompt),9,Up)):B("",!0),h.inputs&&h.inputs.length>0?(b(),k("div",Hp,[r("div",Bp,f(e.$t("aiAgent.workflow.inputPortsLabel","🔽 输入:")),1),(b(!0),k(q,null,K(h.inputs,A=>(b(),k("div",{key:A.name,class:"input-port"},[r("span",zp,f(A.name),1),r("span",Vp,f(A.type),1)]))),128))])):B("",!0),h.outputs&&h.outputs.length>0?(b(),k("div",jp,[r("div",qp,f(e.$t("aiAgent.workflow.outputPortsLabel","🔼 输出:")),1),(b(!0),k(q,null,K(h.outputs,A=>(b(),k("div",{key:A.name,class:"output-port"},[r("span",Gp,f(A.name),1),r("span",Jp,f(A.type),1)]))),128))])):B("",!0),h.status?(b(),k("div",Yp,[r("span",{class:J(["status-indicator",h.status.toLowerCase()])},null,2),r("span",Kp,f(h.status),1)])):B("",!0)]),r("div",Xp,[r("div",{class:"connection-point input-point",onMousedown:Se(A=>i.startConnectionDrag(h,"input",A),["stop"]),onMouseup:Se(A=>i.endConnectionDrag(h,"input",A),["stop"]),onMouseover:A=>i.highlightConnectionPoint(h,"input"),onMouseleave:A=>i.clearConnectionPointHighlight(h,"input"),title:e.$t("aiAgent.workflow.shortcuts.dragToConnect","按住拖拽创建连接")},[r("span",Qp,f(e.$t("aiAgent.workflow.inputPort","IN")),1)],40,Zp),r("div",{class:"connection-point output-point",onMousedown:Se(A=>i.startConnectionDrag(h,"output",A),["stop"]),onMouseup:Se(A=>i.endConnectionDrag(h,"output",A),["stop"]),onMouseover:A=>i.highlightConnectionPoint(h,"output"),onMouseleave:A=>i.clearConnectionPointHighlight(h,"output"),title:e.$t("aiAgent.workflow.shortcuts.dragToConnect","按住拖拽创建连接")},[r("span",tg,f(e.$t("aiAgent.workflow.outputPort","OUT")),1)],40,eg)])],46,Pp))),128))],4)],544),r("div",sg,[r("div",og,[r("span",null,f(e.$t("aiAgent.workflow.nodes","节点"))+": "+f(n.workflowNodes.length),1),r("span",null,f(e.$t("aiAgent.workflow.connections","连接"))+": "+f(n.connections.length),1),r("span",null,f(e.$t("aiAgent.workflow.status","状态"))+": "+f(i.getTranslatedStatus(n.workflowStatus)),1)]),r("div",ng,[r("button",{class:"btn btn-outline btn-sm",onClick:t[19]||(t[19]=(...h)=>i.clearCanvas&&i.clearCanvas(...h))},[t[72]||(t[72]=r("i",{class:"icon"},"🗑️",-1)),Y(" "+f(e.$t("aiAgent.workflow.clearCanvas","清空画布")),1)]),r("button",{class:"btn btn-primary btn-sm",onClick:t[20]||(t[20]=(...h)=>i.deployWorkflow&&i.deployWorkflow(...h))},[t[73]||(t[73]=r("i",{class:"icon"},"🚀",-1)),Y(" "+f(e.$t("aiAgent.workflow.deployWorkflow","部署")),1)])])])]),n.selectedNode?(b(),k("div",ig,[r("div",rg,[r("h4",null,f(e.$t("aiAgent.workflow.nodeConfiguration","节点配置")),1),r("button",{class:"btn-close",onClick:t[21]||(t[21]=(...h)=>i.deselectNode&&i.deselectNode(...h))},"×")]),r("div",ag,[r("div",lg,[r("label",null,f(e.$t("aiAgent.workflow.nodeName","节点名称")),1),ue(r("input",{"onUpdate:modelValue":t[22]||(t[22]=h=>i.selectedNodeData.title=h),type:"text",class:"form-input",placeholder:e.$t("aiAgent.workflow.nodeNamePlaceholder","输入节点名称")},null,8,cg),[[ye,i.selectedNodeData.title]])]),r("div",dg,[r("label",null,f(e.$t("aiAgent.workflow.nodePrompt","节点提示词")),1),ue(r("textarea",{"onUpdate:modelValue":t[23]||(t[23]=h=>i.selectedNodeData.prompt=h),class:"form-textarea prompt-textarea",rows:"6",placeholder:e.$t("aiAgent.workflow.nodePromptPlaceholder","输入节点的提示词...")},null,8,ug),[[ye,i.selectedNodeData.prompt]]),r("div",fg,[r("small",null,f(e.$t("aiAgent.workflow.promptTipsSimple","提示词用于指导AI如何处理输入数据")),1)])]),i.selectedNodeData.inputs&&i.selectedNodeData.inputs.length>0?(b(),k("div",hg,[r("h5",null,f(e.$t("aiAgent.workflow.inputData","输入数据配置")),1),r("div",pg,[(b(!0),k(q,null,K(i.selectedNodeData.inputs,(h,A)=>(b(),k("div",{key:`input-data-${A}`,class:"input-data-item"},[r("div",gg,[r("span",mg,f(h.name),1),r("span",vg,f(i.getPortTypeLabel(h.type)),1)]),h.type==="text"?(b(),k("div",wg,[r("label",null,f(e.$t("aiAgent.workflow.inputContent","输入内容")),1),ue(r("textarea",{"onUpdate:modelValue":L=>h.value=L,class:"form-textarea",rows:"3",placeholder:e.$t("aiAgent.workflow.inputTextPlaceholder","输入文本内容...")},null,8,yg),[[ye,h.value]])])):h.type==="image"?(b(),k("div",bg,[r("label",null,f(e.$t("aiAgent.workflow.uploadImage","上传图片")),1),r("div",kg,[r("input",{type:"file",accept:"image/*",onChange:L=>i.handleImageUpload(L,h,A),class:"file-input",id:`image-upload-${A}`},null,40,_g),r("label",{for:`image-upload-${A}`,class:"upload-label"},[h.value?(b(),k("div",$g,[r("img",{src:h.value,alt:"Uploaded",class:"preview-image"},null,8,xg),r("div",Ig,[r("button",{onClick:L=>i.removeImage(h,A),class:"remove-image-btn"},"×",8,Eg)])])):(b(),k("div",Ag,[t[74]||(t[74]=r("div",{class:"upload-icon"},"📷",-1)),r("div",Cg,f(e.$t("aiAgent.workflow.clickToUpload","点击上传图片")),1),r("div",Tg,f(e.$t("aiAgent.workflow.supportedFormats","支持 JPG、PNG、GIF、BMP、WEBP、SVG 格式，自动转换为JPEG")),1)]))],8,Sg)])])):h.type==="audio"?(b(),k("div",Pg,[r("label",null,f(e.$t("aiAgent.workflow.uploadAudio","上传音频")),1),r("div",Ng,[r("input",{type:"file",accept:"audio/*",onChange:L=>i.handleAudioUpload(L,h,A),class:"file-input",id:`audio-upload-${A}`},null,40,Lg),r("label",{for:`audio-upload-${A}`,class:"upload-label"},[h.value?(b(),k("div",Wg,[r("div",Fg,[r("span",Ug,f(h.fileName||"Audio File"),1),r("button",{onClick:L=>i.removeAudio(h,A),class:"remove-audio-btn"},"×",8,Hg)]),r("audio",{src:h.value,controls:"",class:"audio-preview"},null,8,Bg)])):(b(),k("div",Mg,[t[75]||(t[75]=r("div",{class:"upload-icon"},"🎵",-1)),r("div",Og,f(e.$t("aiAgent.workflow.clickToUploadAudio","点击上传音频")),1),r("div",Dg,f(e.$t("aiAgent.workflow.audioFormats","支持 MP3、WAV、OGG 格式，自动设置为WAV格式")),1)]))],8,Rg)])])):h.type==="file"?(b(),k("div",zg,[r("label",null,f(e.$t("aiAgent.workflow.uploadFile","上传文件")),1),r("div",Vg,[r("input",{type:"file",onChange:L=>i.handleFileUpload(L,h,A),class:"file-input",id:`file-upload-${A}`},null,40,jg),r("label",{for:`file-upload-${A}`,class:"upload-label"},[h.value?(b(),k("div",Yg,[r("div",Kg,[r("span",Xg,f(h.fileName||"文件"),1),r("button",{onClick:L=>i.removeFile(h,A),class:"remove-file-btn"},"×",8,Zg)])])):(b(),k("div",Gg,[t[76]||(t[76]=r("div",{class:"upload-icon"},"📄",-1)),r("div",Jg,f(e.$t("aiAgent.workflow.clickToUploadFile","点击上传文件")),1)]))],8,qg)])])):h.type==="json"?(b(),k("div",Qg,[r("label",null,f(e.$t("aiAgent.workflow.inputJson","JSON数据")),1),ue(r("textarea",{"onUpdate:modelValue":L=>h.value=L,class:"form-textarea json-textarea",rows:"4",placeholder:e.$t("aiAgent.workflow.jsonPlaceholder","输入JSON格式数据...")},null,8,em),[[ye,h.value]]),r("small",tm,f(e.$t("aiAgent.workflow.jsonHint","请输入有效的JSON格式数据")),1)])):B("",!0)]))),128))])])):B("",!0),r("div",sm,[r("button",{class:"btn btn-save",onClick:t[24]||(t[24]=(...h)=>i.saveNodeConfig&&i.saveNodeConfig(...h))},[t[77]||(t[77]=r("span",{class:"btn-icon"},"💾",-1)),Y(" "+f(e.$t("aiAgent.workflow.saveConfig","Save")),1)]),r("button",{class:"btn btn-validate",onClick:t[25]||(t[25]=(...h)=>i.validateNodeConfig&&i.validateNodeConfig(...h))},[t[78]||(t[78]=r("span",{class:"btn-icon"},"✅",-1)),Y(" "+f(e.$t("aiAgent.workflow.validateConfig","Validate")),1)])])])])):B("",!0),n.selectedConnection?(b(),k("div",om,[r("div",nm,[r("h4",null,f(e.$t("aiAgent.workflow.connectionConfiguration","连接配置")),1),r("button",{class:"btn-close",onClick:t[26]||(t[26]=(...h)=>i.deselectConnection&&i.deselectConnection(...h))},"×")]),r("div",im,[r("div",rm,[r("div",am,[r("div",lm,[r("strong",null,f(e.$t("aiAgent.workflow.fromNode","源节点"))+":",1),r("span",null,f(((a=i.getNodeById(n.selectedConnection.from))==null?void 0:a.title)||e.$t("aiAgent.workflow.unknown","Unknown")),1)]),t[79]||(t[79]=r("div",{class:"connection-arrow"},"→",-1)),r("div",cm,[r("strong",null,f(e.$t("aiAgent.workflow.toNode","目标节点"))+":",1),r("span",null,f(((l=i.getNodeById(n.selectedConnection.to))==null?void 0:l.title)||e.$t("aiAgent.workflow.unknown","Unknown")),1)])])]),r("div",dm,[r("label",null,f(e.$t("aiAgent.workflow.connectionPrompt","连接提示词")),1),ue(r("textarea",{"onUpdate:modelValue":t[27]||(t[27]=h=>n.selectedConnection.prompt=h),class:"form-textarea prompt-textarea",rows:"8",placeholder:e.$t("aiAgent.workflow.connectionPromptPlaceholder","输入连接提示词，用于在数据传递时进行转换或处理...")},null,8,um),[[ye,n.selectedConnection.prompt]]),r("div",fm,[r("small",null,f(e.$t("aiAgent.workflow.connectionPromptTips","连接提示词用于定义数据在节点间传递时的转换逻辑，可以包含变量如 {input_data}")),1)])]),r("div",hm,[r("label",null,f(e.$t("aiAgent.workflow.connectionDescription","连接描述")),1),ue(r("textarea",{"onUpdate:modelValue":t[28]||(t[28]=h=>n.selectedConnection.description=h),class:"form-textarea",rows:"3",placeholder:e.$t("aiAgent.workflow.connectionDescPlaceholder","描述此连接的作用...")},null,8,pm),[[ye,n.selectedConnection.description]])]),r("div",gm,[r("button",{class:"btn btn-save",onClick:t[29]||(t[29]=(...h)=>i.saveConnectionConfig&&i.saveConnectionConfig(...h))},[t[80]||(t[80]=r("span",{class:"btn-icon"},"💾",-1)),Y(" "+f(e.$t("aiAgent.workflow.saveConnection","保存连接")),1)]),r("button",{class:"btn btn-danger",onClick:t[30]||(t[30]=(...h)=>i.deleteConnection&&i.deleteConnection(...h))},[t[81]||(t[81]=r("span",{class:"btn-icon"},"🗑️",-1)),Y(" "+f(e.$t("aiAgent.workflow.deleteConnection","删除连接")),1)])])])])):B("",!0)])])):n.activeTab==="workflows"?(b(),k("div",mm,[r("div",vm,[r("h3",null,"📋 "+f(e.$t("aiAgent.workflow.workflowManagement.title","工作流管理")),1),r("p",null,f(e.$t("aiAgent.workflow.workflowManagement.description","查看和管理您的所有DAG工作流")),1)]),r("div",wm,[r("div",ym,[t[82]||(t[82]=r("div",{class:"stat-icon"},"📊",-1)),r("div",bm,[r("div",km,f(n.workflowStats.total),1),r("div",_m,f(e.$t("aiAgent.workflow.workflowManagement.totalWorkflows","总工作流")),1)])]),r("div",Sm,[t[83]||(t[83]=r("div",{class:"stat-icon"},"▶️",-1)),r("div",Am,[r("div",Cm,f(n.workflowStats.running),1),r("div",Tm,f(e.$t("aiAgent.workflow.workflowManagement.runningWorkflows","运行中")),1)])]),r("div",$m,[t[84]||(t[84]=r("div",{class:"stat-icon"},"✅",-1)),r("div",xm,[r("div",Im,f(n.workflowStats.completed),1),r("div",Em,f(e.$t("aiAgent.workflow.workflowManagement.completedWorkflows","已完成")),1)])]),r("div",Pm,[t[85]||(t[85]=r("div",{class:"stat-icon"},"❌",-1)),r("div",Nm,[r("div",Lm,f(n.workflowStats.failed),1),r("div",Rm,f(e.$t("aiAgent.workflow.workflowManagement.failedWorkflows","失败")),1)])])]),r("div",Mm,[r("div",Om,[ue(r("input",{"onUpdate:modelValue":t[31]||(t[31]=h=>n.workflowSearch=h),type:"text",placeholder:e.$t("aiAgent.workflow.workflowManagement.searchPlaceholder","搜索工作流..."),class:"search-input"},null,8,Dm),[[ye,n.workflowSearch]]),t[86]||(t[86]=r("button",{class:"search-btn"},"🔍",-1))]),r("div",Wm,[(b(!0),k(q,null,K(n.workflowStatusOptions,h=>(b(),k("button",{key:h.value,class:J(["filter-btn",{active:n.selectedWorkflowStatus===h.value}]),onClick:A=>n.selectedWorkflowStatus=h.value},f(h.label),11,Fm))),128))]),r("button",{class:"btn btn-primary",onClick:t[32]||(t[32]=(...h)=>i.refreshWorkflowList&&i.refreshWorkflowList(...h))},[t[87]||(t[87]=r("i",{class:"icon"},"🔄",-1)),Y(" "+f(e.$t("aiAgent.workflow.workflowManagement.refresh","刷新")),1)])]),n.loadingWorkflows?B("",!0):(b(),k("div",Um,[i.filteredWorkflows.length===0?(b(),k("div",Hm,[t[88]||(t[88]=r("div",{class:"empty-icon"},"📝",-1)),r("h4",null,f(e.$t("aiAgent.workflow.workflowManagement.noWorkflows","暂无工作流")),1),r("p",null,f(e.$t("aiAgent.workflow.workflowManagement.noWorkflowsDescription","您还没有创建任何工作流，现在就开始设计您的第一个工作流吧！")),1),r("button",{class:"btn btn-primary",onClick:t[33]||(t[33]=h=>i.setActiveTab("workflow"))},f(e.$t("aiAgent.workflow.workflowManagement.createWorkflow","创建工作流")),1)])):(b(),k("div",Bm,[(b(!0),k(q,null,K(i.filteredWorkflows,h=>(b(),k("div",{key:h.dag_id,class:"workflow-card",onClick:A=>i.viewWorkflow(h)},[r("div",Vm,[r("div",jm,f(h.name||h.dag_id),1),r("div",{class:J(["workflow-status",h.status])},f(i.getStatusLabel(h.status)),3)]),h.description?(b(),k("div",qm,f(h.description),1)):B("",!0),h.tags&&h.tags.length>0?(b(),k("div",Gm,[(b(!0),k(q,null,K(h.tags,A=>(b(),k("span",{key:A,class:"tag"},f(A),1))),128))])):B("",!0),r("div",Jm,[r("div",Ym,[r("span",Km,f(e.$t("aiAgent.workflow.workflowManagement.nodeCount","节点数:")),1),r("span",Xm,f(h.node_count||0),1)]),r("div",Zm,[r("span",Qm,f(e.$t("aiAgent.workflow.workflowManagement.createdAt","创建时间:")),1),r("span",ev,f(i.formatDate(h.created_at)),1)]),h.execution_time?(b(),k("div",tv,[r("span",sv,f(e.$t("aiAgent.workflow.workflowManagement.executionTime","执行时长:")),1),r("span",ov,f(h.execution_time),1)])):B("",!0),h.success_rate?(b(),k("div",nv,[r("span",iv,f(e.$t("aiAgent.workflow.workflowManagement.successRate","成功率:")),1),r("span",rv,f(h.success_rate)+"%",1)])):B("",!0)]),r("div",{class:"workflow-actions",onClick:t[34]||(t[34]=Se(()=>{},["stop"]))},[r("button",{class:"action-btn",onClick:A=>i.viewWorkflowStatus(h),title:e.$t("aiAgent.workflow.workflowManagement.viewStatus","查看状态")}," 📊 ",8,av),r("button",{class:"action-btn",onClick:A=>i.viewWorkflowResults(h),title:e.$t("aiAgent.workflow.workflowManagement.viewResults","查看结果")}," 📋 ",8,lv),r("button",{class:"action-btn",onClick:A=>i.cloneWorkflow(h),title:e.$t("aiAgent.workflow.workflowManagement.clone","复制")}," 📄 ",8,cv),r("button",{class:"action-btn danger",onClick:A=>i.deleteWorkflow(h),title:e.$t("aiAgent.workflow.workflowManagement.deleteWorkflow","删除")}," 🗑️ ",8,dv)])],8,zm))),128))]))])),n.loadingWorkflows?(b(),k("div",uv,[t[89]||(t[89]=r("div",{class:"loading-spinner"},null,-1)),r("p",null,f(e.$t("aiAgent.workflow.workflowManagement.loading","正在加载工作流列表...")),1)])):B("",!0),n.workflowListError?(b(),k("div",fv,[t[90]||(t[90]=r("div",{class:"error-icon"},"⚠️",-1)),r("h4",null,f(e.$t("aiAgent.workflow.workflowManagement.loadError","加载失败")),1),r("p",null,f(n.workflowListError),1),r("div",hv,[r("button",{class:"btn btn-primary",onClick:t[35]||(t[35]=(...h)=>i.retryLoadWorkflows&&i.retryLoadWorkflows(...h))}," 🔄 "+f(e.$t("aiAgent.workflow.workflowManagement.retry","重试")),1),r("button",{class:"btn btn-secondary",onClick:t[36]||(t[36]=(...h)=>i.clearWorkflowError&&i.clearWorkflowError(...h))},f(e.$t("aiAgent.workflow.workflowManagement.close","关闭")),1)])])):B("",!0)])):B("",!0)])]),n.showStatusMonitor?(b(),k("div",{key:0,class:"modal-overlay",onClick:t[41]||(t[41]=(...h)=>i.closeStatusMonitor&&i.closeStatusMonitor(...h))},[r("div",{class:"status-monitor-modal",onClick:t[40]||(t[40]=Se(()=>{},["stop"]))},[r("div",pv,[t[92]||(t[92]=r("h3",null,"📊 Workflow Status Monitor",-1)),r("div",gv,[r("div",{class:J(["connection-indicator",n.sseConnectionStatus])},[t[91]||(t[91]=r("div",{class:"indicator-dot"},null,-1)),r("span",mv,f(i.getConnectionStatusText(n.sseConnectionStatus)),1)],2)]),r("button",{class:"close-btn",onClick:t[37]||(t[37]=(...h)=>i.closeStatusMonitor&&i.closeStatusMonitor(...h))},"×")]),r("div",vv,[r("div",wv,[t[97]||(t[97]=r("h4",null,"Workflow Information",-1)),r("div",yv,[r("div",bv,[t[93]||(t[93]=r("span",{class:"info-label"},"Workflow ID:",-1)),r("span",kv,f(n.monitoringWorkflowId),1)]),r("div",_v,[t[94]||(t[94]=r("span",{class:"info-label"},"Status:",-1)),r("span",{class:J(["info-value status-badge",(c=n.currentWorkflowStatus)==null?void 0:c.status])},f(i.getStatusLabel((d=n.currentWorkflowStatus)==null?void 0:d.status)),3)]),r("div",Sv,[t[95]||(t[95]=r("span",{class:"info-label"},"Start Time:",-1)),r("span",Av,f(i.formatDate((u=n.currentWorkflowStatus)==null?void 0:u.start_time)),1)]),r("div",Cv,[t[96]||(t[96]=r("span",{class:"info-label"},"Duration:",-1)),r("span",Tv,f(i.formatDuration((p=n.currentWorkflowStatus)==null?void 0:p.duration)),1)])])]),r("div",$v,[t[100]||(t[100]=r("h4",null,"Node Status",-1)),r("div",xv,[!((v=n.currentWorkflowStatus)!=null&&v.nodes)||n.currentWorkflowStatus.nodes.length===0?(b(),k("div",Iv,t[98]||(t[98]=[r("div",{class:"empty-icon"},"📄",-1),r("p",null,"No node status information",-1)]))):(b(!0),k(q,{key:1},K(n.currentWorkflowStatus.nodes,h=>(b(),k("div",{key:h.node_id,class:"node-status-item"},[r("div",Ev,[r("div",Pv,[r("div",Nv,f(i.getNodeIcon(h.node_type)),1),r("div",Lv,[r("div",Rv,f(h.node_name||h.node_id),1),r("div",Mv,f(h.node_type),1)])]),r("div",{class:J(["node-status-badge",h.status])},f(i.getStatusLabel(h.status)),3)]),r("div",Ov,[r("div",Dv,[r("div",{class:"progress-fill",style:Mt({width:h.progress+"%"})},null,4)]),r("span",Wv,f(h.progress||0)+"%",1)]),h.error?(b(),k("div",Fv,[t[99]||(t[99]=r("div",{class:"error-icon"},"⚠️",-1)),r("div",Uv,f(h.error),1)])):B("",!0)]))),128))])]),r("div",Hv,[t[102]||(t[102]=r("h4",null,"Execution Logs",-1)),r("div",Bv,[!((y=n.currentWorkflowStatus)!=null&&y.logs)||n.currentWorkflowStatus.logs.length===0?(b(),k("div",zv,t[101]||(t[101]=[r("div",{class:"empty-icon"},"📝",-1),r("p",null,"No execution logs",-1)]))):(b(),k("div",Vv,[(b(!0),k(q,null,K(n.currentWorkflowStatus.logs,h=>(b(),k("div",{key:h.timestamp,class:J(["log-item",h.level])},[r("div",jv,f(i.formatTime(h.timestamp)),1),r("div",qv,f(h.level),1),r("div",Gv,f(h.message),1)],2))),128))]))])])]),r("div",Jv,[r("button",{class:"btn btn-secondary",onClick:t[38]||(t[38]=(...h)=>i.closeStatusMonitor&&i.closeStatusMonitor(...h))},f(e.$t("aiAgent.workflow.workflowManagement.close","关闭")),1),r("button",{class:"btn btn-primary",onClick:t[39]||(t[39]=(...h)=>i.refreshWorkflowStatus&&i.refreshWorkflowStatus(...h))},[t[103]||(t[103]=r("i",{class:"icon"},"🔄",-1)),Y(" "+f(e.$t("aiAgent.workflow.workflowManagement.refreshStatus","刷新状态")),1)])])])])):B("",!0),n.showResultsViewer?(b(),k("div",{key:1,class:"modal-overlay",onClick:t[56]||(t[56]=(...h)=>i.closeResultsViewer&&i.closeResultsViewer(...h))},[r("div",{class:"results-viewer-modal",onClick:t[55]||(t[55]=Se(()=>{},["stop"]))},[r("div",Yv,[r("h3",null,"📋 Workflow Execution Results - "+f(n.currentWorkflow.name||n.monitoringWorkflowId),1),r("button",{class:"close-btn",onClick:t[42]||(t[42]=(...h)=>i.closeResultsViewer&&i.closeResultsViewer(...h))},"×")]),r("div",Kv,[r("div",{class:J(["final-output-section",{focused:n.focusOnFinalOutput}])},[r("div",Xv,[t[104]||(t[104]=r("h4",null,"🎯 Final Output",-1)),n.finalOutputNode?(b(),k("div",Zv,[r("span",Qv,f(n.finalOutputNode.service||n.finalOutputNode.type),1),r("span",ew,f(n.finalOutputNode.name||n.finalOutputNode.id),1)])):B("",!0)]),r("div",tw,[n.finalOutputData?(b(),k("div",{key:1,class:J(["final-output-display",n.finalOutputData.type])},[n.finalOutputData.type==="text"?(b(),k("div",ow,[r("div",{class:"markdown-container",innerHTML:i.renderMarkdown(n.finalOutputData.displayContent)},null,8,nw)])):n.finalOutputData.type==="json"?(b(),k("div",iw,[r("pre",null,f(n.finalOutputData.displayContent),1)])):n.finalOutputData.type==="image"?(b(),k("div",rw,[r("img",{src:n.finalOutputData.content,alt:"Output Image",onError:t[43]||(t[43]=(...h)=>i.handleImageError&&i.handleImageError(...h))},null,40,aw)])):n.finalOutputData.type==="audio"?(b(),k("div",lw,[r("audio",{controls:"",src:n.finalOutputData.content,onError:t[44]||(t[44]=(...h)=>i.handleAudioError&&i.handleAudioError(...h))}," Your browser does not support audio playback ",40,cw)])):n.finalOutputData.type==="video"?(b(),k("div",dw,[r("video",{controls:"",src:n.finalOutputData.content,onError:t[45]||(t[45]=(...h)=>i.handleVideoError&&i.handleVideoError(...h))}," Your browser does not support video playback ",40,uw)])):(b(),k("div",fw,[r("pre",null,f(n.finalOutputData.displayContent),1)]))],2)):(b(),k("div",sw,t[105]||(t[105]=[r("div",{class:"empty-icon"},"🎯",-1),r("p",null,"No final output available",-1),r("small",null,"Workflow may not be complete or has no output nodes",-1)]))),n.finalOutputData?(b(),k("div",hw,[r("button",{class:"action-btn primary",onClick:t[46]||(t[46]=(...h)=>i.copyFinalOutput&&i.copyFinalOutput(...h)),title:"Copy"},t[106]||(t[106]=[r("i",{class:"icon"},"📋",-1),Y(" Copy ")])),r("button",{class:"action-btn secondary",onClick:t[47]||(t[47]=(...h)=>i.downloadFinalOutput&&i.downloadFinalOutput(...h)),title:i.getDownloadButtonText()},[t[107]||(t[107]=r("i",{class:"icon"},"💾",-1)),Y(" "+f(i.getDownloadButtonText()),1)],8,pw),r("button",{class:"action-btn secondary",onClick:t[48]||(t[48]=(...h)=>i.shareFinalOutput&&i.shareFinalOutput(...h)),title:"Share"},t[108]||(t[108]=[r("i",{class:"icon"},"🔗",-1),Y(" Share ")])),r("button",{class:"action-btn secondary",onClick:t[49]||(t[49]=(...h)=>i.viewFinalOutputFullscreen&&i.viewFinalOutputFullscreen(...h)),title:"Fullscreen"},t[109]||(t[109]=[r("i",{class:"icon"},"⛶",-1),Y(" Fullscreen ")]))])):B("",!0)])],2),r("div",gw,[t[114]||(t[114]=r("h4",null,"📊 执行摘要",-1)),r("div",mw,[r("div",vw,[t[110]||(t[110]=r("div",{class:"summary-label"},"总耗时",-1)),r("div",ww,f(i.formatDuration(i.calculateExecutionSummary().totalTime)),1)]),r("div",yw,[t[111]||(t[111]=r("div",{class:"summary-label"},"Successful Nodes",-1)),r("div",bw,f(i.calculateExecutionSummary().successfulNodes)+"/"+f(i.calculateExecutionSummary().totalNodes),1)]),r("div",kw,[t[112]||(t[112]=r("div",{class:"summary-label"},"执行状态",-1)),r("div",{class:J(["summary-value status-badge",i.calculateExecutionSummary().status])},f(i.getStatusLabel(i.calculateExecutionSummary().status)),3)]),r("div",_w,[t[113]||(t[113]=r("div",{class:"summary-label"},"完成时间",-1)),r("div",Sw,f(i.formatDate((T=n.currentWorkflowStatus)==null?void 0:T.end_time)),1)])])]),r("div",Aw,[t[116]||(t[116]=r("h4",null,"🔄 Node Execution Details",-1)),r("div",Cw,[!((I=n.currentWorkflowStatus)!=null&&I.nodes)||n.currentWorkflowStatus.nodes.length===0?(b(),k("div",Tw,t[115]||(t[115]=[r("div",{class:"empty-icon"},"🔄",-1),r("p",null,"No node execution details",-1)]))):(b(),k("div",$w,[(b(!0),k(q,null,K(n.currentWorkflowStatus.nodes,(h,A)=>{var L;return b(),k("div",{key:h.node_id,class:J(["flow-node",{"final-node":h.node_id===((L=n.finalOutputNode)==null?void 0:L.id)}])},[r("div",xw,[r("div",Iw,f(i.getNodeIcon(h.node_type)),1),r("div",Ew,[r("div",Pw,f(h.node_name||h.node_id),1),r("div",Nw,f(h.node_type),1)])]),r("div",{class:J(["node-status-badge",h.status])},f(i.getStatusLabel(h.status)),3),r("div",Lw,f(i.formatTime(h.execution_time)),1),A<n.currentWorkflowStatus.nodes.length-1?(b(),k("div",Rw," ➜ ")):B("",!0)],2)}),128))]))])]),r("div",Mw,[r("div",{class:"logs-header",onClick:t[50]||(t[50]=(...h)=>i.toggleLogsExpanded&&i.toggleLogsExpanded(...h))},[t[117]||(t[117]=r("h4",null,"📋 Complete Logs",-1)),r("button",{class:J(["expand-btn",{expanded:n.logsExpanded}])},f(n.logsExpanded?"Collapse":"Expand"),3)]),n.logsExpanded?(b(),k("div",Ow,[r("div",Dw,[ue(r("select",{"onUpdate:modelValue":t[51]||(t[51]=h=>n.selectedMessageType=h),class:"filter-select"},t[118]||(t[118]=[r("option",{value:"all"},"All Messages",-1),r("option",{value:"input"},"Input Messages",-1),r("option",{value:"output"},"Output Messages",-1),r("option",{value:"error"},"Error Messages",-1)]),512),[[Jc,n.selectedMessageType]]),r("button",{class:"btn btn-sm",onClick:t[52]||(t[52]=(...h)=>i.exportResults&&i.exportResults(...h))},"Export Logs")]),r("div",Ww,[!i.filteredMessages||i.filteredMessages.length===0?(b(),k("div",Fw,t[119]||(t[119]=[r("div",{class:"empty-icon"},"💬",-1),r("p",null,"No message records",-1)]))):(b(),k("div",Uw,[(b(!0),k(q,null,K(i.filteredMessages,h=>(b(),k("div",{key:h.id,class:J(["message-item",h.type])},[r("div",Hw,[r("div",Bw,f(h.type),1),r("div",zw,f(i.formatTime(h.timestamp)),1)]),r("div",Vw,[h.content?(b(),k("pre",jw,f(i.formatMessageContent(h.content)),1)):B("",!0),h.error?(b(),k("div",qw,[t[120]||(t[120]=r("div",{class:"error-icon"},"❌",-1)),r("div",Gw,f(h.error),1)])):B("",!0)])],2))),128))]))])])):B("",!0)])]),r("div",Jw,[r("button",{class:"btn btn-secondary",onClick:t[53]||(t[53]=(...h)=>i.closeResultsViewer&&i.closeResultsViewer(...h))},"Close"),r("button",{class:"btn btn-primary",onClick:t[54]||(t[54]=(...h)=>i.refreshWorkflowResults&&i.refreshWorkflowResults(...h))},"Refresh Results")])])])):B("",!0)])}const Kw=xt(Wh,[["render",Yw],["__scopeId","data-v-c67c863a"]]);const Xw={name:"Community",setup(){const e=je(!1),t=je(""),s=je("all"),o=je([]),n=je("text"),i=je(""),a=je(!0),l=je(!1),c=Wt({total:1248,today:56,tags:234}),d=Wt({content:"",type:"text",media:[],workflowId:null,tags:[]}),u=Wt({show:!1,images:[],currentIndex:0}),p=[{id:"all",label:"全部",icon:"📋"},{id:"text",label:"文字",icon:"📝"},{id:"image",label:"图片",icon:"🖼️"},{id:"video",label:"视频",icon:"🎥"},{id:"workflow",label:"工作流",icon:"🤖"}],v=[{id:"text",label:"文字笔记",icon:"📝"},{id:"image",label:"图片分享",icon:"🖼️"},{id:"video",label:"视频分享",icon:"🎥"},{id:"workflow",label:"AI工作流",icon:"🤖"}],y=je(["AI创作","Labubu","设计灵感","摄影技巧","编程笔记","生活记录","学习心得","工作流程","创意想法","技术分享"]),T=Le(()=>i.value?y.value.filter(w=>w.includes(i.value)&&!d.tags.includes(w)).slice(0,5):[]),I=je([{id:1,type:"text",content:"今天学习了Vue 3的Composition API，感觉比之前的Options API更加灵活，特别是在复杂组件的状态管理方面。分享一些学习心得...",author:{id:1,name:"前端小白",avatar:"/src/assets/images/logo.png"},tags:["Vue3","前端开发","学习笔记"],likes:24,isLiked:!1,shares:5,comments:[{id:1,author:{name:"代码爱好者",avatar:"/src/assets/images/logo.png"},content:"写得很好，我也在学习Vue3",createdAt:new Date(Date.now()-36e5)}],createdAt:new Date(Date.now()-72e5),showComments:!1,newComment:""},{id:2,type:"image",content:"分享一些用AI生成的Labubu创意图片，这些小家伙真的太可爱了！",media:[{url:"/src/assets/images/home1.jpg",alt:"Labubu创意图1"},{url:"/src/assets/images/home2.png",alt:"Labubu创意图2"}],author:{id:2,name:"AI艺术家",avatar:"/src/assets/images/logo.png"},tags:["Labubu","AI创作","可爱"],likes:67,isLiked:!0,shares:12,comments:[],createdAt:new Date(Date.now()-144e5),showComments:!1,newComment:""},{id:3,type:"workflow",content:"分享我创建的AI图像生成工作流，可以快速生成高质量的插画作品",workflow:{id:"workflow_1",name:"智能插画生成器",description:"基于文本描述生成精美插画",icon:"🎨"},author:{id:3,name:"工作流大师",avatar:"/src/assets/images/logo.png"},tags:["AI工作流","插画生成","自动化"],likes:89,isLiked:!1,shares:23,comments:[],createdAt:new Date(Date.now()-216e5),showComments:!1,newComment:""}]),h=je([{id:"workflow_1",name:"智能插画生成器",description:"基于文本描述生成精美插画",icon:"🎨"},{id:"workflow_2",name:"文章摘要生成器",description:"快速生成文章摘要和关键词",icon:"📄"}]),A=Le(()=>{let w=I.value;if(s.value!=="all"&&(w=w.filter(S=>S.type===s.value)),o.value.length>0&&(w=w.filter(S=>S.tags&&S.tags.some(E=>o.value.includes(E)))),t.value.trim()){const S=t.value.toLowerCase();w=w.filter(E=>E.content.toLowerCase().includes(S)||E.author.name.toLowerCase().includes(S)||E.tags&&E.tags.some(P=>P.toLowerCase().includes(S)))}return w}),L=Le(()=>d.content.trim().length>0&&(n.value==="text"||n.value==="workflow"&&d.workflowId||d.media.length>0)),F=Le(()=>"/src/assets/images/logo.png"),W=w=>{s.value=w},X=w=>{const S=o.value.indexOf(w);S>-1?o.value.splice(S,1):o.value.push(w)},ve=w=>{n.value=w,d.type=w,d.media=[],d.workflowId=null},ee=()=>{const w=i.value.trim();w&&!d.tags.includes(w)&&d.tags.length<10&&(d.tags.push(w),i.value="")},Me=w=>{!d.tags.includes(w)&&d.tags.length<10&&d.tags.push(w)},Qe=w=>{const S=d.tags.indexOf(w);S>-1&&d.tags.splice(S,1)},_e=w=>{d.workflowId=w},et=async()=>{if(L.value){e.value=!0;try{const w={content:d.content,type:d.type,media:d.media,workflowId:d.workflowId,tags:d.tags};await new Promise(E=>setTimeout(E,1e3));const S={id:Date.now(),...w,author:{id:"current_user",name:"我",avatar:F.value},likes:0,isLiked:!1,shares:0,comments:[],createdAt:new Date,showComments:!1,newComment:""};I.value.unshift(S),Ce(),l.value=!1,console.log("笔记发布成功")}catch(w){console.error("发布失败:",w)}finally{e.value=!1}}},Ue=()=>{l.value=!1},Ce=()=>{d.content="",d.type="text",d.media=[],d.workflowId=null,d.tags=[],n.value="text",i.value=""},tt=w=>{w.isLiked=!w.isLiked,w.likes+=w.isLiked?1:-1},st=w=>{w.showComments=!w.showComments},we=w=>{if(!w.newComment.trim())return;const S={id:Date.now(),author:{name:"我",avatar:F.value},content:w.newComment,createdAt:new Date};w.comments.push(S),w.newComment=""},te=w=>{console.log("分享笔记:",w.id)},Z=w=>{o.value.includes(w)||o.value.push(w)},He=()=>{},Ke=()=>{},Be=()=>{t.value=""},Te=async()=>{e.value=!0;try{await new Promise(w=>setTimeout(w,1e3))}finally{e.value=!1}},It=(w,S)=>{u.images=w,u.currentIndex=S,u.show=!0},Et=()=>{u.show=!1},Jt=()=>{u.currentIndex>0&&u.currentIndex--},Oe=()=>{u.currentIndex<u.images.length-1&&u.currentIndex++},C=w=>{const E=new Date-w,P=Math.floor(E/6e4),N=Math.floor(E/36e5),x=Math.floor(E/864e5);return P<60?`${P}分钟前`:N<24?`${N}小时前`:x<7?`${x}天前`:w.toLocaleDateString()},D=w=>({text:"📝",image:"🖼️",video:"🎥",workflow:"🤖"})[w]||"📝",R=()=>({text:"分享你的想法、经验或灵感...",image:"为你的图片添加描述...",video:"为你的视频添加说明...",workflow:"介绍你的AI工作流功能和用途..."})[n.value]||"写点什么...",U=()=>n.value==="image"?"image/*":n.value==="video"?"video/*":"*/*",se=()=>n.value==="image"?"点击或拖拽上传图片":n.value==="video"?"点击或拖拽上传视频":"点击或拖拽上传文件",fe=()=>n.value==="image"?"支持 JPG、PNG、GIF 格式，单个文件不超过10MB":n.value==="video"?"支持 MP4、MOV、AVI 格式，单个文件不超过100MB":"请选择合适的文件格式",g=()=>{},m=w=>{},_=w=>{},$=w=>{d.media.splice(w,1)};return Tr(()=>{}),{loading:e,searchQuery:t,activeFilter:s,selectedTags:o,selectedNoteType:n,tagInput:i,hasMore:a,showPublishModal:l,noteStats:c,newNote:d,imageViewer:u,filterOptions:p,noteTypes:v,trendingTags:y,userWorkflows:h,filteredNotes:A,canPublish:L,currentUserAvatar:F,tagSuggestions:T,setActiveFilter:W,toggleTag:X,selectNoteType:ve,addTag:ee,addSuggestedTag:Me,removeTag:Qe,selectWorkflow:_e,publishNote:et,resetForm:Ce,closePublishModal:Ue,toggleLike:tt,toggleComments:st,addComment:we,shareNote:te,searchByTag:Z,handleSearch:He,performSearch:Ke,clearSearch:Be,loadMoreNotes:Te,openImageViewer:It,closeImageViewer:Et,prevImage:Jt,nextImage:Oe,formatTime:C,getNoteTypeIcon:D,getContentPlaceholder:R,getFileAccept:U,getUploadText:se,getUploadHint:fe,triggerFileUpload:g,handleFileDrop:m,handleFileSelect:_,removeMedia:$}}},Zw={class:"community"},Qw={class:"hero-section"},ey={class:"container"},ty={class:"hero-content"},sy={class:"hero-title"},oy={class:"hero-subtitle"},ny={class:"community-stats"},iy={class:"stat-item"},ry={class:"stat-number"},ay={class:"stat-label"},ly={class:"stat-item"},cy={class:"stat-number"},dy={class:"stat-label"},uy={class:"stat-item"},fy={class:"stat-number"},hy={class:"stat-label"},py={class:"search-section"},gy={class:"container"},my={class:"search-container"},vy={class:"search-box"},wy=["placeholder"],yy={class:"filter-tabs"},by=["onClick"],ky={class:"filter-icon"},_y={class:"filter-text"},Sy={class:"trending-tags"},Ay={class:"tags-label"},Cy={class:"tags-list"},Ty=["onClick"],$y={class:"main-content"},xy={class:"container"},Iy={class:"content-layout"},Ey={class:"publish-trigger"},Py={class:"trigger-content"},Ny={class:"trigger-avatar"},Ly=["src"],Ry={class:"trigger-text"},My={class:"notes-section"},Oy={key:0,class:"loading-state"},Dy={key:1,class:"empty-state"},Wy={key:2,class:"notes-grid"},Fy={class:"note-header"},Uy={class:"author-info"},Hy={class:"author-avatar"},By=["src","alt"],zy={class:"author-details"},Vy={class:"author-name"},jy={class:"publish-time"},qy={class:"note-type-badge"},Gy={class:"type-icon"},Jy={class:"note-content"},Yy={class:"note-text"},Ky={key:0,class:"note-media"},Xy={key:0,class:"image-gallery"},Zy=["src","alt","onClick"],Qy=["src"],eb={key:1,class:"workflow-content"},tb={class:"workflow-preview"},sb={class:"workflow-icon"},ob={class:"workflow-info"},nb={class:"try-workflow-btn"},ib={key:0,class:"note-tags"},rb=["onClick"],ab={class:"note-actions"},lb=["onClick"],cb={class:"action-count"},db=["onClick"],ub={class:"action-count"},fb=["onClick"],hb={class:"action-count"},pb={key:1,class:"comments-section"},gb={class:"comment-input"},mb=["onUpdate:modelValue","placeholder","onKeydown"],vb=["onClick"],wb={class:"comments-list"},yb={class:"comment-avatar"},bb=["src","alt"],kb={class:"comment-content"},_b={class:"comment-author"},Sb={class:"comment-text"},Ab={class:"comment-time"},Cb={key:3,class:"load-more"},Tb={class:"modal-header"},$b={class:"modal-body"},xb={class:"note-type-selector"},Ib=["onClick"],Eb={class:"type-icon"},Pb={class:"type-label"},Nb={class:"content-input"},Lb=["placeholder"],Rb={class:"input-counter"},Mb={key:0,class:"media-upload"},Ob=["accept"],Db={key:0,class:"upload-placeholder"},Wb={key:1,class:"media-preview"},Fb=["src","alt"],Ub=["src"],Hb={key:2,class:"file-preview"},Bb={class:"file-name"},zb=["onClick"],Vb={key:1,class:"workflow-selector"},jb={class:"workflow-list"},qb=["onClick"],Gb={class:"workflow-icon"},Jb={class:"workflow-info"},Yb={class:"tags-input"},Kb={class:"tags-container"},Xb={class:"selected-tags"},Zb=["onClick"],Qb=["placeholder"],e1={class:"tags-suggestions"},t1=["onClick"],s1={class:"modal-footer"},o1=["disabled"],n1=["src","alt"];function i1(e,t,s,o,n,i){return b(),k("div",Zw,[r("section",Qw,[r("div",ey,[r("div",ty,[r("h1",sy,f(e.$t("community.heroTitle","创意笔记社区")),1),r("p",oy,f(e.$t("community.heroSubtitle","分享你的创意想法，发现更多灵感")),1),r("div",ny,[r("div",iy,[r("span",ry,f(o.noteStats.total)+"+",1),r("span",ay,f(e.$t("community.totalNotes","总笔记数")),1)]),r("div",ly,[r("span",cy,f(o.noteStats.today)+"+",1),r("span",dy,f(e.$t("community.todayNotes","今日新增")),1)]),r("div",uy,[r("span",fy,f(o.noteStats.tags)+"+",1),r("span",hy,f(e.$t("community.activeTags","活跃标签")),1)])])])])]),r("section",py,[r("div",gy,[r("div",my,[r("div",vy,[t[24]||(t[24]=r("i",{class:"search-icon"},"🔍",-1)),ue(r("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>o.searchQuery=a),type:"text",placeholder:e.$t("community.searchPlaceholder","搜索笔记内容、标签或作者..."),onInput:t[1]||(t[1]=(...a)=>o.handleSearch&&o.handleSearch(...a)),onKeydown:t[2]||(t[2]=js((...a)=>o.performSearch&&o.performSearch(...a),["enter"]))},null,40,wy),[[ye,o.searchQuery]]),o.searchQuery?(b(),k("button",{key:0,class:"clear-search",onClick:t[3]||(t[3]=(...a)=>o.clearSearch&&o.clearSearch(...a))},"✕")):B("",!0)]),r("div",yy,[(b(!0),k(q,null,K(o.filterOptions,a=>(b(),k("button",{key:a.id,class:J(["filter-tab",{active:o.activeFilter===a.id}]),onClick:l=>o.setActiveFilter(a.id)},[r("span",ky,f(a.icon),1),r("span",_y,f(e.$t(`community.filter.${a.id}`,a.label)),1)],10,by))),128))]),r("div",Sy,[r("span",Ay,f(e.$t("community.trendingTags","热门标签"))+":",1),r("div",Cy,[(b(!0),k(q,null,K(o.trendingTags,a=>(b(),k("button",{key:a,class:J(["trending-tag",{active:o.selectedTags.includes(a)}]),onClick:l=>o.toggleTag(a)}," #"+f(a),11,Ty))),128))])])])])]),r("section",$y,[r("div",xy,[r("div",Iy,[r("div",Ey,[r("button",{class:"publish-trigger-btn",onClick:t[4]||(t[4]=a=>o.showPublishModal=!0)},[r("div",Py,[r("div",Ny,[r("img",{src:o.currentUserAvatar,alt:"用户头像"},null,8,Ly)]),r("div",Ry,f(e.$t("community.shareNote","分享你的创意笔记...")),1),t[25]||(t[25]=r("div",{class:"trigger-icon"},"✨",-1))])])]),r("div",My,[o.loading?(b(),k("div",Oy,[t[26]||(t[26]=r("div",{class:"loading-spinner"},null,-1)),r("p",null,f(e.$t("community.loading","加载中...")),1)])):o.filteredNotes.length===0?(b(),k("div",Dy,[t[27]||(t[27]=r("div",{class:"empty-icon"},"📝",-1)),r("h3",null,f(e.$t("community.noNotes","暂无笔记")),1),r("p",null,f(e.$t("community.noNotesDesc","快来发布第一篇笔记吧！")),1)])):(b(),k("div",Wy,[(b(!0),k(q,null,K(o.filteredNotes,a=>(b(),k("div",{key:a.id,class:J(["note-card",[`note-${a.type}`,{"has-media":a.media&&a.media.length>0}]])},[r("div",Fy,[r("div",Uy,[r("div",Hy,[r("img",{src:a.author.avatar,alt:a.author.name},null,8,By)]),r("div",zy,[r("h4",Vy,f(a.author.name),1),r("span",jy,f(o.formatTime(a.createdAt)),1)])]),r("div",qy,[r("span",Gy,f(o.getNoteTypeIcon(a.type)),1)])]),r("div",Jy,[r("p",Yy,f(a.content),1),a.media&&a.media.length>0?(b(),k("div",Ky,[a.type==="image"?(b(),k("div",Xy,[(b(!0),k(q,null,K(a.media,(l,c)=>(b(),k("img",{key:c,src:l.url,alt:l.alt,onClick:d=>o.openImageViewer(a.media,c)},null,8,Zy))),128))])):a.type==="video"?(b(),k("video",{key:1,src:a.media[0].url,controls:""},null,8,Qy)):B("",!0)])):B("",!0),a.type==="workflow"&&a.workflow?(b(),k("div",eb,[r("div",tb,[r("div",sb,f(a.workflow.icon||"🤖"),1),r("div",ob,[r("h5",null,f(a.workflow.name),1),r("p",null,f(a.workflow.description),1)]),r("button",nb,f(e.$t("community.tryWorkflow","试用")),1)])])):B("",!0)]),a.tags&&a.tags.length>0?(b(),k("div",ib,[(b(!0),k(q,null,K(a.tags,l=>(b(),k("span",{key:l,class:"note-tag",onClick:c=>o.searchByTag(l)}," #"+f(l),9,rb))),128))])):B("",!0),r("div",ab,[r("button",{class:J(["action-btn like-btn",{liked:a.isLiked}]),onClick:l=>o.toggleLike(a)},[t[28]||(t[28]=r("span",{class:"action-icon"},"❤️",-1)),r("span",cb,f(a.likes),1)],10,lb),r("button",{class:"action-btn comment-btn",onClick:l=>o.toggleComments(a)},[t[29]||(t[29]=r("span",{class:"action-icon"},"💬",-1)),r("span",ub,f(a.comments.length),1)],8,db),r("button",{class:"action-btn share-btn",onClick:l=>o.shareNote(a)},[t[30]||(t[30]=r("span",{class:"action-icon"},"🔄",-1)),r("span",hb,f(a.shares||0),1)],8,fb)]),a.showComments?(b(),k("div",pb,[r("div",gb,[ue(r("input",{"onUpdate:modelValue":l=>a.newComment=l,type:"text",placeholder:e.$t("community.addComment","添加评论..."),onKeydown:js(l=>o.addComment(a),["enter"])},null,40,mb),[[ye,a.newComment]]),r("button",{onClick:l=>o.addComment(a)},f(e.$t("community.send","发送")),9,vb)]),r("div",wb,[(b(!0),k(q,null,K(a.comments,l=>(b(),k("div",{key:l.id,class:"comment-item"},[r("div",yb,[r("img",{src:l.author.avatar,alt:l.author.name},null,8,bb)]),r("div",kb,[r("span",_b,f(l.author.name),1),r("p",Sb,f(l.content),1),r("span",Ab,f(o.formatTime(l.createdAt)),1)])]))),128))])])):B("",!0)],2))),128))])),o.hasMore&&!o.loading?(b(),k("div",Cb,[r("button",{class:"load-more-btn",onClick:t[5]||(t[5]=(...a)=>o.loadMoreNotes&&o.loadMoreNotes(...a))},f(e.$t("community.loadMore","加载更多")),1)])):B("",!0)])])])]),o.showPublishModal?(b(),k("div",{key:0,class:"publish-modal",onClick:t[18]||(t[18]=(...a)=>o.closePublishModal&&o.closePublishModal(...a))},[r("div",{class:"modal-content",onClick:t[17]||(t[17]=Se(()=>{},["stop"]))},[r("div",Tb,[r("h3",null,f(e.$t("community.shareNote","分享你的创意笔记")),1),r("button",{class:"modal-close",onClick:t[6]||(t[6]=(...a)=>o.closePublishModal&&o.closePublishModal(...a))},"✕")]),r("div",$b,[r("div",xb,[(b(!0),k(q,null,K(o.noteTypes,a=>(b(),k("button",{key:a.id,class:J(["type-btn",{active:o.selectedNoteType===a.id}]),onClick:l=>o.selectNoteType(a.id)},[r("span",Eb,f(a.icon),1),r("span",Pb,f(e.$t(`community.noteType.${a.id}`,a.label)),1)],10,Ib))),128))]),r("div",Nb,[ue(r("textarea",{"onUpdate:modelValue":t[7]||(t[7]=a=>o.newNote.content=a),placeholder:o.getContentPlaceholder(),rows:"4",maxlength:"2000"},null,8,Lb),[[ye,o.newNote.content]]),r("div",Rb,f(o.newNote.content.length)+"/2000",1)]),o.selectedNoteType!=="text"?(b(),k("div",Mb,[r("div",{class:"upload-area",onClick:t[9]||(t[9]=(...a)=>o.triggerFileUpload&&o.triggerFileUpload(...a)),onDrop:t[10]||(t[10]=(...a)=>o.handleFileDrop&&o.handleFileDrop(...a)),onDragover:t[11]||(t[11]=Se(()=>{},["prevent"]))},[r("input",{ref:"fileInput",type:"file",accept:o.getFileAccept(),onChange:t[8]||(t[8]=(...a)=>o.handleFileSelect&&o.handleFileSelect(...a)),multiple:"",hidden:""},null,40,Ob),o.newNote.media.length===0?(b(),k("div",Db,[t[31]||(t[31]=r("i",{class:"upload-icon"},"📁",-1)),r("p",null,f(o.getUploadText()),1),r("small",null,f(o.getUploadHint()),1)])):(b(),k("div",Wb,[(b(!0),k(q,null,K(o.newNote.media,(a,l)=>(b(),k("div",{key:l,class:"media-item"},[a.type==="image"?(b(),k("img",{key:0,src:a.url,alt:a.name},null,8,Fb)):a.type==="video"?(b(),k("video",{key:1,src:a.url,controls:""},null,8,Ub)):(b(),k("div",Hb,[t[32]||(t[32]=r("i",{class:"file-icon"},"📄",-1)),r("span",Bb,f(a.name),1)])),r("button",{class:"remove-media",onClick:c=>o.removeMedia(l)},"✕",8,zb)]))),128))]))],32)])):B("",!0),o.selectedNoteType==="workflow"?(b(),k("div",Vb,[r("h4",null,f(e.$t("community.selectWorkflow","选择AI Agent工作流")),1),r("div",jb,[(b(!0),k(q,null,K(o.userWorkflows,a=>(b(),k("div",{key:a.id,class:J(["workflow-item",{selected:o.newNote.workflowId===a.id}]),onClick:l=>o.selectWorkflow(a.id)},[r("div",Gb,f(a.icon||"🤖"),1),r("div",Jb,[r("h5",null,f(a.name),1),r("p",null,f(a.description),1)])],10,qb))),128))])])):B("",!0),r("div",Yb,[r("label",null,f(e.$t("community.addTags","添加标签")),1),r("div",Kb,[r("div",Xb,[(b(!0),k(q,null,K(o.newNote.tags,a=>(b(),k("span",{key:a,class:"selected-tag"},[Y(" #"+f(a)+" ",1),r("button",{onClick:l=>o.removeTag(a)},"✕",8,Zb)]))),128))]),ue(r("input",{"onUpdate:modelValue":t[12]||(t[12]=a=>o.tagInput=a),type:"text",placeholder:e.$t("community.tagsPlaceholder","输入标签后按回车添加"),onKeydown:[t[13]||(t[13]=js(Se((...a)=>o.addTag&&o.addTag(...a),["prevent"]),["enter"])),t[14]||(t[14]=js(Se((...a)=>o.addTag&&o.addTag(...a),["prevent"]),["space"]))]},null,40,Qb),[[ye,o.tagInput]])]),r("div",e1,[(b(!0),k(q,null,K(o.tagSuggestions,a=>(b(),k("button",{key:a,class:"tag-suggestion",onClick:l=>o.addSuggestedTag(a)}," #"+f(a),9,t1))),128))])])]),r("div",s1,[r("button",{class:"cancel-btn",onClick:t[15]||(t[15]=a=>{o.resetForm(),o.closePublishModal()})},f(e.$t("community.cancel","取消")),1),r("button",{class:"publish-btn",disabled:!o.canPublish,onClick:t[16]||(t[16]=(...a)=>o.publishNote&&o.publishNote(...a))},f(e.$t("community.publish","发布笔记")),9,o1)])])])):B("",!0),o.imageViewer.show?(b(),k("div",{key:1,class:"image-viewer",onClick:t[23]||(t[23]=(...a)=>o.closeImageViewer&&o.closeImageViewer(...a))},[r("div",{class:"viewer-content",onClick:t[22]||(t[22]=Se(()=>{},["stop"]))},[r("img",{src:o.imageViewer.images[o.imageViewer.currentIndex].url,alt:o.imageViewer.images[o.imageViewer.currentIndex].alt},null,8,n1),r("button",{class:"viewer-close",onClick:t[19]||(t[19]=(...a)=>o.closeImageViewer&&o.closeImageViewer(...a))},"✕"),o.imageViewer.currentIndex>0?(b(),k("button",{key:0,class:"viewer-prev",onClick:t[20]||(t[20]=(...a)=>o.prevImage&&o.prevImage(...a))},"‹")):B("",!0),o.imageViewer.currentIndex<o.imageViewer.images.length-1?(b(),k("button",{key:1,class:"viewer-next",onClick:t[21]||(t[21]=(...a)=>o.nextImage&&o.nextImage(...a))},"›")):B("",!0)])])):B("",!0)])}const r1=xt(Xw,[["render",i1],["__scopeId","data-v-4749ceee"]]);const a1={name:"Marketplace",mounted(){this.initializeAnimations()},methods:{initializeAnimations(){document.querySelectorAll(".animate-fade-in-up").forEach((t,s)=>{setTimeout(()=>{t.classList.add("animate-fade-in-up")},s*100)})}}},l1={class:"marketplace"},c1={class:"page-header"},d1={class:"container"},u1={class:"page-title animate-fade-in-up"},f1={class:"page-subtitle animate-fade-in-up"},h1={class:"section products"},p1={class:"container"},g1={class:"products-layout"},m1={class:"products-main"},v1={class:"products-grid"},w1={class:"product-info"},y1={class:"product-creator"},b1={class:"product-price"},k1={class:"product-rating"},_1={class:"rating-count"};function S1(e,t,s,o,n,i){return b(),k("div",l1,[r("section",c1,[r("div",d1,[r("h1",u1,f(e.$t("marketplace.title","Creative Marketplace")),1),r("p",f1,f(e.$t("marketplace.subtitle","Discover and trade digital creations")),1)])]),t[5]||(t[5]=bt('<section class="section stats" data-v-8043bf8d><div class="container" data-v-8043bf8d><div class="stats-grid" data-v-8043bf8d><div class="stat-card animate-fade-in-up" data-v-8043bf8d><div class="stat-number" data-v-8043bf8d>2K+</div><div class="stat-label" data-v-8043bf8d>Items Available</div></div><div class="stat-card animate-fade-in-up" data-v-8043bf8d><div class="stat-number" data-v-8043bf8d>500+</div><div class="stat-label" data-v-8043bf8d>Active Sellers</div></div><div class="stat-card animate-fade-in-up" data-v-8043bf8d><div class="stat-number" data-v-8043bf8d>10K+</div><div class="stat-label" data-v-8043bf8d>Happy Buyers</div></div><div class="stat-card animate-fade-in-up" data-v-8043bf8d><div class="stat-number" data-v-8043bf8d>95%</div><div class="stat-label" data-v-8043bf8d>Satisfaction Rate</div></div></div></div></section><section class="section search-filter" data-v-8043bf8d><div class="container" data-v-8043bf8d><div class="search-bar" data-v-8043bf8d><input type="text" placeholder="Search for items, creators, or categories..." data-v-8043bf8d><button class="search-btn" data-v-8043bf8d>🔍</button></div><div class="filter-tabs" data-v-8043bf8d><button class="filter-tab active" data-v-8043bf8d>All Items</button><button class="filter-tab" data-v-8043bf8d>Figurines</button><button class="filter-tab" data-v-8043bf8d>Accessories</button><button class="filter-tab" data-v-8043bf8d>Custom Art</button><button class="filter-tab" data-v-8043bf8d>DIY Kits</button></div></div></section><section class="section featured" data-v-8043bf8d><div class="container" data-v-8043bf8d><h2 class="section-title" data-v-8043bf8d>Featured Items</h2><div class="featured-grid" data-v-8043bf8d><div class="featured-item animate-fade-in-up" data-v-8043bf8d><div class="item-image" data-v-8043bf8d><div class="placeholder-image" data-v-8043bf8d>🧸</div><div class="item-badge" data-v-8043bf8d>Featured</div></div><div class="item-info" data-v-8043bf8d><h3 data-v-8043bf8d>Custom Labubu Rainbow Edition</h3><p class="item-creator" data-v-8043bf8d>by @CreativeDesigner</p><div class="item-price" data-v-8043bf8d>$89.99</div><div class="item-rating" data-v-8043bf8d><span class="stars" data-v-8043bf8d>⭐⭐⭐⭐⭐</span><span class="rating-count" data-v-8043bf8d>(24 reviews)</span></div></div></div><div class="featured-item animate-fade-in-up" data-v-8043bf8d><div class="item-image" data-v-8043bf8d><div class="placeholder-image" data-v-8043bf8d>🎨</div><div class="item-badge" data-v-8043bf8d>New</div></div><div class="item-info" data-v-8043bf8d><h3 data-v-8043bf8d>Labubu Art Print Collection</h3><p class="item-creator" data-v-8043bf8d>by @ArtMaster</p><div class="item-price" data-v-8043bf8d>$24.99</div><div class="item-rating" data-v-8043bf8d><span class="stars" data-v-8043bf8d>⭐⭐⭐⭐⭐</span><span class="rating-count" data-v-8043bf8d>(18 reviews)</span></div></div></div><div class="featured-item animate-fade-in-up" data-v-8043bf8d><div class="item-image" data-v-8043bf8d><div class="placeholder-image" data-v-8043bf8d>🎭</div><div class="item-badge" data-v-8043bf8d>Limited</div></div><div class="item-info" data-v-8043bf8d><h3 data-v-8043bf8d>Vintage Labubu Restoration</h3><p class="item-creator" data-v-8043bf8d>by @RetroCollector</p><div class="item-price" data-v-8043bf8d>$156.00</div><div class="item-rating" data-v-8043bf8d><span class="stars" data-v-8043bf8d>⭐⭐⭐⭐⭐</span><span class="rating-count" data-v-8043bf8d>(31 reviews)</span></div></div></div></div></div></section>',3)),r("section",h1,[r("div",p1,[r("div",g1,[t[4]||(t[4]=bt('<div class="products-sidebar" data-v-8043bf8d><div class="sidebar-section" data-v-8043bf8d><h3 data-v-8043bf8d>Categories</h3><div class="category-list" data-v-8043bf8d><div class="category-item active" data-v-8043bf8d><span data-v-8043bf8d>All Items</span><span class="count" data-v-8043bf8d>2,543</span></div><div class="category-item" data-v-8043bf8d><span data-v-8043bf8d>Figurines</span><span class="count" data-v-8043bf8d>856</span></div><div class="category-item" data-v-8043bf8d><span data-v-8043bf8d>Accessories</span><span class="count" data-v-8043bf8d>432</span></div><div class="category-item" data-v-8043bf8d><span data-v-8043bf8d>Custom Art</span><span class="count" data-v-8043bf8d>678</span></div><div class="category-item" data-v-8043bf8d><span data-v-8043bf8d>DIY Kits</span><span class="count" data-v-8043bf8d>234</span></div></div></div><div class="sidebar-section" data-v-8043bf8d><h3 data-v-8043bf8d>Price Range</h3><div class="price-range" data-v-8043bf8d><input type="range" min="0" max="500" value="250" data-v-8043bf8d><div class="range-labels" data-v-8043bf8d><span data-v-8043bf8d>$0</span><span data-v-8043bf8d>$500+</span></div></div></div><div class="sidebar-section" data-v-8043bf8d><h3 data-v-8043bf8d>Condition</h3><div class="condition-list" data-v-8043bf8d><label class="checkbox-item" data-v-8043bf8d><input type="checkbox" data-v-8043bf8d><span data-v-8043bf8d>New</span></label><label class="checkbox-item" data-v-8043bf8d><input type="checkbox" data-v-8043bf8d><span data-v-8043bf8d>Like New</span></label><label class="checkbox-item" data-v-8043bf8d><input type="checkbox" data-v-8043bf8d><span data-v-8043bf8d>Good</span></label><label class="checkbox-item" data-v-8043bf8d><input type="checkbox" data-v-8043bf8d><span data-v-8043bf8d>Fair</span></label></div></div></div>',1)),r("div",m1,[t[2]||(t[2]=r("div",{class:"products-header"},[r("div",{class:"results-count"},"Showing 1-12 of 2,543 items"),r("div",{class:"sort-options"},[r("select",null,[r("option",null,"Sort by: Newest"),r("option",null,"Price: Low to High"),r("option",null,"Price: High to Low"),r("option",null,"Most Popular"),r("option",null,"Best Rating")])])],-1)),r("div",v1,[(b(),k(q,null,K(12,a=>r("div",{class:"product-card",key:a},[t[1]||(t[1]=r("div",{class:"product-image"},[r("div",{class:"placeholder-image"},"🎁")],-1)),r("div",w1,[r("h4",null,"Custom Labubu Design "+f(a),1),r("p",y1,"by @Creator"+f(a),1),r("div",b1,"$"+f((Math.random()*100+20).toFixed(2)),1),r("div",k1,[t[0]||(t[0]=r("span",{class:"stars"},"⭐⭐⭐⭐⭐",-1)),r("span",_1,"("+f(Math.floor(Math.random()*50+5))+")",1)])])])),64))]),t[3]||(t[3]=bt('<div class="pagination" data-v-8043bf8d><button class="page-btn" data-v-8043bf8d>Previous</button><button class="page-btn active" data-v-8043bf8d>1</button><button class="page-btn" data-v-8043bf8d>2</button><button class="page-btn" data-v-8043bf8d>3</button><button class="page-btn" data-v-8043bf8d>Next</button></div>',1))])])])]),t[6]||(t[6]=bt('<section class="section seller-tools" data-v-8043bf8d><div class="container" data-v-8043bf8d><h2 class="section-title" data-v-8043bf8d>Become a Seller</h2><p class="section-subtitle" data-v-8043bf8d>Join our marketplace and start selling your creations</p><div class="tools-grid" data-v-8043bf8d><div class="tool-card animate-fade-in-up" data-v-8043bf8d><div class="tool-icon" data-v-8043bf8d>📊</div><h3 data-v-8043bf8d>Analytics Dashboard</h3><p data-v-8043bf8d>Track your sales, views, and earnings with detailed analytics</p></div><div class="tool-card animate-fade-in-up" data-v-8043bf8d><div class="tool-icon" data-v-8043bf8d>🛡️</div><h3 data-v-8043bf8d>Secure Payments</h3><p data-v-8043bf8d>Safe and secure payment processing for all transactions</p></div><div class="tool-card animate-fade-in-up" data-v-8043bf8d><div class="tool-icon" data-v-8043bf8d>🎯</div><h3 data-v-8043bf8d>Marketing Tools</h3><p data-v-8043bf8d>Promote your items with our built-in marketing features</p></div><div class="tool-card animate-fade-in-up" data-v-8043bf8d><div class="tool-icon" data-v-8043bf8d>🤝</div><h3 data-v-8043bf8d>Community Support</h3><p data-v-8043bf8d>Get help from our seller community and support team</p></div></div><div class="text-center mt-5" data-v-8043bf8d><button class="btn btn-primary btn-large" data-v-8043bf8d>Start Selling Today</button></div></div></section>',1))])}const A1=xt(a1,[["render",S1],["__scopeId","data-v-8043bf8d"]]);const C1={name:"About",mounted(){this.initializeAnimations()},methods:{initializeAnimations(){document.querySelectorAll(".animate-fade-in-up, .animate-fade-in-left, .animate-fade-in-right").forEach((t,s)=>{setTimeout(()=>{t.classList.add("animate-fade-in-up")},s*100)})}}},T1={class:"about"},$1={class:"section contact"},x1={class:"container"},I1={class:"contact-content"},E1={class:"contact-actions"};function P1(e,t,s,o,n,i){const a=Ps("router-link");return b(),k("div",T1,[t[3]||(t[3]=bt('<section class="page-header" data-v-c4643e8d><div class="container" data-v-c4643e8d><h1 class="page-title animate-fade-in-up" data-v-c4643e8d>About Labubu AI Platform</h1><p class="page-subtitle animate-fade-in-up" data-v-c4643e8d> Empowering creativity through AI technology and community collaboration </p></div></section><section class="section intro" data-v-c4643e8d><div class="container" data-v-c4643e8d><div class="intro-content" data-v-c4643e8d><div class="intro-text animate-fade-in-left" data-v-c4643e8d><h2 data-v-c4643e8d>Our Story</h2><p data-v-c4643e8d> Labubu AI Platform was born from a simple idea: to democratize creative tools and make AI-powered art accessible to everyone. We believe that creativity shouldn&#39;t be limited by technical barriers or expensive software. </p><p data-v-c4643e8d> Our platform combines cutting-edge AI technology with the beloved Labubu IP to create a unique ecosystem where artists, collectors, and enthusiasts can explore, create, and share their passion for digital art. </p></div><div class="intro-visual animate-fade-in-right" data-v-c4643e8d><div class="visual-card" data-v-c4643e8d><div class="visual-icon" data-v-c4643e8d>🎨</div><h3 data-v-c4643e8d>Creative Freedom</h3><p data-v-c4643e8d>Express yourself without limits using our advanced AI tools</p></div><div class="visual-card" data-v-c4643e8d><div class="visual-icon" data-v-c4643e8d>🌟</div><h3 data-v-c4643e8d>Community Driven</h3><p data-v-c4643e8d>Connect with like-minded creators and grow together</p></div></div></div></div></section><section class="section values" data-v-c4643e8d><div class="container" data-v-c4643e8d><h2 class="section-title" data-v-c4643e8d>Our Core Values</h2><div class="values-grid" data-v-c4643e8d><div class="value-card animate-fade-in-up" data-v-c4643e8d><div class="value-icon" data-v-c4643e8d>💡</div><h3 data-v-c4643e8d>Innovation</h3><p data-v-c4643e8d> We constantly push the boundaries of what&#39;s possible with AI technology, bringing you the latest innovations in creative tools. </p></div><div class="value-card animate-fade-in-up" data-v-c4643e8d><div class="value-icon" data-v-c4643e8d>🤝</div><h3 data-v-c4643e8d>Community</h3><p data-v-c4643e8d> Our platform is built on the power of community. We foster collaboration, sharing, and mutual support among all our users. </p></div><div class="value-card animate-fade-in-up" data-v-c4643e8d><div class="value-icon" data-v-c4643e8d>🎯</div><h3 data-v-c4643e8d>Quality</h3><p data-v-c4643e8d> We maintain the highest standards in everything we do, from our AI models to our user experience and community guidelines. </p></div><div class="value-card animate-fade-in-up" data-v-c4643e8d><div class="value-icon" data-v-c4643e8d>🌈</div><h3 data-v-c4643e8d>Inclusivity</h3><p data-v-c4643e8d> We believe creativity knows no boundaries. Our platform welcomes creators from all backgrounds and skill levels. </p></div></div></div></section><section class="section features" data-v-c4643e8d><div class="container" data-v-c4643e8d><h2 class="section-title" data-v-c4643e8d>What Makes Us Special</h2><div class="features-content" data-v-c4643e8d><div class="feature-item animate-fade-in-up" data-v-c4643e8d><div class="feature-number" data-v-c4643e8d>01</div><div class="feature-info" data-v-c4643e8d><h3 data-v-c4643e8d>AI-Powered Creativity</h3><p data-v-c4643e8d> Our advanced AI models are specifically trained to understand and enhance the Labubu aesthetic, providing you with tools that truly understand your creative vision. </p></div></div><div class="feature-item animate-fade-in-up" data-v-c4643e8d><div class="feature-number" data-v-c4643e8d>02</div><div class="feature-info" data-v-c4643e8d><h3 data-v-c4643e8d>Comprehensive Learning</h3><p data-v-c4643e8d> From beginner tutorials to advanced techniques, our extensive library of resources helps you master AI-assisted creativity at your own pace. </p></div></div><div class="feature-item animate-fade-in-up" data-v-c4643e8d><div class="feature-number" data-v-c4643e8d>03</div><div class="feature-info" data-v-c4643e8d><h3 data-v-c4643e8d>Secure Marketplace</h3><p data-v-c4643e8d> Our marketplace provides a safe and trusted environment for buying and selling unique Labubu creations, with quality assurance and buyer protection. </p></div></div><div class="feature-item animate-fade-in-up" data-v-c4643e8d><div class="feature-number" data-v-c4643e8d>04</div><div class="feature-info" data-v-c4643e8d><h3 data-v-c4643e8d>Active Community</h3><p data-v-c4643e8d> Join thousands of creators in our vibrant community where you can share your work, get feedback, and collaborate on exciting projects. </p></div></div></div></div></section><section class="section team" data-v-c4643e8d><div class="container" data-v-c4643e8d><h2 class="section-title" data-v-c4643e8d>Meet Our Team</h2><p class="section-subtitle" data-v-c4643e8d> Passionate creators and technologists working together to build the future of digital art </p><div class="team-grid" data-v-c4643e8d><div class="team-member animate-fade-in-up" data-v-c4643e8d><div class="member-avatar" data-v-c4643e8d>👨‍💻</div><h3 data-v-c4643e8d>Alex Chen</h3><p class="member-role" data-v-c4643e8d>CEO &amp; Co-Founder</p><p class="member-bio" data-v-c4643e8d> Former AI researcher with a passion for democratizing creative technology </p></div><div class="team-member animate-fade-in-up" data-v-c4643e8d><div class="member-avatar" data-v-c4643e8d>👩‍🎨</div><h3 data-v-c4643e8d>Sarah Kim</h3><p class="member-role" data-v-c4643e8d>Creative Director</p><p class="member-bio" data-v-c4643e8d> Award-winning designer with expertise in digital art and user experience </p></div><div class="team-member animate-fade-in-up" data-v-c4643e8d><div class="member-avatar" data-v-c4643e8d>👨‍🔬</div><h3 data-v-c4643e8d>Mike Johnson</h3><p class="member-role" data-v-c4643e8d>CTO</p><p class="member-bio" data-v-c4643e8d> AI specialist focused on developing next-generation creative tools </p></div><div class="team-member animate-fade-in-up" data-v-c4643e8d><div class="member-avatar" data-v-c4643e8d>👩‍💼</div><h3 data-v-c4643e8d>Emily Zhang</h3><p class="member-role" data-v-c4643e8d>Community Manager</p><p class="member-bio" data-v-c4643e8d> Dedicated to fostering a welcoming and inclusive creative community </p></div></div></div></section>',5)),r("section",$1,[r("div",x1,[r("div",I1,[t[2]||(t[2]=bt('<h2 class="section-title" data-v-c4643e8d>Get in Touch</h2><p class="section-subtitle" data-v-c4643e8d> Have questions or want to learn more? We&#39;d love to hear from you! </p><div class="contact-grid" data-v-c4643e8d><div class="contact-card animate-fade-in-up" data-v-c4643e8d><div class="contact-icon" data-v-c4643e8d>📧</div><h3 data-v-c4643e8d>Email Us</h3><p data-v-c4643e8d>hello@labubu-ai.com</p><p data-v-c4643e8d>support@labubu-ai.com</p></div><div class="contact-card animate-fade-in-up" data-v-c4643e8d><div class="contact-icon" data-v-c4643e8d>💬</div><h3 data-v-c4643e8d>Join Our Community</h3><p data-v-c4643e8d>Discord: LabubuAI</p><p data-v-c4643e8d>Twitter: @LabubuAI</p></div><div class="contact-card animate-fade-in-up" data-v-c4643e8d><div class="contact-icon" data-v-c4643e8d>🏢</div><h3 data-v-c4643e8d>Visit Us</h3><p data-v-c4643e8d>San Francisco, CA</p><p data-v-c4643e8d>Remote-first team</p></div></div>',3)),r("div",E1,[ge(a,{to:"/frontend/community",class:"btn btn-primary btn-large"},{default:Ge(()=>t[0]||(t[0]=[Y(" Join Our Community ")])),_:1,__:[0]}),ge(a,{to:"/frontend/ai-agent",class:"btn btn-secondary btn-large"},{default:Ge(()=>t[1]||(t[1]=[Y(" Start Creating ")])),_:1,__:[1]})])])])])])}const N1=xt(C1,[["render",P1],["__scopeId","data-v-c4643e8d"]]),L1="modulepreload",R1=function(e){return"/"+e},qi={},dn=function(t,s,o){if(!s||s.length===0)return t();const n=document.getElementsByTagName("link");return Promise.all(s.map(i=>{if(i=R1(i),i in qi)return;qi[i]=!0;const a=i.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!o)for(let u=n.length-1;u>=0;u--){const p=n[u];if(p.href===i&&(!a||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const d=document.createElement("link");if(d.rel=a?"stylesheet":L1,a||(d.as="script",d.crossOrigin=""),d.href=i,document.head.appendChild(d),a)return new Promise((u,p)=>{d.addEventListener("load",u),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})};const M1={name:"Login",data(){return{username:"",password:"",rememberMe:!1,isLoading:!1}},methods:{async handleLogin(){if(!this.username.trim()){alert(this.$t("login.usernameRequired","请输入用户名"));return}if(!this.password.trim()){alert(this.$t("login.passwordRequired","请输入密码"));return}if(!this.isLoading){this.isLoading=!0;try{const{userAuthAPI:e}=await dn(()=>Promise.resolve().then(()=>rn),void 0),t=await e.login(this.username,this.password);this.rememberMe?localStorage.setItem("labubu_remember",this.username):localStorage.removeItem("labubu_remember"),localStorage.setItem("labubu_token",t.data.token),localStorage.setItem("userInfo",JSON.stringify({username:t.data.username,email:t.data.email,tenant_id:t.data.tenant_id||"default"})),console.log("Login successful, JWT token saved登录成功，JWT令牌已保存:",t.data.token.substring(0,20)+"..."),alert(this.$t("login.loginSuccess","登录成功"));const s=localStorage.getItem("redirect_after_login")||"/";localStorage.removeItem("redirect_after_login"),this.$router.push(s)}catch(e){console.error("Login error登录错误:",e),alert(this.$t("login.loginFailed","登录失败")+"："+e.message)}finally{this.isLoading=!1}}},onForgot(){alert(this.$t("login.forgotMessage","请联系管理员重置密码。"))},onRegister(){alert(this.$t("login.registerMessage","注册功能暂未开放。"))}},mounted(){const e=localStorage.getItem("labubu_remember");e&&(this.username=e,this.rememberMe=!0)}},O1={class:"login-page"},D1={class:"login-container"},W1={class:"login-logo"},F1={class:"form-group"},U1={for:"username"},H1=["placeholder"],B1={class:"form-group"},z1={for:"password"},V1=["placeholder"],j1={class:"form-options"},q1={class:"remember-me"},G1={key:0,class:"loading-message"},J1={class:"loading-dots"},Y1={class:"loading-tip"},K1=["disabled"],X1={key:0,class:"loading-spinner"},Z1={class:"register-link"};function Q1(e,t,s,o,n,i){const a=Ps("router-link");return b(),k("div",O1,[r("div",D1,[r("div",W1,[t[5]||(t[5]=r("img",{src:Nn,alt:"Labubu AI Logo"},null,-1)),r("h1",null,f(e.$t("login.title","LABUBU AI")),1)]),r("form",{class:"login-form",onSubmit:t[4]||(t[4]=Se((...l)=>i.handleLogin&&i.handleLogin(...l),["prevent"]))},[r("div",F1,[r("label",U1,f(e.$t("login.username","用户名")),1),ue(r("input",{type:"text",id:"username","onUpdate:modelValue":t[0]||(t[0]=l=>n.username=l),required:"",placeholder:e.$t("login.usernamePlaceholder","请输入用户名")},null,8,H1),[[ye,n.username]])]),r("div",B1,[r("label",z1,f(e.$t("login.password","密码")),1),ue(r("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=l=>n.password=l),required:"",placeholder:e.$t("login.passwordPlaceholder","请输入密码")},null,8,V1),[[ye,n.password]])]),r("div",j1,[r("label",q1,[ue(r("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=l=>n.rememberMe=l)},null,512),[[vs,n.rememberMe]]),Y(" "+f(e.$t("login.rememberMe","记住我")),1)]),r("a",{href:"#",class:"forgot-link",onClick:t[3]||(t[3]=Se((...l)=>i.onForgot&&i.onForgot(...l),["prevent"]))},f(e.$t("login.forgotPassword","忘记密码？")),1)]),n.isLoading?(b(),k("div",G1,[r("div",J1,[r("span",null,f(e.$t("login.loggingIn","正在登录")),1),t[6]||(t[6]=r("span",{class:"dots"},[r("span",{class:"dot"}),r("span",{class:"dot"}),r("span",{class:"dot"})],-1))]),r("p",Y1,f(e.$t("login.loadingTip","登录验证需要一些时间，请耐心等待...")),1)])):B("",!0),r("button",{class:J(["login-btn",{loading:n.isLoading}]),type:"submit",disabled:n.isLoading},[n.isLoading?(b(),k("span",X1)):B("",!0),r("span",null,f(n.isLoading?e.$t("login.loggingIn","正在登录"):e.$t("login.loginButton","登录")),1)],10,K1),r("div",Z1,[Y(f(e.$t("login.noAccount","还没有账号？")),1),ge(a,{to:"/frontend/register"},{default:Ge(()=>[Y(f(e.$t("login.registerNow","注册新账号")),1)]),_:1})])],32)])])}const ek=xt(M1,[["render",Q1],["__scopeId","data-v-66d624c4"]]);const tk={name:"Register",data(){return{username:"",email:"",password:"",confirmPassword:"",code:"",codeBtnText:"获取验证码",codeBtnDisabled:!1,isLoadingCode:!1,isLoadingRegister:!1,codeTimer:null,codeCountdown:60,currentLanguage:ut}},mounted(){this.updateButtonText()},watch:{currentLanguage:{handler(){this.updateButtonText()},immediate:!1}},methods:{updateButtonText(){!this.codeBtnDisabled&&!this.isLoadingCode&&(this.codeBtnText=this.$t("register.getCode","获取验证码"))},async sendCode(){if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.email)){alert(this.$t("register.emailFormatError","邮箱格式不正确"));return}if(!this.isLoadingCode){this.isLoadingCode=!0,this.codeBtnDisabled=!0,this.codeBtnText=this.$t("register.sending","发送中...");try{const{userAuthAPI:t}=await dn(()=>Promise.resolve().then(()=>rn),void 0),s=await t.sendVerificationCode(this.email);if(s.code===200)alert(this.$t("register.codeSuccess","验证码已发送到您的邮箱，请查收！")),this.codeBtnText=this.$t("register.sentCountdown","已发送(180s)"),this.codeCountdown=180,this.codeTimer=setInterval(()=>{this.codeCountdown--;const o=this.$t("register.sentTime","已发送({time}s)");this.codeBtnText=o.replace("{time}",this.codeCountdown),this.codeCountdown<=0&&(clearInterval(this.codeTimer),this.codeBtnText=this.$t("register.getCode","获取验证码"),this.codeBtnDisabled=!1)},1e3);else{let o=s.msg||"验证码发送失败";throw s.code===500&&(o=s.msg||this.$t("register.sendCodeError","验证码发送失败")),new Error(o)}}catch(t){console.error("Send verification code error发送验证码错误:",t),alert("验证码发送失败："+t.message),this.codeBtnText=this.$t("register.getCode","获取验证码"),this.codeBtnDisabled=!1}finally{this.isLoadingCode=!1}}},async handleRegister(){if(!this.username.trim()){alert(this.$t("register.usernameRequired","请输入用户名"));return}if(this.username.length<2){alert(this.$t("register.usernameLength","用户名长度必须大于2个字符"));return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.email)){alert(this.$t("register.emailError","请输入有效的邮箱地址"));return}if(this.password.length<8||this.password.length>16){alert(this.$t("register.passwordLength","密码长度必须为8-16位"));return}const t=/[A-Z]/.test(this.password),s=/[a-z]/.test(this.password),o=/[0-9]/.test(this.password);if((t?1:0)+(s?1:0)+(o?1:0)<2){alert(this.$t("register.passwordComplexity","密码必须包含大写字母、小写字母、数字中至少两类"));return}if(this.password!==this.confirmPassword){alert(this.$t("register.passwordMismatch","两次输入的密码不一致"));return}if(!this.code||this.code.length!==6){alert(this.$t("register.codeError","请输入6位验证码"));return}if(!this.isLoadingRegister){this.isLoadingRegister=!0;try{const{userAuthAPI:i}=await dn(()=>Promise.resolve().then(()=>rn),void 0),a=await i.register(this.username,this.email,this.password,this.code);if(a.code===200){localStorage.setItem("labubu_token",a.data.token),localStorage.setItem("userInfo",JSON.stringify({username:a.data.username,email:a.data.email,tenant_id:a.data.tenant_id||"default"})),console.log("Registration successful, JWT token saved注册成功，JWT令牌已保存:",a.data.token.substring(0,20)+"..."),alert(this.$t("register.registerSuccess","注册成功！"));const l=localStorage.getItem("redirect_after_login")||"/";localStorage.removeItem("redirect_after_login"),this.$router.push(l)}else{let l=a.msg||"注册失败";a.code===409?l=a.msg:a.code===400?l=this.$t("register.invalidCode","验证码错误或已过期"):a.code===500&&(l=a.msg||this.$t("register.serverError","服务器错误，请稍后重试")),alert(l)}}catch(i){console.error("Registration error注册错误:",i),alert("注册失败："+i.message)}finally{this.isLoadingRegister=!1}}}},beforeDestroy(){this.codeTimer&&clearInterval(this.codeTimer)}},sk={class:"register-page"},ok={class:"register-container"},nk={class:"register-logo"},ik={class:"form-group"},rk={for:"username"},ak=["placeholder"],lk={class:"form-group"},ck={for:"email"},dk=["placeholder"],uk={class:"form-group"},fk={for:"password"},hk=["placeholder"],pk={class:"password-hint"},gk={class:"form-group"},mk={for:"confirmPassword"},vk=["placeholder"],wk={class:"form-group"},yk={for:"code"},bk={class:"code-input-group"},kk=["placeholder"],_k=["disabled"],Sk={key:0,class:"loading-spinner"},Ak={key:0,class:"loading-message"},Ck={class:"loading-dots"},Tk={class:"loading-tip"},$k={key:1,class:"loading-message"},xk={class:"loading-dots"},Ik={class:"loading-tip"},Ek=["disabled"],Pk={key:0,class:"loading-spinner"},Nk={class:"login-link"};function Lk(e,t,s,o,n,i){const a=Ps("router-link");return b(),k("div",sk,[r("div",ok,[r("div",nk,[t[7]||(t[7]=r("img",{src:Nn,alt:"Labubu AI Logo"},null,-1)),r("h1",null,f(e.$t("register.title","注册新账号")),1)]),r("form",{class:"register-form",onSubmit:t[6]||(t[6]=Se((...l)=>i.handleRegister&&i.handleRegister(...l),["prevent"]))},[r("div",ik,[r("label",rk,f(e.$t("register.username","用户名")),1),ue(r("input",{type:"text",id:"username","onUpdate:modelValue":t[0]||(t[0]=l=>n.username=l),required:"",placeholder:e.$t("register.usernamePlaceholder","请输入用户名")},null,8,ak),[[ye,n.username]])]),r("div",lk,[r("label",ck,f(e.$t("register.email","邮箱")),1),ue(r("input",{type:"email",id:"email","onUpdate:modelValue":t[1]||(t[1]=l=>n.email=l),required:"",placeholder:e.$t("register.emailPlaceholder","请输入邮箱")},null,8,dk),[[ye,n.email]])]),r("div",uk,[r("label",fk,f(e.$t("register.password","密码")),1),ue(r("input",{type:"password",id:"password","onUpdate:modelValue":t[2]||(t[2]=l=>n.password=l),required:"",placeholder:e.$t("register.passwordPlaceholder","请输入密码")},null,8,hk),[[ye,n.password]]),r("div",pk,f(e.$t("register.passwordHint","密码要求：8-16位，至少包含大写字母、小写字母、数字中的两种")),1)]),r("div",gk,[r("label",mk,f(e.$t("register.confirmPassword","确认密码")),1),ue(r("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":t[3]||(t[3]=l=>n.confirmPassword=l),required:"",placeholder:e.$t("register.confirmPasswordPlaceholder","请再次输入密码")},null,8,vk),[[ye,n.confirmPassword]])]),r("div",wk,[r("label",yk,f(e.$t("register.verificationCode","验证码")),1),r("div",bk,[ue(r("input",{type:"text",id:"code","onUpdate:modelValue":t[4]||(t[4]=l=>n.code=l),placeholder:e.$t("register.codePlaceholder","请输入验证码"),class:"code-input"},null,8,kk),[[ye,n.code]]),r("button",{type:"button",class:J(["code-btn",{loading:n.isLoadingCode}]),disabled:n.codeBtnDisabled||n.isLoadingCode,onClick:t[5]||(t[5]=(...l)=>i.sendCode&&i.sendCode(...l))},[n.isLoadingCode?(b(),k("span",Sk)):B("",!0),r("span",null,f(n.codeBtnText),1)],10,_k)])]),n.isLoadingCode?(b(),k("div",Ak,[r("div",Ck,[r("span",null,f(e.$t("register.sendingCode","正在发送验证码")),1),t[8]||(t[8]=r("span",{class:"dots"},[r("span",{class:"dot"}),r("span",{class:"dot"}),r("span",{class:"dot"})],-1))]),r("p",Tk,f(e.$t("register.loadingTip","邮箱验证码发送需要一些时间，请耐心等待...")),1)])):B("",!0),n.isLoadingRegister?(b(),k("div",$k,[r("div",xk,[r("span",null,f(e.$t("register.registering","正在注册")),1),t[9]||(t[9]=r("span",{class:"dots"},[r("span",{class:"dot"}),r("span",{class:"dot"}),r("span",{class:"dot"})],-1))]),r("p",Ik,f(e.$t("register.registeringTip","账号注册验证需要一些时间，请耐心等待...")),1)])):B("",!0),r("button",{class:J(["register-btn",{loading:n.isLoadingRegister}]),type:"submit",disabled:n.isLoadingCode||n.isLoadingRegister},[n.isLoadingRegister?(b(),k("span",Pk)):B("",!0),r("span",null,f(n.isLoadingRegister?e.$t("register.registering","正在注册"):e.$t("register.registerButton","注册")),1)],10,Ek),r("div",Nk,[Y(f(e.$t("register.hasAccount","已有账号？")),1),ge(a,{to:"/frontend/login"},{default:Ge(()=>[Y(f(e.$t("register.goLogin","去登录")),1)]),_:1})])],32)])])}const Rk=xt(tk,[["render",Lk],["__scopeId","data-v-459d5abc"]]);const Mk={name:"Profile",data(){return{activeTab:"aiagents",activeMarketTab:"selling",userInfo:{userId:"",username:"",email:"",tenant_id:"",avatar:"",bio:""},userStats:{aiAgents:0,communityPosts:0,transactions:0},settings:{publicProfile:!0,showActivity:!0,emailNotifications:!0,marketingEmails:!1},profileTabs:[{id:"aiagents",icon:"🤖",title:this.$t("profile.aiAgents","AI Agents")},{id:"community",icon:"👥",title:this.$t("profile.community","Community")},{id:"marketplace",icon:"🛍️",title:this.$t("profile.marketplace","Marketplace")},{id:"settings",icon:"⚙️",title:this.$t("profile.settings","Settings")}],marketplaceTabs:[{id:"selling",icon:"🏪",title:this.$t("profile.mySelling","My Products")},{id:"purchases",icon:"🛒",title:this.$t("profile.purchases","Purchases")},{id:"sales",icon:"💰",title:this.$t("profile.sales","Sales")}],userAIAgents:[],userPosts:[],userProducts:[],userPurchases:[],userSales:[]}},async mounted(){this.loadUserInfo(),this.loadUserData()},computed:{currentUserAvatar(){try{const{getUserAvatar:e}=require("@/utils/avatarManager.js");return e(this.userInfo.username)}catch(e){return console.error("获取用户头像失败:",e),"/src/assets/images/avatar1.jpg"}}},methods:{loadUserInfo(){try{const{getCompleteUserInfo:e}=require("@/utils/auth.js"),t=e();if(t)this.userInfo={...this.userInfo,...t},console.log("加载完整用户信息:",this.userInfo);else{const s=localStorage.getItem("userInfo");s&&(this.userInfo={...this.userInfo,...JSON.parse(s)})}}catch(e){console.error("Failed to load user info:",e);try{const t=localStorage.getItem("userInfo");t&&(this.userInfo={...this.userInfo,...JSON.parse(t)})}catch(t){console.error("降级方案也失败:",t)}}},loadUserData(){this.loadAIAgents(),this.loadCommunityPosts(),this.loadMarketplaceData(),this.updateUserStats()},loadAIAgents(){this.userAIAgents=[{id:1,name:"Creative Assistant",description:"Helps with creative writing and brainstorming",status:"active",createdAt:new Date(Date.now()-7*24*60*60*1e3),runs:156,successRate:94},{id:2,name:"Data Analyzer",description:"Analyzes and visualizes data patterns",status:"draft",createdAt:new Date(Date.now()-3*24*60*60*1e3),runs:23,successRate:87}]},loadCommunityPosts(){this.userPosts=[{id:1,type:"artwork",title:"AI Generated Landscape",content:"Just created this amazing landscape using our AI tools. The detail and color combination turned out better than expected!",createdAt:new Date(Date.now()-2*24*60*60*1e3),likes:45,comments:12,views:234,images:["/src/assets/images/home1.jpg"]},{id:2,type:"tutorial",title:"How to Create Better AI Prompts",content:"Here are some tips I learned for creating more effective AI prompts that generate better results...",createdAt:new Date(Date.now()-5*24*60*60*1e3),likes:78,comments:23,views:456}]},loadMarketplaceData(){this.userProducts=[{id:1,name:"Custom Labubu Design #1",price:29.99,status:"active",views:234,likes:45,sales:8,image:"/src/assets/images/logo.png"},{id:2,name:"AI Art Collection",price:49.99,status:"sold_out",views:567,likes:89,sales:25,image:"/src/assets/images/logo.png"}],this.userPurchases=[{id:1,productName:"Premium AI Template Pack",sellerName:"CreativeStudio",price:19.99,purchaseDate:new Date(Date.now()-1*24*60*60*1e3),status:"delivered",productImage:"/src/assets/images/logo.png"}],this.userSales=[{id:1,productName:"Custom Labubu Design #1",buyerName:"ArtCollector",price:29.99,saleDate:new Date(Date.now()-2*24*60*60*1e3),status:"completed",productImage:"/src/assets/images/logo.png"}]},updateUserStats(){this.userStats={aiAgents:this.userAIAgents.length,communityPosts:this.userPosts.length,transactions:this.userPurchases.length+this.userSales.length}},setActiveTab(e){this.activeTab=e},setActiveMarketTab(e){this.activeMarketTab=e},getTabCount(e){switch(e){case"aiagents":return this.userAIAgents.length;case"community":return this.userPosts.length;case"marketplace":return this.userProducts.length+this.userPurchases.length+this.userSales.length;case"settings":return"";default:return 0}},getPostTypeIcon(e){return{artwork:"🎨",tutorial:"📚",discussion:"💬",showcase:"✨"}[e]||"📄"},formatDate(e){return new Date(e).toLocaleDateString()},formatTime(e){const s=new Date-e,o=Math.floor(s/1e3),n=Math.floor(s/6e4),i=Math.floor(s/36e5),a=Math.floor(s/864e5),l=Math.floor(s/(864e5*7)),c=Math.floor(s/(864e5*30)),d=Math.floor(s/(864e5*365));return o<60?this.$t("community.timeAgo.justNow","刚刚"):n<60?n===1?this.$t("community.timeAgo.minuteAgo","1分钟前"):this.$t("community.timeAgo.minutesAgo","{count}分钟前").replace("{count}",n):i<24?i===1?this.$t("community.timeAgo.hourAgo","1小时前"):this.$t("community.timeAgo.hoursAgo","{count}小时前").replace("{count}",i):a<7?a===1?this.$t("community.timeAgo.dayAgo","1天前"):this.$t("community.timeAgo.daysAgo","{count}天前").replace("{count}",a):l<4?l===1?this.$t("community.timeAgo.weekAgo","1周前"):this.$t("community.timeAgo.weeksAgo","{count}周前").replace("{count}",l):c<12?c===1?this.$t("community.timeAgo.monthAgo","1个月前"):this.$t("community.timeAgo.monthsAgo","{count}个月前").replace("{count}",c):d===1?this.$t("community.timeAgo.yearAgo","1年前"):this.$t("community.timeAgo.yearsAgo","{count}年前").replace("{count}",d)},editProfile(){alert(this.$t("profile.profileEditMsg","个人资料编辑功能即将推出"))},shareProfile(){navigator.share?navigator.share({title:`${this.userInfo.username}'s Profile`,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),alert(this.$t("profile.linkCopied","链接已复制到剪贴板")))},createNewAgent(){this.$router.push("/frontend/ai-agent")},editAgent(e){alert(`编辑 AI Agent: ${e.name}`)},runAgent(e){alert(`运行 AI Agent: ${e.name}`)},deleteAgent(e){confirm(`确定要删除 "${e.name}" 吗？`)&&(this.userAIAgents=this.userAIAgents.filter(t=>t.id!==e.id),this.updateUserStats())},createNewPost(){this.$router.push("/frontend/community")},viewPost(e){alert(`查看帖子: ${e.title||e.content.substring(0,30)}`)},editPost(e){alert(`编辑帖子: ${e.title||e.content.substring(0,30)}`)},deletePost(e){confirm("确定要删除这个帖子吗？")&&(this.userPosts=this.userPosts.filter(t=>t.id!==e.id),this.updateUserStats())},addNewProduct(){this.$router.push("/frontend/marketplace")},editProduct(e){alert(`编辑商品: ${e.name}`)},viewProductStats(e){alert(`查看商品统计: ${e.name}`)},viewOrder(e){alert(`查看订单: ${e.productName}`)},leaveReview(e){alert(`评价商品: ${e.productName}`)},viewSaleOrder(e){alert(`查看销售订单: ${e.productName}`)},processOrder(e){alert(`处理订单: ${e.productName}`)},saveSettings(){alert(this.$t("profile.settingsSaved","设置已保存"))},deleteAccount(){confirm(this.$t("profile.deleteAccountConfirm","确定要删除账户吗？此操作不可恢复！"))&&alert(this.$t("profile.deleteAccountMsg","账户删除功能需要联系客服"))}}},Ok={class:"profile"},Dk={class:"profile-header"},Wk={class:"container"},Fk={class:"profile-banner"},Uk={class:"profile-info"},Hk={class:"avatar-section"},Bk={class:"user-avatar"},zk=["src","alt"],Vk={class:"user-details"},jk={class:"username"},qk={class:"user-email"},Gk={class:"user-stats"},Jk={class:"stat-item"},Yk={class:"stat-number"},Kk={class:"stat-label"},Xk={class:"stat-item"},Zk={class:"stat-number"},Qk={class:"stat-label"},e0={class:"stat-item"},t0={class:"stat-number"},s0={class:"stat-label"},o0={class:"profile-actions"},n0={class:"profile-nav"},i0={class:"container"},r0={class:"nav-tabs"},a0=["onClick"],l0={class:"tab-icon"},c0={class:"tab-text"},d0={class:"tab-count"},u0={class:"main-content"},f0={class:"container"},h0={class:"content-layout"},p0={key:0,class:"tab-content"},g0={class:"section-header"},m0={class:"agents-grid"},v0={class:"agent-header"},w0={class:"agent-avatar"},y0=["src","alt"],b0={class:"agent-info"},k0={class:"agent-name"},_0={class:"agent-description"},S0={class:"agent-meta"},A0={class:"agent-created"},C0={class:"agent-stats"},T0={class:"stat"},$0={class:"stat-label"},x0={class:"stat-value"},I0={class:"stat"},E0={class:"stat-label"},P0={class:"stat-value"},N0={class:"agent-actions"},L0=["onClick"],R0=["onClick"],M0=["onClick"],O0={key:1,class:"tab-content"},D0={class:"section-header"},W0={class:"posts-list"},F0={class:"post-header"},U0={class:"post-type"},H0={class:"type-icon"},B0={class:"type-text"},z0={class:"post-date"},V0={class:"post-content"},j0={class:"post-title"},q0={class:"post-excerpt"},G0={key:0,class:"post-images"},J0=["src","alt"],Y0={key:0,class:"more-images"},K0={class:"post-stats"},X0={class:"stat"},Z0={class:"stat-count"},Q0={class:"stat"},e_={class:"stat-count"},t_={class:"stat"},s_={class:"stat-count"},o_={class:"post-actions"},n_=["onClick"],i_=["onClick"],r_=["onClick"],a_={key:2,class:"tab-content"},l_={class:"marketplace-tabs"},c_=["onClick"],d_={class:"tab-icon"},u_={class:"tab-text"},f_={key:0,class:"market-content"},h_={class:"section-header"},p_={class:"products-grid"},g_={class:"product-image"},m_=["src","alt"],v_={class:"product-info"},w_={class:"product-name"},y_={class:"product-price"},b_={class:"product-stats"},k_={class:"stat-item"},__={class:"stat-item"},S_={class:"stat-item"},A_={class:"product-actions"},C_=["onClick"],T_=["onClick"],$_={key:1,class:"market-content"},x_={class:"section-header"},I_={class:"transactions-list"},E_={class:"transaction-image"},P_=["src","alt"],N_={class:"transaction-info"},L_={class:"transaction-title"},R_={class:"transaction-seller"},M_={class:"transaction-date"},O_={class:"transaction-details"},D_={class:"transaction-price"},W_={class:"transaction-actions"},F_=["onClick"],U_=["onClick"],H_={key:2,class:"market-content"},B_={class:"section-header"},z_={class:"transactions-list"},V_={class:"transaction-image"},j_=["src","alt"],q_={class:"transaction-info"},G_={class:"transaction-title"},J_={class:"transaction-buyer"},Y_={class:"transaction-date"},K_={class:"transaction-details"},X_={class:"transaction-price"},Z_={class:"transaction-actions"},Q_=["onClick"],eS=["onClick"],tS={key:3,class:"tab-content"},sS={class:"settings-sections"},oS={class:"settings-section"},nS={class:"settings-form"},iS={class:"form-group"},rS={class:"form-group"},aS={class:"form-group"},lS=["placeholder"],cS={class:"settings-section"},dS={class:"settings-form"},uS={class:"setting-item"},fS={class:"switch"},hS={class:"setting-info"},pS={class:"setting-title"},gS={class:"setting-desc"},mS={class:"setting-item"},vS={class:"switch"},wS={class:"setting-info"},yS={class:"setting-title"},bS={class:"setting-desc"},kS={class:"settings-section"},_S={class:"settings-form"},SS={class:"setting-item"},AS={class:"switch"},CS={class:"setting-info"},TS={class:"setting-title"},$S={class:"setting-desc"},xS={class:"setting-item"},IS={class:"switch"},ES={class:"setting-info"},PS={class:"setting-title"},NS={class:"setting-desc"},LS={class:"settings-actions"};function RS(e,t,s,o,n,i){return b(),k("div",Ok,[r("section",Dk,[r("div",Wk,[r("div",Fk,[t[16]||(t[16]=r("div",{class:"banner-bg"},null,-1)),r("div",Uk,[r("div",Hk,[r("div",Bk,[r("img",{src:i.currentUserAvatar,alt:n.userInfo.username},null,8,zk)])]),r("div",Vk,[r("h1",jk,f(n.userInfo.username||"User"),1),r("p",qk,f(n.userInfo.email||"user@example.com"),1),r("div",Gk,[r("div",Jk,[r("span",Yk,f(n.userStats.aiAgents),1),r("span",Kk,f(e.$t("profile.aiAgents","AI Agents")),1)]),r("div",Xk,[r("span",Zk,f(n.userStats.communityPosts),1),r("span",Qk,f(e.$t("profile.posts","Posts")),1)]),r("div",e0,[r("span",t0,f(n.userStats.transactions),1),r("span",s0,f(e.$t("profile.transactions","Transactions")),1)])])]),r("div",o0,[r("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=(...a)=>i.editProfile&&i.editProfile(...a))},[t[14]||(t[14]=r("i",{class:"btn-icon"},"✏️",-1)),Y(" "+f(e.$t("profile.editProfile","Edit Profile")),1)]),r("button",{class:"btn btn-secondary",onClick:t[1]||(t[1]=(...a)=>i.shareProfile&&i.shareProfile(...a))},[t[15]||(t[15]=r("i",{class:"btn-icon"},"🔗",-1)),Y(" "+f(e.$t("profile.share","Share")),1)])])])])])]),r("section",n0,[r("div",i0,[r("div",r0,[(b(!0),k(q,null,K(n.profileTabs,a=>(b(),k("button",{key:a.id,class:J(["nav-tab",{active:n.activeTab===a.id}]),onClick:l=>i.setActiveTab(a.id)},[r("span",l0,f(a.icon),1),r("span",c0,f(a.title),1),r("span",d0,f(i.getTabCount(a.id)),1)],10,a0))),128))])])]),r("section",u0,[r("div",f0,[r("div",h0,[n.activeTab==="aiagents"?(b(),k("div",p0,[r("div",g0,[r("h2",null,f(e.$t("profile.myAIAgents","My AI Agents")),1),r("button",{class:"btn btn-primary",onClick:t[2]||(t[2]=(...a)=>i.createNewAgent&&i.createNewAgent(...a))},[t[17]||(t[17]=r("i",{class:"btn-icon"},"➕",-1)),Y(" "+f(e.$t("profile.createAgent","Create New Agent")),1)])]),r("div",m0,[(b(!0),k(q,null,K(n.userAIAgents,a=>(b(),k("div",{key:a.id,class:"agent-card"},[r("div",v0,[r("div",w0,[r("img",{src:a.avatar||"/src/assets/images/logo.png",alt:a.name},null,8,y0)]),r("div",b0,[r("h3",k0,f(a.name),1),r("p",_0,f(a.description),1),r("div",S0,[r("span",{class:J(["agent-status",a.status])},f(e.$t(`profile.status.${a.status}`,a.status)),3),r("span",A0,f(i.formatDate(a.createdAt)),1)])])]),r("div",C0,[r("div",T0,[r("span",$0,f(e.$t("profile.runs","Runs")),1),r("span",x0,f(a.runs||0),1)]),r("div",I0,[r("span",E0,f(e.$t("profile.success","Success Rate")),1),r("span",P0,f(a.successRate||0)+"%",1)])]),r("div",N0,[r("button",{class:"action-btn",onClick:l=>i.editAgent(a)},[t[18]||(t[18]=r("i",{class:"action-icon"},"✏️",-1)),Y(" "+f(e.$t("profile.edit","Edit")),1)],8,L0),r("button",{class:"action-btn",onClick:l=>i.runAgent(a)},[t[19]||(t[19]=r("i",{class:"action-icon"},"▶️",-1)),Y(" "+f(e.$t("profile.run","Run")),1)],8,R0),r("button",{class:"action-btn danger",onClick:l=>i.deleteAgent(a)},[t[20]||(t[20]=r("i",{class:"action-icon"},"🗑️",-1)),Y(" "+f(e.$t("profile.delete","Delete")),1)],8,M0)])]))),128))])])):n.activeTab==="community"?(b(),k("div",O0,[r("div",D0,[r("h2",null,f(e.$t("profile.myCommunityContent","My Community Content")),1),r("button",{class:"btn btn-primary",onClick:t[3]||(t[3]=(...a)=>i.createNewPost&&i.createNewPost(...a))},[t[21]||(t[21]=r("i",{class:"btn-icon"},"✍️",-1)),Y(" "+f(e.$t("profile.createPost","Create Post")),1)])]),r("div",W0,[(b(!0),k(q,null,K(n.userPosts,a=>(b(),k("div",{key:a.id,class:"post-card"},[r("div",F0,[r("div",U0,[r("span",H0,f(i.getPostTypeIcon(a.type)),1),r("span",B0,f(e.$t(`profile.postType.${a.type}`,a.type)),1)]),r("div",z0,f(i.formatDate(a.createdAt)),1)]),r("div",V0,[r("h3",j0,f(a.title||a.content.substring(0,50)+"..."),1),r("p",q0,f(a.content.substring(0,150))+f(a.content.length>150?"...":""),1),a.images&&a.images.length?(b(),k("div",G0,[(b(!0),k(q,null,K(a.images.slice(0,3),(l,c)=>(b(),k("img",{key:c,src:l,alt:`Post image ${c+1}`},null,8,J0))),128)),a.images.length>3?(b(),k("div",Y0,"+"+f(a.images.length-3),1)):B("",!0)])):B("",!0)]),r("div",K0,[r("div",X0,[t[22]||(t[22]=r("span",{class:"stat-icon"},"❤️",-1)),r("span",Z0,f(a.likes||0),1)]),r("div",Q0,[t[23]||(t[23]=r("span",{class:"stat-icon"},"💬",-1)),r("span",e_,f(a.comments||0),1)]),r("div",t_,[t[24]||(t[24]=r("span",{class:"stat-icon"},"👁️",-1)),r("span",s_,f(a.views||0),1)])]),r("div",o_,[r("button",{class:"action-btn",onClick:l=>i.viewPost(a)},[t[25]||(t[25]=r("i",{class:"action-icon"},"👁️",-1)),Y(" "+f(e.$t("profile.view","View")),1)],8,n_),r("button",{class:"action-btn",onClick:l=>i.editPost(a)},[t[26]||(t[26]=r("i",{class:"action-icon"},"✏️",-1)),Y(" "+f(e.$t("profile.edit","Edit")),1)],8,i_),r("button",{class:"action-btn danger",onClick:l=>i.deletePost(a)},[t[27]||(t[27]=r("i",{class:"action-icon"},"🗑️",-1)),Y(" "+f(e.$t("profile.delete","Delete")),1)],8,r_)])]))),128))])])):n.activeTab==="marketplace"?(b(),k("div",a_,[r("div",l_,[(b(!0),k(q,null,K(n.marketplaceTabs,a=>(b(),k("button",{key:a.id,class:J(["market-tab",{active:n.activeMarketTab===a.id}]),onClick:l=>i.setActiveMarketTab(a.id)},[r("span",d_,f(a.icon),1),r("span",u_,f(a.title),1)],10,c_))),128))]),n.activeMarketTab==="selling"?(b(),k("div",f_,[r("div",h_,[r("h3",null,f(e.$t("profile.myProducts","My Products")),1),r("button",{class:"btn btn-primary",onClick:t[4]||(t[4]=(...a)=>i.addNewProduct&&i.addNewProduct(...a))},[t[28]||(t[28]=r("i",{class:"btn-icon"},"➕",-1)),Y(" "+f(e.$t("profile.addProduct","Add Product")),1)])]),r("div",p_,[(b(!0),k(q,null,K(n.userProducts,a=>(b(),k("div",{key:a.id,class:"product-card"},[r("div",g_,[r("img",{src:a.image||"/src/assets/images/logo.png",alt:a.name},null,8,m_),r("div",{class:J(["product-status",a.status])},f(e.$t(`profile.productStatus.${a.status}`,a.status)),3)]),r("div",v_,[r("h4",w_,f(a.name),1),r("p",y_,"$"+f(a.price),1),r("div",b_,[r("span",k_,"👁️ "+f(a.views||0),1),r("span",__,"❤️ "+f(a.likes||0),1),r("span",S_,"🛒 "+f(a.sales||0),1)])]),r("div",A_,[r("button",{class:"action-btn",onClick:l=>i.editProduct(a)},f(e.$t("profile.edit","Edit")),9,C_),r("button",{class:"action-btn",onClick:l=>i.viewProductStats(a)},f(e.$t("profile.stats","Stats")),9,T_)])]))),128))])])):n.activeMarketTab==="purchases"?(b(),k("div",$_,[r("div",x_,[r("h3",null,f(e.$t("profile.purchaseHistory","Purchase History")),1)]),r("div",I_,[(b(!0),k(q,null,K(n.userPurchases,a=>(b(),k("div",{key:a.id,class:"transaction-card"},[r("div",E_,[r("img",{src:a.productImage,alt:a.productName},null,8,P_)]),r("div",N_,[r("h4",L_,f(a.productName),1),r("p",R_,f(e.$t("profile.seller","Seller"))+": "+f(a.sellerName),1),r("p",M_,f(i.formatDate(a.purchaseDate)),1)]),r("div",O_,[r("div",D_,"$"+f(a.price),1),r("div",{class:J(["transaction-status",a.status])},f(e.$t(`profile.transactionStatus.${a.status}`,a.status)),3)]),r("div",W_,[r("button",{class:"action-btn",onClick:l=>i.viewOrder(a)},f(e.$t("profile.viewOrder","View Order")),9,F_),a.status==="delivered"?(b(),k("button",{key:0,class:"action-btn",onClick:l=>i.leaveReview(a)},f(e.$t("profile.review","Review")),9,U_)):B("",!0)])]))),128))])])):n.activeMarketTab==="sales"?(b(),k("div",H_,[r("div",B_,[r("h3",null,f(e.$t("profile.salesHistory","Sales History")),1)]),r("div",z_,[(b(!0),k(q,null,K(n.userSales,a=>(b(),k("div",{key:a.id,class:"transaction-card"},[r("div",V_,[r("img",{src:a.productImage,alt:a.productName},null,8,j_)]),r("div",q_,[r("h4",G_,f(a.productName),1),r("p",J_,f(e.$t("profile.buyer","Buyer"))+": "+f(a.buyerName),1),r("p",Y_,f(i.formatDate(a.saleDate)),1)]),r("div",K_,[r("div",X_,"$"+f(a.price),1),r("div",{class:J(["transaction-status",a.status])},f(e.$t(`profile.transactionStatus.${a.status}`,a.status)),3)]),r("div",Z_,[r("button",{class:"action-btn",onClick:l=>i.viewSaleOrder(a)},f(e.$t("profile.viewOrder","View Order")),9,Q_),a.status==="pending"?(b(),k("button",{key:0,class:"action-btn",onClick:l=>i.processOrder(a)},f(e.$t("profile.process","Process")),9,eS)):B("",!0)])]))),128))])])):B("",!0)])):n.activeTab==="settings"?(b(),k("div",tS,[r("div",sS,[r("div",oS,[r("h3",null,f(e.$t("profile.accountSettings","Account Settings")),1),r("div",nS,[r("div",iS,[r("label",null,f(e.$t("profile.username","Username")),1),ue(r("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=a=>n.userInfo.username=a)},null,512),[[ye,n.userInfo.username]])]),r("div",rS,[r("label",null,f(e.$t("profile.email","Email")),1),ue(r("input",{type:"email","onUpdate:modelValue":t[6]||(t[6]=a=>n.userInfo.email=a)},null,512),[[ye,n.userInfo.email]])]),r("div",aS,[r("label",null,f(e.$t("profile.bio","Bio")),1),ue(r("textarea",{"onUpdate:modelValue":t[7]||(t[7]=a=>n.userInfo.bio=a),rows:"3",placeholder:e.$t("profile.bioPlaceholder","Tell us about yourself...")},null,8,lS),[[ye,n.userInfo.bio]])])])]),r("div",cS,[r("h3",null,f(e.$t("profile.privacy","Privacy Settings")),1),r("div",dS,[r("div",uS,[r("label",fS,[ue(r("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=a=>n.settings.publicProfile=a)},null,512),[[vs,n.settings.publicProfile]]),t[29]||(t[29]=r("span",{class:"slider"},null,-1))]),r("div",hS,[r("span",pS,f(e.$t("profile.publicProfile","Public Profile")),1),r("span",gS,f(e.$t("profile.publicProfileDesc","Allow others to view your profile")),1)])]),r("div",mS,[r("label",vS,[ue(r("input",{type:"checkbox","onUpdate:modelValue":t[9]||(t[9]=a=>n.settings.showActivity=a)},null,512),[[vs,n.settings.showActivity]]),t[30]||(t[30]=r("span",{class:"slider"},null,-1))]),r("div",wS,[r("span",yS,f(e.$t("profile.showActivity","Show Activity")),1),r("span",bS,f(e.$t("profile.showActivityDesc","Display your recent activities")),1)])])])]),r("div",kS,[r("h3",null,f(e.$t("profile.notifications","Notification Settings")),1),r("div",_S,[r("div",SS,[r("label",AS,[ue(r("input",{type:"checkbox","onUpdate:modelValue":t[10]||(t[10]=a=>n.settings.emailNotifications=a)},null,512),[[vs,n.settings.emailNotifications]]),t[31]||(t[31]=r("span",{class:"slider"},null,-1))]),r("div",CS,[r("span",TS,f(e.$t("profile.emailNotifications","Email Notifications")),1),r("span",$S,f(e.$t("profile.emailNotificationsDesc","Receive notifications via email")),1)])]),r("div",xS,[r("label",IS,[ue(r("input",{type:"checkbox","onUpdate:modelValue":t[11]||(t[11]=a=>n.settings.marketingEmails=a)},null,512),[[vs,n.settings.marketingEmails]]),t[32]||(t[32]=r("span",{class:"slider"},null,-1))]),r("div",ES,[r("span",PS,f(e.$t("profile.marketingEmails","Marketing Emails")),1),r("span",NS,f(e.$t("profile.marketingEmailsDesc","Receive promotional content")),1)])])])]),r("div",LS,[r("button",{class:"btn btn-primary",onClick:t[12]||(t[12]=(...a)=>i.saveSettings&&i.saveSettings(...a))},[t[33]||(t[33]=r("i",{class:"btn-icon"},"💾",-1)),Y(" "+f(e.$t("profile.saveChanges","Save Changes")),1)]),r("button",{class:"btn btn-danger",onClick:t[13]||(t[13]=(...a)=>i.deleteAccount&&i.deleteAccount(...a))},[t[34]||(t[34]=r("i",{class:"btn-icon"},"⚠️",-1)),Y(" "+f(e.$t("profile.deleteAccount","Delete Account")),1)])])])])):B("",!0)])])])])}const MS=xt(Mk,[["render",RS],["__scopeId","data-v-5aa9baad"]]);const OS={computed:{$currentLanguage(){return ut.value}},methods:{$t(e,t=""){return this.$currentLanguage,on.t(e,t)}}};class DS{constructor(){this.container=null,this.messageQueue=[],this.isProcessing=!1,this.init()}init(){this.container=document.createElement("div"),this.container.id="message-container",this.container.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 10000;
      pointer-events: none;
    `,document.body.appendChild(this.container)}show(t,s="info",o=3e3){const n=this.createMessage(t,s);return this.container.appendChild(n),setTimeout(()=>{n.style.transform="translateX(0)",n.style.opacity="1"},10),setTimeout(()=>{this.hideMessage(n)},o),n}createMessage(t,s){const o=document.createElement("div");o.className=`message-toast message-${s}`;const n={success:{bg:"linear-gradient(45deg, #4caf50, #8bc34a)",icon:"✅"},error:{bg:"linear-gradient(45deg, #f44336, #e91e63)",icon:"❌"},warning:{bg:"linear-gradient(45deg, #ff9800, #ffc107)",icon:"⚠️"},info:{bg:"linear-gradient(45deg, #2196f3, #03a9f4)",icon:"ℹ️"}},i=n[s]||n.info;o.style.cssText=`
      background: ${i.bg};
      color: white;
      padding: 12px 16px;
      border-radius: 8px;
      margin-bottom: 10px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      transform: translateX(100%);
      opacity: 0;
      transition: all 0.3s ease;
      pointer-events: auto;
      font-size: 14px;
      font-weight: 500;
      max-width: 350px;
      word-wrap: break-word;
      display: flex;
      align-items: center;
      gap: 8px;
    `,o.innerHTML=`
      <span class="message-icon">${i.icon}</span>
      <span class="message-text">${t}</span>
      <button class="message-close" onclick="this.parentElement.style.transform='translateX(100%)'; setTimeout(() => this.parentElement.remove(), 300)">×</button>
    `;const a=o.querySelector(".message-close");return a.style.cssText=`
      background: none;
      border: none;
      color: white;
      font-size: 18px;
      cursor: pointer;
      padding: 0;
      margin-left: auto;
      width: 20px;
      height: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      transition: background 0.2s ease;
    `,a.addEventListener("mouseenter",()=>{a.style.background="rgba(255, 255, 255, 0.2)"}),a.addEventListener("mouseleave",()=>{a.style.background="none"}),o}hideMessage(t){t.style.transform="translateX(100%)",t.style.opacity="0",setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},300)}success(t,s=3e3){return this.show(t,"success",s)}error(t,s=5e3){return this.show(t,"error",s)}warning(t,s=4e3){return this.show(t,"warning",s)}info(t,s=3e3){return this.show(t,"info",s)}clear(){this.container.querySelectorAll(".message-toast").forEach(s=>this.hideMessage(s))}}const gs=new DS,WS={success:(e,t)=>gs.success(e,t),error:(e,t)=>gs.error(e,t),warning:(e,t)=>gs.warning(e,t),info:(e,t)=>gs.info(e,t),clear:()=>gs.clear()},FS=[{path:"/",name:"Home",component:Kf},{path:"/frontend/ai-agent",name:"AIAgent",component:Kw,meta:{requiresAuth:!0}},{path:"/frontend/community",name:"Community",component:r1,meta:{requiresAuth:!0}},{path:"/frontend/marketplace",name:"Marketplace",component:A1,meta:{requiresAuth:!0}},{path:"/frontend/profile",name:"Profile",component:MS,meta:{requiresAuth:!0}},{path:"/frontend/about",name:"About",component:N1},{path:"/frontend/login",name:"Login",component:ek},{path:"/frontend/register",name:"Register",component:Rk}],La=nu({history:Ld(),routes:FS,scrollBehavior(e,t,s){return s||{top:0}}});La.beforeEach((e,t,s)=>{if(e.meta.requiresAuth&&!lo()){console.log("用户未登录，重定向到登录页面"),localStorage.setItem("redirect_after_login",e.fullPath),s("/frontend/login");return}if(lo()&&(e.path==="/frontend/login"||e.path==="/frontend/register")){console.log("用户已登录，重定向到首页"),s("/");return}s()});const To=ed(_u);To.mixin(OS);To.config.globalProperties.$message=WS;To.use(La);To.mount("#app");
